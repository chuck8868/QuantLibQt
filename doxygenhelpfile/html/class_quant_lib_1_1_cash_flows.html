<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::CashFlows Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_cash_flows.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pri-methods">Private Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::CashFlows Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::CashFlows" -->
<p>cashflow-analysis functions  
 <a href="class_quant_lib_1_1_cash_flows.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html">cashflows.hpp</a>&gt;</code></p>

<p><a href="class_quant_lib_1_1_cash_flows-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Date functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a7ede1ef38f187ad5ecf6480ed45d4d4f">startDate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#acb27a694faf2aa28ad595f351cf3f16c">maturityDate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a277c32adc5b297bb720fcaf4112a186b">isExpired</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td colspan="2"><div class="groupHeader">CashFlow functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static Leg::const_reverse_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#af9b58378d658ccae436e77de19639b93">previousCashFlow</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the last cashflow paying before or at the given date  <a href="#af9b58378d658ccae436e77de19639b93"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static Leg::const_iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb">nextCashFlow</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">the first cashflow paying after the given date  <a href="#afa7dce15f8c93c1b77e863e239f256eb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a2c38c32b8aa1c8f15b447420675f48b0">previousCashFlowDate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a7903ee07fdcc719da731a85d8d21f070">nextCashFlowDate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#ae067857c64aad7fc5ccb4b9644b7f56f">previousCashFlowAmount</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#abfa360cecb6270bb558732cbed409844">nextCashFlowAmount</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td colspan="2"><div class="groupHeader">Coupon inspectors</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#ab9b564e63f9715567daac2e7fd8b5dd1">previousCouponRate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#aad74bc3729ee56a3ce860c689d9b0e38">nextCouponRate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a09bf977fe8977d2a6fbf4cfdee1af53c">nominal</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a9e538436ed27c36980e1fc5304262801">accrualStartDate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a1f6beae183132ce3a0da018802a08630">accrualEndDate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#ae79940b99e28bb4a52113318ecbe6ba5">referencePeriodStart</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a6d543b624f949434d9a829225dc4d071">referencePeriodEnd</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a4259a935f350056ff143b3070db03467">accrualPeriod</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a8ee2a478658b664ea4ad96babd0ca719">BigInteger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#abace0ebccb104b2a327a61b90a77d8ca">accrualDays</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a41e495f5aa3a20df38dc2829c559d7c2">accruedPeriod</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a8ee2a478658b664ea4ad96babd0ca719">BigInteger</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a9d069fb896984425b76ad62197d69e0a">accruedDays</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a0dc332c86f3638dae1f581cf812b44f8">accruedAmount</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td colspan="2"><div class="groupHeader">YieldTermStructure functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">npv</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;discountCurve, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NPV of the cash flows.  <a href="#ac01b0e9915da82b959050a85f0573a32"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e">bps</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;discountCurve, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Basis-point sensitivity of the cash flows.  <a href="#a776ef7f8264224b4acaab4db0478cd3e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a5b47a4cd3d8d615efb7a56d55b546018">npvbps</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;discountCurve, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">npv</a>, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e">bps</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NPV and BPS of the cash flows.  <a href="#a5b47a4cd3d8d615efb7a56d55b546018"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#af0edc23afcfe034f7d9cb23b7cc69e57">atmRate</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;discountCurve, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">npv</a>=<a class="el" href="class_quant_lib_1_1_null.html">Null</a>&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">At-the-money rate of the cash flows.  <a href="#af0edc23afcfe034f7d9cb23b7cc69e57"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Yield (a.k.a. Internal Rate of Return, i.e. IRR) functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a64a1e341f38e3d7f93bb325426c1aeba">npv</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NPV of the cash flows.  <a href="#a64a1e341f38e3d7f93bb325426c1aeba"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a4d38ba2a3048c55a890509e8847cb7c0">npv</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a4a5126e4b8da4aaafb2c501f84026846">bps</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Basis-point sensitivity of the cash flows.  <a href="#a4a5126e4b8da4aaafb2c501f84026846"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#ad6b2cfe32fd2de2ad32885537dd1e9d0">bps</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">npv</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> accuracy=1.0e-10, Size maxIterations=100, Rate guess=0.05)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Implied internal rate of return.  <a href="#adc93e9e6a163c8eace956efa1e80c679"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a589b61017bd4d60e113041b31126eff0">duration</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, <a class="el" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4">Duration::Type</a> <a class="el" href="class_traits_1_1template_01curve_1_1type.html">type</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cash-flow duration.  <a href="#a589b61017bd4d60e113041b31126eff0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a2fb0b0d19c7248bfa8f685f154cc6ce0">duration</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4">Duration::Type</a> <a class="el" href="class_traits_1_1template_01curve_1_1type.html">type</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#af67ed24af5a5517cd47192899ee53837">convexity</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Cash-flow convexity.  <a href="#af67ed24af5a5517cd47192899ee53837"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a5a7642ddfa4d853b35874c1003a45ac6">convexity</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a56faa54b15f6e8f553864a74983bae84">basisPointValue</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Basis-point value.  <a href="#a56faa54b15f6e8f553864a74983bae84"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#ace0c41eb0f02683b65db1792575494f4">basisPointValue</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a6d383942f59f4014d31d5292eee017f8">yieldValueBasisPoint</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;<a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Yield value of a basis point.  <a href="#a6d383942f59f4014d31d5292eee017f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a6775ddbe980e65077ce1048e7f859159">yieldValueBasisPoint</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">yield</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td colspan="2"><div class="groupHeader">Z-spread functions</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a39c99c26903e4b788aeea5c9c8007c4a">npv</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;discount, <a class="el" href="namespace_quant_lib.html#ad61d2e1a3f01154233de0d5fbb85177c">Spread</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#af082816f1d1c51b084888b86c58ed2c6">zSpread</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>())</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NPV of the cash flows.  <a href="#a39c99c26903e4b788aeea5c9c8007c4a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#ad61d2e1a3f01154233de0d5fbb85177c">Spread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#af082816f1d1c51b084888b86c58ed2c6">zSpread</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">npv</a>, const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> accuracy=1.0e-10, Size maxIterations=100, Rate guess=0.0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">implied Z-spread.  <a href="#af082816f1d1c51b084888b86c58ed2c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespace_quant_lib.html#ad61d2e1a3f01154233de0d5fbb85177c">Spread</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a3307f811cb500b51981ac826576a7a19">zSpread</a> (const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;leg, const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;d, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">npv</a>, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a> compounding, <a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a> frequency, <a class="el" href="classbool.html">bool</a> includeSettlementDateFlows, <a class="el" href="class_quant_lib_1_1_date.html">Date</a> settlementDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="class_quant_lib_1_1_date.html">Date</a> npvDate=<a class="el" href="class_quant_lib_1_1_date.html">Date</a>(), <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> accuracy=1.0e-10, Size maxIterations=100, Rate guess=0.0)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">deprecated implied Z-spread.  <a href="#a3307f811cb500b51981ac826576a7a19"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a410a6634bc4020fa3945b0780b449324">CashFlows</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_cash_flows.html#aa8adaecf84e61a43ee68597f4ce92670">CashFlows</a> (const <a class="el" href="class_quant_lib_1_1_cash_flows.html">CashFlows</a> &amp;)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>cashflow-analysis functions </p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000001">Todo:</a></b></dt><dd>add tests </dd></dl>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html#l00041">41</a> of file <a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html">cashflows.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a410a6634bc4020fa3945b0780b449324"></a><!-- doxytag: member="QuantLib::CashFlows::CashFlows" ref="a410a6634bc4020fa3945b0780b449324" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a410a6634bc4020fa3945b0780b449324">QuantLib::CashFlows::CashFlows</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="aa8adaecf84e61a43ee68597f4ce92670"></a><!-- doxytag: member="QuantLib::CashFlows::CashFlows" ref="aa8adaecf84e61a43ee68597f4ce92670" args="(const CashFlows &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_cash_flows.html#a410a6634bc4020fa3945b0780b449324">QuantLib::CashFlows::CashFlows</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_cash_flows.html">CashFlows</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abace0ebccb104b2a327a61b90a77d8ca"></a><!-- doxytag: member="QuantLib::CashFlows::accrualDays" ref="abace0ebccb104b2a327a61b90a77d8ca" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a8ee2a478658b664ea4ad96babd0ca719">BigInteger</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#abace0ebccb104b2a327a61b90a77d8ca">QuantLib::CashFlows::accrualDays</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00335">335</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="coupon_8cpp_source.html#l00048">QuantLib::Coupon::accrualDays()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> 0;

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;accrualDays();
        }
        <span class="keywordflow">return</span> 0;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a1f6beae183132ce3a0da018802a08630"></a><!-- doxytag: member="QuantLib::CashFlows::accrualEndDate" ref="a1f6beae183132ce3a0da018802a08630" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a1f6beae183132ce3a0da018802a08630">QuantLib::CashFlows::accrualEndDate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00267">267</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="coupon_8hpp_source.html#l00101">QuantLib::Coupon::accrualEndDate()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> Date();

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;accrualEndDate();
        }
        <span class="keywordflow">return</span> Date();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a4259a935f350056ff143b3070db03467"></a><!-- doxytag: member="QuantLib::CashFlows::accrualPeriod" ref="a4259a935f350056ff143b3070db03467" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a4259a935f350056ff143b3070db03467">QuantLib::CashFlows::accrualPeriod</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00318">318</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="coupon_8cpp_source.html#l00041">QuantLib::Coupon::accrualPeriod()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> 0;

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;accrualPeriod();
        }
        <span class="keywordflow">return</span> 0;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9e538436ed27c36980e1fc5304262801"></a><!-- doxytag: member="QuantLib::CashFlows::accrualStartDate" ref="a9e538436ed27c36980e1fc5304262801" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a9e538436ed27c36980e1fc5304262801">QuantLib::CashFlows::accrualStartDate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00250">250</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="coupon_8hpp_source.html#l00097">QuantLib::Coupon::accrualStartDate()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> Date();

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;accrualStartDate();
        }
        <span class="keywordflow">return</span> Date();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a0dc332c86f3638dae1f581cf812b44f8"></a><!-- doxytag: member="QuantLib::CashFlows::accruedAmount" ref="a0dc332c86f3638dae1f581cf812b44f8" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a0dc332c86f3638dae1f581cf812b44f8">QuantLib::CashFlows::accruedAmount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00386">386</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="class_quant_lib_1_1_coupon.html#a221cdef4475e85ef50fb8173f0b9b984">QuantLib::Coupon::accruedAmount()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> 0.0;

        Date paymentDate = (*cf)-&gt;date();
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> result = 0.0;
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                result += cp-&gt;accruedAmount(settlementDate);
        }
        <span class="keywordflow">return</span> result;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a9d069fb896984425b76ad62197d69e0a"></a><!-- doxytag: member="QuantLib::CashFlows::accruedDays" ref="a9d069fb896984425b76ad62197d69e0a" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a8ee2a478658b664ea4ad96babd0ca719">BigInteger</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a9d069fb896984425b76ad62197d69e0a">QuantLib::CashFlows::accruedDays</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00369">369</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="coupon_8cpp_source.html#l00064">QuantLib::Coupon::accruedDays()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                           {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> 0;

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;accruedDays(settlementDate);
        }
        <span class="keywordflow">return</span> 0;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a41e495f5aa3a20df38dc2829c559d7c2"></a><!-- doxytag: member="QuantLib::CashFlows::accruedPeriod" ref="a41e495f5aa3a20df38dc2829c559d7c2" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a41e495f5aa3a20df38dc2829c559d7c2">QuantLib::CashFlows::accruedPeriod</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00352">352</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="coupon_8cpp_source.html#l00053">QuantLib::Coupon::accruedPeriod()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> 0;

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;accruedPeriod(settlementDate);
        }
        <span class="keywordflow">return</span> 0;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="af0edc23afcfe034f7d9cb23b7cc69e57"></a><!-- doxytag: member="QuantLib::CashFlows::atmRate" ref="af0edc23afcfe034f7d9cb23b7cc69e57" args="(const Leg &amp;leg, const YieldTermStructure &amp;discountCurve, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date(), Real npv=Null&lt; Real &gt;())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#af0edc23afcfe034f7d9cb23b7cc69e57">QuantLib::CashFlows::atmRate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;&#160;</td>
          <td class="paramname"><em>discountCurve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>npv</em> = <code><a class="el" href="class_quant_lib_1_1_null.html">Null</a>&lt;<a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>At-the-money rate of the cash flows. </p>
<p>The result is the fixed rate for which a fixed rate cash flow vector, equivalent to the input vector, has the required NPV according to the given term structure. If the required NPV is not given, the input cash flow vector's NPV is used instead. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00506">506</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00425">QuantLib::anonymous_namespace{cashflows.cpp}::basisPoint_</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00454">bps()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00477">npvbps()</a>, and <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>.</p>

<p>Referenced by <a class="el" href="makeyoyinflationcapfloor_8cpp_source.html#l00046">QuantLib::MakeYoYInflationCapFloor::operator boost::shared_ptr&lt; YoYInflationCapFloor &gt;()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(!leg.empty(), <span class="stringliteral">&quot;empty leg&quot;</span>);

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">bps</a> = 0.0;
        <span class="keywordflow">if</span> (<a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>==Null&lt;Real&gt;())
            <a class="code" href="class_quant_lib_1_1_cash_flows.html#a5b47a4cd3d8d615efb7a56d55b546018" title="NPV and BPS of the cash flows.">CashFlows::npvbps</a>(leg, discountCurve,
                              includeSettlementDateFlows,
                              settlementDate, npvDate,
                              <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>, bps);
        <span class="keywordflow">else</span>
            bps = <a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">CashFlows::bps</a>(leg, discountCurve,
                                 includeSettlementDateFlows,
                                 settlementDate, npvDate);
        <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#a21eba077553d9b79f56c59d073c0a08a">basisPoint_</a>*<a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>/<a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">bps</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a56faa54b15f6e8f553864a74983bae84"></a><!-- doxytag: member="QuantLib::CashFlows::basisPointValue" ref="a56faa54b15f6e8f553864a74983bae84" args="(const Leg &amp;leg, const InterestRate &amp;yield, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a56faa54b15f6e8f553864a74983bae84">QuantLib::CashFlows::basisPointValue</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Basis-point value. </p>
<p>Obtained by setting dy = 0.0001 in the 2nd-order Taylor series expansion. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00987">987</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00915">convexity()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00866">duration()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, <a class="el" href="duration_8hpp_source.html#l00036">QuantLib::Duration::Modified</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00580">QuantLib::anonymous_namespace{cashflows.cpp}::modifiedDuration()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00428">npv()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01021">basisPointValue()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a> = <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">CashFlows::npv</a>(leg, y,
                                  includeSettlementDateFlows,
                                  settlementDate, npvDate);
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#af27d06e0c9b1f8e1406153ae35129f60">modifiedDuration</a> = <a class="code" href="class_quant_lib_1_1_cash_flows.html#a589b61017bd4d60e113041b31126eff0" title="Cash-flow duration.">CashFlows::duration</a>(leg, y,
                                                    <a class="code" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4af3c1d40d4a2ad01728f4008d55e50aae">Duration::Modified</a>,
                                                    includeSettlementDateFlows,
                                                    settlementDate, npvDate);
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="class_quant_lib_1_1_cash_flows.html#af67ed24af5a5517cd47192899ee53837" title="Cash-flow convexity.">convexity</a> = <a class="code" href="class_quant_lib_1_1_cash_flows.html#af67ed24af5a5517cd47192899ee53837" title="Cash-flow convexity.">CashFlows::convexity</a>(leg, y,
                                              includeSettlementDateFlows,
                                              settlementDate, npvDate);
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> delta = -modifiedDuration*<a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> gamma = (convexity/100.0)*<a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>;

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> shift = 0.0001;
        delta *= shift;
        gamma *= shift*shift;

        <span class="keywordflow">return</span> delta + 0.5*gamma;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ace0c41eb0f02683b65db1792575494f4"></a><!-- doxytag: member="QuantLib::CashFlows::basisPointValue" ref="ace0c41eb0f02683b65db1792575494f4" args="(const Leg &amp;leg, Rate yield, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a56faa54b15f6e8f553864a74983bae84">QuantLib::CashFlows::basisPointValue</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01021">1021</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00987">basisPointValue()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#a56faa54b15f6e8f553864a74983bae84" title="Basis-point value.">basisPointValue</a>(leg, InterestRate(<a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>, dc, comp, freq),
                               includeSettlementDateFlows,
                               settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a776ef7f8264224b4acaab4db0478cd3e"></a><!-- doxytag: member="QuantLib::CashFlows::bps" ref="a776ef7f8264224b4acaab4db0478cd3e" args="(const Leg &amp;leg, const YieldTermStructure &amp;discountCurve, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e">QuantLib::CashFlows::bps</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;&#160;</td>
          <td class="paramname"><em>discountCurve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Basis-point sensitivity of the cash flows. </p>
<p>The result is the change in NPV due to a uniform 1-basis-point change in the rate paid by the cash flows. The change for each coupon is discounted according to the given term structure. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00454">454</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00425">QuantLib::anonymous_namespace{cashflows.cpp}::basisPoint_</a>, <a class="el" href="yieldtermstructure_8hpp_source.html#l00185">QuantLib::YieldTermStructure::discount()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, and <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00506">atmRate()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00809">bps()</a>, <a class="el" href="blackswaptionengine_8cpp_source.html#l00066">QuantLib::BlackSwaptionEngine::calculate()</a>, and <a class="el" href="cmsmarket_8cpp_source.html#l00113">QuantLib::CmsMarket::performCalculations()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        BPSCalculator calc(discountCurve);
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            <span class="keywordflow">if</span> (!leg[i]-&gt;hasOccurred(settlementDate,
                                     includeSettlementDateFlows))
                leg[i]-&gt;accept(calc);
        }
        <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#a21eba077553d9b79f56c59d073c0a08a">basisPoint_</a>*calc.result()/discountCurve.discount(npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a4a5126e4b8da4aaafb2c501f84026846"></a><!-- doxytag: member="QuantLib::CashFlows::bps" ref="a4a5126e4b8da4aaafb2c501f84026846" args="(const Leg &amp;leg, const InterestRate &amp;yield, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e">QuantLib::CashFlows::bps</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Basis-point sensitivity of the cash flows. </p>
<p>The result is the change in NPV due to a uniform 1-basis-point change in the rate paid by the cash flows. The change for each coupon is discounted according to the given constant interest rate. The result is affected by the choice of the interest-rate compounding and the relative frequency and day counter. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00809">809</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00454">bps()</a>, <a class="el" href="interestrate_8hpp_source.html#l00060">QuantLib::InterestRate::compounding()</a>, <a class="el" href="interestrate_8hpp_source.html#l00059">QuantLib::InterestRate::dayCounter()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="test-suite_2utilities_8cpp_source.html#l00058">QuantLib::flatRate()</a>, <a class="el" href="interestrate_8hpp_source.html#l00061">QuantLib::InterestRate::frequency()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, and <a class="el" href="interestrate_8hpp_source.html#l00058">QuantLib::InterestRate::rate()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {

        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        FlatForward <a class="code" href="namespace_quant_lib.html#a1309465a856634dcd0caff78af7ca223">flatRate</a>(settlementDate, <a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>.rate(), <a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>.dayCounter(),
                             <a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>.compounding(), <a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>.frequency());
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">bps</a>(leg, <a class="code" href="namespace_quant_lib.html#a1309465a856634dcd0caff78af7ca223">flatRate</a>,
                   includeSettlementDateFlows,
                   settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad6b2cfe32fd2de2ad32885537dd1e9d0"></a><!-- doxytag: member="QuantLib::CashFlows::bps" ref="ad6b2cfe32fd2de2ad32885537dd1e9d0" args="(const Leg &amp;leg, Rate yield, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e">QuantLib::CashFlows::bps</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00831">831</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00454">bps()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">bps</a>(leg, InterestRate(<a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>, dc, comp, freq),
                   includeSettlementDateFlows,
                   settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="af67ed24af5a5517cd47192899ee53837"></a><!-- doxytag: member="QuantLib::CashFlows::convexity" ref="af67ed24af5a5517cd47192899ee53837" args="(const Leg &amp;leg, const InterestRate &amp;yield, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#af67ed24af5a5517cd47192899ee53837">QuantLib::CashFlows::convexity</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cash-flow convexity. </p>
<p>The convexity of a string of cash flows is defined as </p>
<p class="formulaDsp">
\[ C = \frac{1}{P} \frac{\partial^2 P}{\partial y^2} \]
</p>
<p> where \( P \) is the present value of the cash flows according to the given IRR \( y \). </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00915">915</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::c</a>, <a class="el" href="compounding_8hpp_source.html#l00033">QuantLib::Compounded</a>, <a class="el" href="interestrate_8hpp_source.html#l00060">QuantLib::InterestRate::compounding()</a>, <a class="el" href="compounding_8hpp_source.html#l00034">QuantLib::Continuous</a>, <a class="el" href="interestrate_8hpp_source.html#l00059">QuantLib::InterestRate::dayCounter()</a>, <a class="el" href="interestrate_8hpp_source.html#l00072">QuantLib::InterestRate::discountFactor()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="interestrate_8hpp_source.html#l00061">QuantLib::InterestRate::frequency()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, <a class="el" href="matrices_8cpp_source.html#l00037">anonymous_namespace{matrices.cpp}::N</a>, <a class="el" href="errors_8hpp_source.html#l00062">QL_FAIL</a>, <a class="el" href="interestrate_8hpp_source.html#l00058">QuantLib::InterestRate::rate()</a>, <a class="el" href="compounding_8hpp_source.html#l00032">QuantLib::Simple</a>, <a class="el" href="compounding_8hpp_source.html#l00035">QuantLib::SimpleThenCompounded</a>, <a class="el" href="quantlibbenchmark_8cpp_source.html#l00150">anonymous_namespace{quantlibbenchmark.cpp}::t</a>, and <a class="el" href="daycounter_8hpp_source.html#l00126">QuantLib::DayCounter::yearFraction()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00987">basisPointValue()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00974">convexity()</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <span class="keyword">const</span> DayCounter&amp; dc = y.dayCounter();

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> P = 0.0;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> d2Pdy2 = 0.0;
        <a class="code" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b" title="interest rates">Rate</a> r = y.rate();
        <a class="code" href="namespace_quant_lib.html#a9adc2615d630d6006896b3402b09b03b" title="positive integer">Natural</a> <a class="code" href="namespaceanonymous__namespace_02matrices_8cpp_03.html#ac87ee18cd779f22a128d46ae455ac2f8">N</a> = y.frequency();
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            <span class="keywordflow">if</span> (!leg[i]-&gt;hasOccurred(settlementDate,
                                     includeSettlementDateFlows)) {
                <a class="code" href="class_time.html">Time</a> <a class="code" href="namespaceanonymous__namespace_02quantlibbenchmark_8cpp_03.html#a7a969063fde0030bd36b46055e824c34">t</a> = dc.yearFraction(npvDate,
                                         leg[i]-&gt;date());
                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#ad0cf80d5912ef85423efe32835d4603c">c</a> = leg[i]-&gt;amount();
                <a class="code" href="namespace_quant_lib.html#a05e8e288a4bdedfe5b4e16d8cec14f1c" title="discount factor between dates">DiscountFactor</a> B = y.discountFactor(t);
                P += c * B;
                <span class="keywordflow">switch</span> (y.compounding()) {
                  <span class="keywordflow">case</span> <a class="code" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265ba82b011cf5024ff4e4031afa165185934">Simple</a>:
                    d2Pdy2 += c * 2.0*B*B*B*t*<a class="code" href="namespaceanonymous__namespace_02quantlibbenchmark_8cpp_03.html#a7a969063fde0030bd36b46055e824c34">t</a>;
                    <span class="keywordflow">break</span>;
                  <span class="keywordflow">case</span> <a class="code" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265bad20ee0c1742383b76eabab94f8d05709">Compounded</a>:
                    d2Pdy2 += c * B*t*(N*t+1)/(N*(1+r/N)*(1+r/<a class="code" href="namespaceanonymous__namespace_02matrices_8cpp_03.html#ac87ee18cd779f22a128d46ae455ac2f8">N</a>));
                    <span class="keywordflow">break</span>;
                  <span class="keywordflow">case</span> <a class="code" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265baae77494393cf12a7dd3634b002d4ffda">Continuous</a>:
                    d2Pdy2 += c * B*t*<a class="code" href="namespaceanonymous__namespace_02quantlibbenchmark_8cpp_03.html#a7a969063fde0030bd36b46055e824c34">t</a>;
                    <span class="keywordflow">break</span>;
                  <span class="keywordflow">case</span> <a class="code" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265ba362e6db944d3ceec628d3b537d877c43" title="Simple up to the first period then Compounded.">SimpleThenCompounded</a>:
                    <span class="keywordflow">if</span> (t&lt;=1.0/N)
                        d2Pdy2 += c * 2.0*B*B*B*t*<a class="code" href="namespaceanonymous__namespace_02quantlibbenchmark_8cpp_03.html#a7a969063fde0030bd36b46055e824c34">t</a>;
                    <span class="keywordflow">else</span>
                        d2Pdy2 += c * B*t*(N*t+1)/(N*(1+r/N)*(1+r/<a class="code" href="namespaceanonymous__namespace_02matrices_8cpp_03.html#ac87ee18cd779f22a128d46ae455ac2f8">N</a>));
                    <span class="keywordflow">break</span>;
                  <span class="keywordflow">default</span>:
                    <a class="code" href="errors_8hpp.html#a8efe9cb3e67c8d0585e57b4d53c5d2fe" title="throw an error (possibly with file and line information)">QL_FAIL</a>(<span class="stringliteral">&quot;unknown compounding convention (&quot;</span> &lt;&lt;
                            <a class="code" href="namespace_quant_lib.html#a8ac1a45a37d8d3dda438a2e59e222620" title="integer number">Integer</a>(y.compounding()) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>);
                }
            }
        }

        <span class="keywordflow">if</span> (P == 0.0)
            <span class="comment">// no cashflows</span>
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">return</span> d2Pdy2/P;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a5a7642ddfa4d853b35874c1003a45ac6"></a><!-- doxytag: member="QuantLib::CashFlows::convexity" ref="a5a7642ddfa4d853b35874c1003a45ac6" args="(const Leg &amp;leg, Rate yield, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#af67ed24af5a5517cd47192899ee53837">QuantLib::CashFlows::convexity</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00974">974</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00915">convexity()</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#af67ed24af5a5517cd47192899ee53837" title="Cash-flow convexity.">convexity</a>(leg, InterestRate(<a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>, dc, comp, freq),
                         includeSettlementDateFlows,
                         settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a589b61017bd4d60e113041b31126eff0"></a><!-- doxytag: member="QuantLib::CashFlows::duration" ref="a589b61017bd4d60e113041b31126eff0" args="(const Leg &amp;leg, const InterestRate &amp;yield, Duration::Type type, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a589b61017bd4d60e113041b31126eff0">QuantLib::CashFlows::duration</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4">Duration::Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Cash-flow duration. </p>
<p>The simple duration of a string of cash flows is defined as </p>
<p class="formulaDsp">
\[ D_{\mathrm{simple}} = \frac{\sum t_i c_i B(t_i)}{\sum c_i B(t_i)} \]
</p>
<p> where \( c_i \) is the amount of the \( i \)-th cash flow, \( t_i \) is its payment time, and \( B(t_i) \) is the corresponding discount according to the passed yield.</p>
<p>The modified duration is defined as </p>
<p class="formulaDsp">
\[ D_{\mathrm{modified}} = -\frac{1}{P} \frac{\partial P}{\partial y} \]
</p>
<p> where \( P \) is the present value of the cash flows according to the given IRR \( y \).</p>
<p>The Macaulay duration is defined for a compounded IRR as </p>
<p class="formulaDsp">
\[ D_{\mathrm{Macaulay}} = \left( 1 + \frac{y}{N} \right) D_{\mathrm{modified}} \]
</p>
<p> where \( y \) is the IRR and \( N \) is the number of cash flows per year. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00866">866</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, <a class="el" href="duration_8hpp_source.html#l00036">QuantLib::Duration::Macaulay</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00636">QuantLib::anonymous_namespace{cashflows.cpp}::macaulayDuration()</a>, <a class="el" href="duration_8hpp_source.html#l00036">QuantLib::Duration::Modified</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00580">QuantLib::anonymous_namespace{cashflows.cpp}::modifiedDuration()</a>, <a class="el" href="errors_8hpp_source.html#l00062">QL_FAIL</a>, <a class="el" href="duration_8hpp_source.html#l00036">QuantLib::Duration::Simple</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00547">QuantLib::anonymous_namespace{cashflows.cpp}::simpleDuration()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00987">basisPointValue()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00900">duration()</a>, <a class="el" href="blackcallablebondengine_8cpp_source.html#l00077">QuantLib::BlackCallableFixedRateBondEngine::forwardPriceVolatility()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01034">yieldValueBasisPoint()</a>.</p>
<div class="fragment"><pre class="fragment">                                           {

        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <span class="keywordflow">switch</span> (<a class="code" href="class_traits_1_1template_01curve_1_1type.html">type</a>) {
          <span class="keywordflow">case</span> <a class="code" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4a70e2501bc31c4a4a149cff655db0d8d3">Duration::Simple</a>:
            <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#a2962d58115748e893effa3d793521059">simpleDuration</a>(leg, <a class="code" href="group__manips.html#gac9152aad6a69c41f5d30bb1dcb9b2236" title="output rates and spreads as percentages">rate</a>,
                                  includeSettlementDateFlows,
                                  settlementDate, npvDate);
          <span class="keywordflow">case</span> <a class="code" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4af3c1d40d4a2ad01728f4008d55e50aae">Duration::Modified</a>:
            <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#af27d06e0c9b1f8e1406153ae35129f60">modifiedDuration</a>(leg, <a class="code" href="group__manips.html#gac9152aad6a69c41f5d30bb1dcb9b2236" title="output rates and spreads as percentages">rate</a>,
                                    includeSettlementDateFlows,
                                    settlementDate, npvDate);
          <span class="keywordflow">case</span> <a class="code" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4aac942068dbd052cd7315db004503c10b">Duration::Macaulay</a>:
            <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#acf045f2f9d266f541f00ec4849607ff8">macaulayDuration</a>(leg, <a class="code" href="group__manips.html#gac9152aad6a69c41f5d30bb1dcb9b2236" title="output rates and spreads as percentages">rate</a>,
                                    includeSettlementDateFlows,
                                    settlementDate, npvDate);
          <span class="keywordflow">default</span>:
            <a class="code" href="errors_8hpp.html#a8efe9cb3e67c8d0585e57b4d53c5d2fe" title="throw an error (possibly with file and line information)">QL_FAIL</a>(<span class="stringliteral">&quot;unknown duration type&quot;</span>);
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a2fb0b0d19c7248bfa8f685f154cc6ce0"></a><!-- doxytag: member="QuantLib::CashFlows::duration" ref="a2fb0b0d19c7248bfa8f685f154cc6ce0" args="(const Leg &amp;leg, Rate yield, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, Duration::Type type, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a589b61017bd4d60e113041b31126eff0">QuantLib::CashFlows::duration</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4">Duration::Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00900">900</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00866">duration()</a>.</p>
<div class="fragment"><pre class="fragment">                                           {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#a589b61017bd4d60e113041b31126eff0" title="Cash-flow duration.">duration</a>(leg, InterestRate(<a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>, dc, comp, freq),
                        <a class="code" href="class_traits_1_1template_01curve_1_1type.html">type</a>,
                        includeSettlementDateFlows,
                        settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a277c32adc5b297bb720fcaf4112a186b"></a><!-- doxytag: member="QuantLib::CashFlows::isExpired" ref="a277c32adc5b297bb720fcaf4112a186b" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a277c32adc5b297bb720fcaf4112a186b">QuantLib::CashFlows::isExpired</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00067">67</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, and <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> <span class="keyword">true</span>;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=leg.size(); i&gt;0; --i)
            <span class="keywordflow">if</span> (!leg[i-1]-&gt;hasOccurred(settlementDate,
                                       includeSettlementDateFlows))
                <span class="keywordflow">return</span> <span class="keyword">false</span>;
        <span class="keywordflow">return</span> <span class="keyword">true</span>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="acb27a694faf2aa28ad595f351cf3f16c"></a><!-- doxytag: member="QuantLib::CashFlows::maturityDate" ref="acb27a694faf2aa28ad595f351cf3f16c" args="(const Leg &amp;leg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#acb27a694faf2aa28ad595f351cf3f16c">QuantLib::CashFlows::maturityDate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00053">53</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::c</a>, <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::d</a>, <a class="el" href="date_8cpp_source.html#l00141">QuantLib::Date::minDate()</a>, and <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>.</p>

<p>Referenced by <a class="el" href="discountingswapengine_8cpp_source.html#l00038">QuantLib::DiscountingSwapEngine::calculate()</a>, and <a class="el" href="ql_2instruments_2swap_8cpp_source.html#l00151">QuantLib::Swap::maturityDate()</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(!leg.empty(), <span class="stringliteral">&quot;empty leg&quot;</span>);

        Date <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a> = <a class="code" href="class_quant_lib_1_1_date.html#ab3e730da90778d2163d34719915efaed" title="earliest allowed date">Date::minDate</a>();
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            shared_ptr&lt;Coupon&gt; <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#ad0cf80d5912ef85423efe32835d4603c">c</a> = dynamic_pointer_cast&lt;Coupon&gt;(leg[i]);
            <span class="keywordflow">if</span> (c)
                d = std::max(d, c-&gt;accrualEndDate());
            <span class="keywordflow">else</span>
                d = std::max(d, leg[i]-&gt;date());
        }
        <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="afa7dce15f8c93c1b77e863e239f256eb"></a><!-- doxytag: member="QuantLib::CashFlows::nextCashFlow" ref="afa7dce15f8c93c1b77e863e239f256eb" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Leg::const_iterator <a class="el" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb">QuantLib::CashFlows::nextCashFlow</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the first cashflow paying after the given date </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">103</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, and <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00335">accrualDays()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00267">accrualEndDate()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00318">accrualPeriod()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00250">accrualStartDate()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00386">accruedAmount()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00369">accruedDays()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00352">accruedPeriod()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00160">nextCashFlowAmount()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00132">nextCashFlowDate()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00225">nextCouponRate()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00233">nominal()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00301">referencePeriodEnd()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00284">referencePeriodStart()</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> leg.end();

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        Leg::const_iterator i;
        <span class="keywordflow">for</span> (i = leg.begin(); i&lt;leg.end(); ++i) {
            <span class="keywordflow">if</span> ( ! (*i)-&gt;hasOccurred(settlementDate, includeSettlementDateFlows) )
                <span class="keywordflow">return</span> i;
        }
        <span class="keywordflow">return</span> leg.end();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="abfa360cecb6270bb558732cbed409844"></a><!-- doxytag: member="QuantLib::CashFlows::nextCashFlowAmount" ref="abfa360cecb6270bb558732cbed409844" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#abfa360cecb6270bb558732cbed409844">QuantLib::CashFlows::nextCashFlowAmount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00160">160</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
        Leg::const_iterator cf;
        cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg, includeSettlementDateFlows, settlementDate);

        <span class="keywordflow">if</span> (cf==leg.end())
            <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a>();

        Date paymentDate = (*cf)-&gt;date();
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> result = 0.0;
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf)
            result += (*cf)-&gt;amount();
        <span class="keywordflow">return</span> result;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a7903ee07fdcc719da731a85d8d21f070"></a><!-- doxytag: member="QuantLib::CashFlows::nextCashFlowDate" ref="a7903ee07fdcc719da731a85d8d21f070" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a7903ee07fdcc719da731a85d8d21f070">QuantLib::CashFlows::nextCashFlowDate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00132">132</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                          {
        Leg::const_iterator cf;
        cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg, includeSettlementDateFlows, settlementDate);

        <span class="keywordflow">if</span> (cf==leg.end())
            <span class="keywordflow">return</span> Date();

        <span class="keywordflow">return</span> (*cf)-&gt;date();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aad74bc3729ee56a3ce860c689d9b0e38"></a><!-- doxytag: member="QuantLib::CashFlows::nextCouponRate" ref="aad74bc3729ee56a3ce860c689d9b0e38" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#aad74bc3729ee56a3ce860c689d9b0e38">QuantLib::CashFlows::nextCouponRate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00225">225</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                        {
        Leg::const_iterator cf;
        cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg, includeSettlementDateFlows, settlementDate);
        <span class="keywordflow">return</span> aggregateRate&lt;Leg::const_iterator&gt;(leg, cf, leg.end());
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a09bf977fe8977d2a6fbf4cfdee1af53c"></a><!-- doxytag: member="QuantLib::CashFlows::nominal" ref="a09bf977fe8977d2a6fbf4cfdee1af53c" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a09bf977fe8977d2a6fbf4cfdee1af53c">QuantLib::CashFlows::nominal</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00233">233</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>, and <a class="el" href="coupon_8hpp_source.html#l00093">QuantLib::Coupon::nominal()</a>.</p>
<div class="fragment"><pre class="fragment">                                                 {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> 0.0;

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;nominal();
        }
        <span class="keywordflow">return</span> 0.0;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ac01b0e9915da82b959050a85f0573a32"></a><!-- doxytag: member="QuantLib::CashFlows::npv" ref="ac01b0e9915da82b959050a85f0573a32" args="(const Leg &amp;leg, const YieldTermStructure &amp;discountCurve, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">QuantLib::CashFlows::npv</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;&#160;</td>
          <td class="paramname"><em>discountCurve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NPV of the cash flows. </p>
<p>The NPV is the sum of the cash flows, each discounted according to the given term structure. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00428">428</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="yieldtermstructure_8hpp_source.html#l00185">QuantLib::YieldTermStructure::discount()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, and <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00987">basisPointValue()</a>, <a class="el" href="discountingbondengine_8cpp_source.html#l00034">QuantLib::DiscountingBondEngine::calculate()</a>, <a class="el" href="blackcallablebondengine_8cpp_source.html#l00127">QuantLib::BlackCallableFixedRateBondEngine::calculate()</a>, <a class="el" href="bondfunctions_8cpp_source.html#l00243">QuantLib::BondFunctions::cleanPrice()</a>, <a class="el" href="blackcallablebondengine_8cpp_source.html#l00077">QuantLib::BlackCallableFixedRateBondEngine::forwardPriceVolatility()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00745">npv()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00677">QuantLib::anonymous_namespace{cashflows.cpp}::IrrFinder::operator()()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01106">QuantLib::anonymous_namespace{cashflows.cpp}::ZSpreadFinder::operator()()</a>, <a class="el" href="cmsmarket_8cpp_source.html#l00113">QuantLib::CmsMarket::performCalculations()</a>, <a class="el" href="inflationcapflooredcoupon_8cpp_source.html#l00712">InflationCapFlooredCouponTest::testInstrumentEquality()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01034">yieldValueBasisPoint()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {

        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> totalNPV = 0.0;
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            <span class="keywordflow">if</span> (!leg[i]-&gt;hasOccurred(settlementDate,
                                     includeSettlementDateFlows))
                totalNPV += leg[i]-&gt;amount() *
                            discountCurve.discount(leg[i]-&gt;date());
        }

        <span class="keywordflow">return</span> totalNPV/discountCurve.discount(npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a64a1e341f38e3d7f93bb325426c1aeba"></a><!-- doxytag: member="QuantLib::CashFlows::npv" ref="a64a1e341f38e3d7f93bb325426c1aeba" args="(const Leg &amp;leg, const InterestRate &amp;yield, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">QuantLib::CashFlows::npv</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NPV of the cash flows. </p>
<p>The IRR is the interest rate at which the NPV of the cash flows equals the dirty price.</p>
<p>The NPV is the sum of the cash flows, each discounted according to the given constant interest rate. The result is affected by the choice of the interest-rate compounding and the relative frequency and day counter. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00745">745</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="interestrate_8hpp_source.html#l00072">QuantLib::InterestRate::discountFactor()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00428">npv()</a>, and <a class="el" href="timeunit_8hpp_source.html#l00040">QuantLib::Years</a>.</p>
<div class="fragment"><pre class="fragment">                                      {

        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a> = 0.0;
        <a class="code" href="namespace_quant_lib.html#a05e8e288a4bdedfe5b4e16d8cec14f1c" title="discount factor between dates">DiscountFactor</a> discount = 1.0;
        Date lastDate = Date();

        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            <span class="keywordflow">if</span> (leg[i]-&gt;hasOccurred(settlementDate,
                                    includeSettlementDateFlows))
                <span class="keywordflow">continue</span>;

            Date couponDate = leg[i]-&gt;date();
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> amount = leg[i]-&gt;amount();
            <span class="keywordflow">if</span> (lastDate == Date()) {
                <span class="comment">// first not-expired coupon</span>
                <span class="keywordflow">if</span> (i &gt; 0) {
                    lastDate = leg[i-1]-&gt;date();
                } <span class="keywordflow">else</span> {
                    shared_ptr&lt;Coupon&gt; coupon =
                        boost::dynamic_pointer_cast&lt;Coupon&gt;(leg[i]);
                    <span class="keywordflow">if</span> (coupon)
                        lastDate = coupon-&gt;accrualStartDate();
                    <span class="keywordflow">else</span>
                        lastDate = couponDate - 1*<a class="code" href="namespace_quant_lib.html#a6cdac5e2dae1e972076cc8e3302e4ad3ae2d856134531729a1696e66bebeafb32">Years</a>;
                }
                discount *= y.discountFactor(npvDate, couponDate,
                                             lastDate, couponDate);
            } <span class="keywordflow">else</span>  {
                discount *= y.discountFactor(lastDate, couponDate);
            }
            lastDate = couponDate;

            npv += amount * discount;
        }

        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a4d38ba2a3048c55a890509e8847cb7c0"></a><!-- doxytag: member="QuantLib::CashFlows::npv" ref="a4d38ba2a3048c55a890509e8847cb7c0" args="(const Leg &amp;leg, Rate yield, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">QuantLib::CashFlows::npv</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00796">796</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00428">npv()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>(leg, InterestRate(<a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>, dc, comp, freq),
                   includeSettlementDateFlows,
                   settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a39c99c26903e4b788aeea5c9c8007c4a"></a><!-- doxytag: member="QuantLib::CashFlows::npv" ref="a39c99c26903e4b788aeea5c9c8007c4a" args="(const Leg &amp;leg, const boost::shared_ptr&lt; YieldTermStructure &gt; &amp;discount, Spread zSpread, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32">QuantLib::CashFlows::npv</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>discount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#ad61d2e1a3f01154233de0d5fbb85177c">Spread</a>&#160;</td>
          <td class="paramname"><em>zSpread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NPV of the cash flows. </p>
<p>For details on z-spread refer to: "Credit Spreads Explained", Lehman Brothers European Fixed Income Research - March 2004, D. O'Kane</p>
<p>The NPV is the sum of the cash flows, each discounted according to the z-spreaded term structure. The result is affected by the choice of the z-spread compounding and the relative frequency and day counter. </p>

</div>
</div>
<a class="anchor" id="a5b47a4cd3d8d615efb7a56d55b546018"></a><!-- doxytag: member="QuantLib::CashFlows::npvbps" ref="a5b47a4cd3d8d615efb7a56d55b546018" args="(const Leg &amp;leg, const YieldTermStructure &amp;discountCurve, bool includeSettlementDateFlows, Date settlementDate, Date npvDate, Real &amp;npv, Real &amp;bps)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_cash_flows.html#a5b47a4cd3d8d615efb7a56d55b546018">QuantLib::CashFlows::npvbps</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &amp;&#160;</td>
          <td class="paramname"><em>discountCurve</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &amp;&#160;</td>
          <td class="paramname"><em>npv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &amp;&#160;</td>
          <td class="paramname"><em>bps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NPV and BPS of the cash flows. </p>
<p>The NPV and BPS of the cash flows calculated together for performance reason </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00477">477</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="cashflow_8cpp_source.html#l00049">QuantLib::CashFlow::accept()</a>, <a class="el" href="class_quant_lib_1_1_cash_flow.html#a92962488f6a37dc8ea4ea49712a2c0c1">QuantLib::CashFlow::amount()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00425">QuantLib::anonymous_namespace{cashflows.cpp}::basisPoint_</a>, <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::d</a>, <a class="el" href="class_quant_lib_1_1_cash_flow.html#a89a69094fd1cfef7dbf8fe9854e818f7">QuantLib::CashFlow::date()</a>, <a class="el" href="yieldtermstructure_8hpp_source.html#l00185">QuantLib::YieldTermStructure::discount()</a>, and <a class="el" href="cashflow_8cpp_source.html#l00025">QuantLib::CashFlow::hasOccurred()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00506">atmRate()</a>, and <a class="el" href="discountingswapengine_8cpp_source.html#l00038">QuantLib::DiscountingSwapEngine::calculate()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {

        <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a> = 0.0;
        <span class="keywordflow">if</span> (leg.empty()) {
            <a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">bps</a> = 0.0;
            <span class="keywordflow">return</span>;
        }

        BPSCalculator calc(discountCurve);
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            <a class="code" href="namespace_quant_lib.html#a3c5925e65e7246d241aa936fc17de739">CashFlow</a>&amp; cf = *leg[i];
            <span class="keywordflow">if</span> (!cf.hasOccurred(settlementDate,
                                includeSettlementDateFlows)) {
                <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a> += cf.amount() *
                       discountCurve.discount(cf.date());
                cf.accept(calc);
            }
        }
        <a class="code" href="namespace_quant_lib.html#a05e8e288a4bdedfe5b4e16d8cec14f1c" title="discount factor between dates">DiscountFactor</a> <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a> = discountCurve.discount(npvDate);
        <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a> /= <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>;
        <a class="code" href="class_quant_lib_1_1_cash_flows.html#a776ef7f8264224b4acaab4db0478cd3e" title="Basis-point sensitivity of the cash flows.">bps</a> = <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#a21eba077553d9b79f56c59d073c0a08a">basisPoint_</a> * calc.result() / <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="af9b58378d658ccae436e77de19639b93"></a><!-- doxytag: member="QuantLib::CashFlows::previousCashFlow" ref="af9b58378d658ccae436e77de19639b93" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Leg::const_reverse_iterator <a class="el" href="class_quant_lib_1_1_cash_flows.html#af9b58378d658ccae436e77de19639b93">QuantLib::CashFlows::previousCashFlow</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>the last cashflow paying before or at the given date </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00085">85</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, and <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00144">previousCashFlowAmount()</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00120">previousCashFlowDate()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00216">previousCouponRate()</a>.</p>
<div class="fragment"><pre class="fragment">                                                     {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> leg.rend();

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        Leg::const_reverse_iterator i;
        <span class="keywordflow">for</span> (i = leg.rbegin(); i&lt;leg.rend(); ++i) {
            <span class="keywordflow">if</span> ( (*i)-&gt;hasOccurred(settlementDate, includeSettlementDateFlows) )
                <span class="keywordflow">return</span> i;
        }
        <span class="keywordflow">return</span> leg.rend();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae067857c64aad7fc5ccb4b9644b7f56f"></a><!-- doxytag: member="QuantLib::CashFlows::previousCashFlowAmount" ref="ae067857c64aad7fc5ccb4b9644b7f56f" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ae067857c64aad7fc5ccb4b9644b7f56f">QuantLib::CashFlows::previousCashFlowAmount</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00144">144</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00085">previousCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                {
        Leg::const_reverse_iterator cf;
        cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#af9b58378d658ccae436e77de19639b93" title="the last cashflow paying before or at the given date">previousCashFlow</a>(leg, includeSettlementDateFlows, settlementDate);

        <span class="keywordflow">if</span> (cf==leg.rend())
            <span class="keywordflow">return</span> <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a>();

        Date paymentDate = (*cf)-&gt;date();
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> result = 0.0;
        <span class="keywordflow">for</span> (; cf&lt;leg.rend() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf)
            result += (*cf)-&gt;amount();
        <span class="keywordflow">return</span> result;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a2c38c32b8aa1c8f15b447420675f48b0"></a><!-- doxytag: member="QuantLib::CashFlows::previousCashFlowDate" ref="a2c38c32b8aa1c8f15b447420675f48b0" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a2c38c32b8aa1c8f15b447420675f48b0">QuantLib::CashFlows::previousCashFlowDate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00120">120</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00085">previousCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
        Leg::const_reverse_iterator cf;
        cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#af9b58378d658ccae436e77de19639b93" title="the last cashflow paying before or at the given date">previousCashFlow</a>(leg, includeSettlementDateFlows, settlementDate);

        <span class="keywordflow">if</span> (cf==leg.rend())
            <span class="keywordflow">return</span> Date();

        <span class="keywordflow">return</span> (*cf)-&gt;date();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ab9b564e63f9715567daac2e7fd8b5dd1"></a><!-- doxytag: member="QuantLib::CashFlows::previousCouponRate" ref="ab9b564e63f9715567daac2e7fd8b5dd1" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlementDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ab9b564e63f9715567daac2e7fd8b5dd1">QuantLib::CashFlows::previousCouponRate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00216">216</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00085">previousCashFlow()</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
        Leg::const_reverse_iterator cf;
        cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#af9b58378d658ccae436e77de19639b93" title="the last cashflow paying before or at the given date">previousCashFlow</a>(leg, includeSettlementDateFlows, settlementDate);

        <span class="keywordflow">return</span> aggregateRate&lt;Leg::const_reverse_iterator&gt;(leg, cf, leg.rend());
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a6d543b624f949434d9a829225dc4d071"></a><!-- doxytag: member="QuantLib::CashFlows::referencePeriodEnd" ref="a6d543b624f949434d9a829225dc4d071" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a6d543b624f949434d9a829225dc4d071">QuantLib::CashFlows::referencePeriodEnd</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00301">301</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>, and <a class="el" href="coupon_8hpp_source.html#l00109">QuantLib::Coupon::referencePeriodEnd()</a>.</p>
<div class="fragment"><pre class="fragment">                                                            {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> Date();

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;referencePeriodEnd();
        }
        <span class="keywordflow">return</span> Date();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ae79940b99e28bb4a52113318ecbe6ba5"></a><!-- doxytag: member="QuantLib::CashFlows::referencePeriodStart" ref="ae79940b99e28bb4a52113318ecbe6ba5" args="(const Leg &amp;leg, bool includeSettlementDateFlows, Date settlDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#ae79940b99e28bb4a52113318ecbe6ba5">QuantLib::CashFlows::referencePeriodStart</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00284">284</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00103">nextCashFlow()</a>, and <a class="el" href="coupon_8hpp_source.html#l00105">QuantLib::Coupon::referencePeriodStart()</a>.</p>
<div class="fragment"><pre class="fragment">                                                              {
        Leg::const_iterator cf = <a class="code" href="class_quant_lib_1_1_cash_flows.html#afa7dce15f8c93c1b77e863e239f256eb" title="the first cashflow paying after the given date">nextCashFlow</a>(leg,
                                              includeSettlementDateFlows,
                                              settlementDate);
        <span class="keywordflow">if</span> (cf==leg.end()) <span class="keywordflow">return</span> Date();

        Date paymentDate = (*cf)-&gt;date();
        <span class="keywordflow">for</span> (; cf&lt;leg.end() &amp;&amp; (*cf)-&gt;date()==paymentDate; ++cf) {
            shared_ptr&lt;Coupon&gt; cp = dynamic_pointer_cast&lt;Coupon&gt;(*cf);
            <span class="keywordflow">if</span> (cp)
                <span class="keywordflow">return</span> cp-&gt;referencePeriodStart();
        }
        <span class="keywordflow">return</span> Date();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a7ede1ef38f187ad5ecf6480ed45d4d4f"></a><!-- doxytag: member="QuantLib::CashFlows::startDate" ref="a7ede1ef38f187ad5ecf6480ed45d4d4f" args="(const Leg &amp;leg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_date.html">Date</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a7ede1ef38f187ad5ecf6480ed45d4d4f">QuantLib::CashFlows::startDate</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em></td><td>)</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00039">39</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::c</a>, <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::d</a>, <a class="el" href="date_8cpp_source.html#l00146">QuantLib::Date::maxDate()</a>, and <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>.</p>

<p>Referenced by <a class="el" href="ql_2instruments_2swap_8cpp_source.html#l00143">QuantLib::Swap::startDate()</a>.</p>
<div class="fragment"><pre class="fragment">                                            {
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(!leg.empty(), <span class="stringliteral">&quot;empty leg&quot;</span>);

        Date <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a> = <a class="code" href="class_quant_lib_1_1_date.html#ad04a122553934667f47284aede26bde2" title="latest allowed date">Date::maxDate</a>();
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;leg.size(); ++i) {
            shared_ptr&lt;Coupon&gt; <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#ad0cf80d5912ef85423efe32835d4603c">c</a> = dynamic_pointer_cast&lt;Coupon&gt;(leg[i]);
            <span class="keywordflow">if</span> (c)
                d = std::min(d, c-&gt;accrualStartDate());
            <span class="keywordflow">else</span>
                d = std::min(d, leg[i]-&gt;date());
        }
        <span class="keywordflow">return</span> <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="adc93e9e6a163c8eace956efa1e80c679"></a><!-- doxytag: member="QuantLib::CashFlows::yield" ref="adc93e9e6a163c8eace956efa1e80c679" args="(const Leg &amp;leg, Real npv, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date(), Real accuracy=1.0e&#45;10, Size maxIterations=100, Rate guess=0.05)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679">QuantLib::CashFlows::yield</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>npv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>1.0e-10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>maxIterations</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>guess</em> = <code>0.05</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implied internal rate of return. </p>
<p>The function verifies the theoretical existance of an IRR and numerically establishes the IRR to the desired precision. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00844">844</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="solver1d_8hpp_source.html#l00239">QuantLib::Solver1D&lt; Impl &gt;::setMaxEvaluations()</a>, and <a class="el" href="solver1d_8hpp_source.html#l00085">QuantLib::Solver1D&lt; Impl &gt;::solve()</a>.</p>

<p>Referenced by <a class="el" href="blackcallablebondengine_8cpp_source.html#l00077">QuantLib::BlackCallableFixedRateBondEngine::forwardPriceVolatility()</a>.</p>
<div class="fragment"><pre class="fragment">                                      {
        <span class="comment">//Brent solver;</span>
        NewtonSafe solver;
        solver.setMaxEvaluations(maxIterations);
        IrrFinder objFunction(leg, <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>,
                              <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#abc24484d02b5cded0a275ade16b95733">dayCounter</a>, compounding, frequency,
                              includeSettlementDateFlows,
                              settlementDate, npvDate);
        <span class="keywordflow">return</span> solver.solve(objFunction, accuracy, guess, guess/10.0);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a6d383942f59f4014d31d5292eee017f8"></a><!-- doxytag: member="QuantLib::CashFlows::yieldValueBasisPoint" ref="a6d383942f59f4014d31d5292eee017f8" args="(const Leg &amp;leg, const InterestRate &amp;yield, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a6d383942f59f4014d31d5292eee017f8">QuantLib::CashFlows::yieldValueBasisPoint</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_interest_rate.html">InterestRate</a> &amp;&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Yield value of a basis point. </p>
<p>The yield value of a one basis point change in price is the derivative of the yield with respect to the price multiplied by 0.01 </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01034">1034</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00866">duration()</a>, <a class="el" href="settings_8hpp_source.html#l00153">QuantLib::Settings::evaluationDate()</a>, <a class="el" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93">QuantLib::Singleton&lt; Settings &gt;::instance()</a>, <a class="el" href="duration_8hpp_source.html#l00036">QuantLib::Duration::Modified</a>, <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00580">QuantLib::anonymous_namespace{cashflows.cpp}::modifiedDuration()</a>, and <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l00428">npv()</a>.</p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01060">yieldValueBasisPoint()</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
        <span class="keywordflow">if</span> (leg.empty())
            <span class="keywordflow">return</span> 0.0;

        <span class="keywordflow">if</span> (settlementDate == Date())
            settlementDate = <a class="code" href="class_quant_lib_1_1_singleton.html#ab79257029fa4841505227497a56cbd93" title="access to the unique instance">Settings::instance</a>().<a class="code" href="class_quant_lib_1_1_settings.html#a908ff4717a9706c4329fb316a49a5720" title="the date at which pricing is to be performed.">evaluationDate</a>();

        <span class="keywordflow">if</span> (npvDate == Date())
            npvDate = settlementDate;

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a> = <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">CashFlows::npv</a>(leg, y,
                                  includeSettlementDateFlows,
                                  settlementDate, npvDate);
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02cashflows_8cpp_03.html#af27d06e0c9b1f8e1406153ae35129f60">modifiedDuration</a> = <a class="code" href="class_quant_lib_1_1_cash_flows.html#a589b61017bd4d60e113041b31126eff0" title="Cash-flow duration.">CashFlows::duration</a>(leg, y,
                                                    <a class="code" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4af3c1d40d4a2ad01728f4008d55e50aae">Duration::Modified</a>,
                                                    includeSettlementDateFlows,
                                                    settlementDate, npvDate);

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> shift = 0.01;
        <span class="keywordflow">return</span> (1.0/(-npv*modifiedDuration))*shift;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a6775ddbe980e65077ce1048e7f859159"></a><!-- doxytag: member="QuantLib::CashFlows::yieldValueBasisPoint" ref="a6775ddbe980e65077ce1048e7f859159" args="(const Leg &amp;leg, Rate yield, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#a6d383942f59f4014d31d5292eee017f8">QuantLib::CashFlows::yieldValueBasisPoint</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>yield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01060">1060</a> of file <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a>.</p>

<p>References <a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html#l01034">yieldValueBasisPoint()</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#a6d383942f59f4014d31d5292eee017f8" title="Yield value of a basis point.">yieldValueBasisPoint</a>(leg, InterestRate(<a class="code" href="class_quant_lib_1_1_cash_flows.html#adc93e9e6a163c8eace956efa1e80c679" title="Implied internal rate of return.">yield</a>, dc, comp, freq),
                                    includeSettlementDateFlows,
                                    settlementDate, npvDate);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="af082816f1d1c51b084888b86c58ed2c6"></a><!-- doxytag: member="QuantLib::CashFlows::zSpread" ref="af082816f1d1c51b084888b86c58ed2c6" args="(const Leg &amp;leg, Real npv, const boost::shared_ptr&lt; YieldTermStructure &gt; &amp;, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date(), Real accuracy=1.0e&#45;10, Size maxIterations=100, Rate guess=0.0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespace_quant_lib.html#ad61d2e1a3f01154233de0d5fbb85177c">Spread</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#af082816f1d1c51b084888b86c58ed2c6">QuantLib::CashFlows::zSpread</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>npv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>1.0e-10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>maxIterations</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>guess</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>implied Z-spread. </p>

<p>Referenced by <a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html#l00385">zSpread()</a>.</p>

</div>
</div>
<a class="anchor" id="a3307f811cb500b51981ac826576a7a19"></a><!-- doxytag: member="QuantLib::CashFlows::zSpread" ref="a3307f811cb500b51981ac826576a7a19" args="(const Leg &amp;leg, const boost::shared_ptr&lt; YieldTermStructure &gt; &amp;d, Real npv, const DayCounter &amp;dayCounter, Compounding compounding, Frequency frequency, bool includeSettlementDateFlows, Date settlementDate=Date(), Date npvDate=Date(), Real accuracy=1.0e&#45;10, Size maxIterations=100, Rate guess=0.0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="namespace_quant_lib.html#ad61d2e1a3f01154233de0d5fbb85177c">Spread</a> <a class="el" href="class_quant_lib_1_1_cash_flows.html#af082816f1d1c51b084888b86c58ed2c6">QuantLib::CashFlows::zSpread</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11">Leg</a> &amp;&#160;</td>
          <td class="paramname"><em>leg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>npv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b">Compounding</a>&#160;</td>
          <td class="paramname"><em>compounding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a">Frequency</a>&#160;</td>
          <td class="paramname"><em>frequency</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeSettlementDateFlows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>settlementDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>npvDate</em> = <code><a class="el" href="class_quant_lib_1_1_date.html">Date</a>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>accuracy</em> = <code>1.0e-10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>maxIterations</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>guess</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [inline, static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>deprecated implied Z-spread. </p>

<p>Definition at line <a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html#l00385">385</a> of file <a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html">cashflows.hpp</a>.</p>

<p>References <a class="el" href="class_quant_lib_1_1_cash_flows.html#af082816f1d1c51b084888b86c58ed2c6">zSpread()</a>.</p>
<div class="fragment"><pre class="fragment">                                                {
            <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_cash_flows.html#af082816f1d1c51b084888b86c58ed2c6" title="implied Z-spread.">zSpread</a>(leg, <a class="code" href="class_quant_lib_1_1_cash_flows.html#ac01b0e9915da82b959050a85f0573a32" title="NPV of the cash flows.">npv</a>, <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>, <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#abc24484d02b5cded0a275ade16b95733">dayCounter</a>, compounding, frequency,
                           includeSettlementDateFlows, settlementDate, npvDate,
                           accuracy, maxIterations, guess);
        }
</pre></div>
</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/cashflows/<a class="el" href="ql_2cashflows_2cashflows_8hpp_source.html">cashflows.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/cashflows/<a class="el" href="ql_2cashflows_2cashflows_8cpp_source.html">cashflows.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_cash_flows.html">CashFlows</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:03 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
