<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::FFTEngine Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_f_f_t_engine.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::FFTEngine Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::FFTEngine" --><!-- doxytag: inherits="VanillaOption::engine" -->
<p>Base class for FFT pricing engines for European vanilla options.  
 <a href="class_quant_lib_1_1_f_f_t_engine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for QuantLib::FFTEngine:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_f_f_t_engine__inherit__graph.png" border="0" usemap="#_quant_lib_1_1_f_f_t_engine_inherit__map" alt="Inheritance graph"/></div>
<map name="_quant_lib_1_1_f_f_t_engine_inherit__map" id="_quant_lib_1_1_f_f_t_engine_inherit__map">
<area shape="rect" id="node5" href="class_quant_lib_1_1_f_f_t_vanilla_engine.html" title="FFT Pricing engine vanilla options under a Black Scholes process." alt="" coords="5,481,195,705"/><area shape="rect" id="node7" href="class_quant_lib_1_1_f_f_t_variance_gamma_engine.html" title="FFT engine for vanilla options under a Variance Gamma process." alt="" coords="219,464,461,723"/><area shape="rect" id="node2" href="class_vanilla_option_1_1engine.html" title="{engine\n||}" alt="" coords="191,5,249,91"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for QuantLib::FFTEngine:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_f_f_t_engine__coll__graph.png" border="0" usemap="#_quant_lib_1_1_f_f_t_engine_coll__map" alt="Collaboration graph"/></div>
<map name="_quant_lib_1_1_f_f_t_engine_coll__map" id="_quant_lib_1_1_f_f_t_engine_coll__map">
<area shape="rect" id="node2" href="class_vanilla_option_1_1engine.html" title="{engine\n||}" alt="" coords="5,1428,64,1513"/><area shape="rect" id="node6" title="STL class." alt="" coords="100,703,223,806"/><area shape="rect" id="node12" href="class_quant_lib_1_1_date.html" title="Concrete date class." alt="" coords="315,157,488,1352"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_quant_lib_1_1_f_f_t_engine-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a322a66d5ae0b8854284d4205eda8799e">FFTEngine</a> (const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_stochastic_process1_d.html">StochasticProcess1D</a> &gt; &amp;process, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> logStrikeSpacing)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ad26ac449150c6cbeb78e15a01c85c5c9">calculate</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a389b45eff97fdb6e9526f78079fca458">update</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ae96e171d1f3c3a35a713261859c71fb5">precalculate</a> (const std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_instrument.html">Instrument</a> &gt; &gt; &amp;optionList)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr&lt; <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html">FFTEngine</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#afdb2b3064ccb2fb92ab103b3fb1cd3bb">clone</a> () const =0</td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ab13c7571c9214ff6d19dcb5f90db945b">precalculateExpiry</a> (<a class="el" href="class_quant_lib_1_1_date.html">Date</a> d)=0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::complex&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a7272e2e4dc174d6470ee1f7611cd81cc">complexFourierTransform</a> (std::complex&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt; u) const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a008f6983155001cbf5639df30f748cf2">discountFactor</a> (<a class="el" href="class_quant_lib_1_1_date.html">Date</a> d) const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ace686239d7a442371215e8e72f4293c3">dividendYield</a> (<a class="el" href="class_quant_lib_1_1_date.html">Date</a> d) const =0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#aa664e086fd4d5c596588ba482599564a">calculateUncached</a> (boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_striked_type_payoff.html">StrikedTypePayoff</a> &gt; payoff, boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_exercise.html">Exercise</a> &gt; exercise) const </td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_stochastic_process1_d.html">StochasticProcess1D</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a270fd50e5765c152934c15a095db5e5e">process_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map<br class="typebreak"/>
&lt; boost::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_striked_type_payoff.html">StrikedTypePayoff</a> &gt;, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#aefb05bd9d25f46dfc730881644c19f57">PayoffResultMap</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::map&lt; <a class="el" href="class_quant_lib_1_1_date.html">Date</a>, <br class="typebreak"/>
<a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#aefb05bd9d25f46dfc730881644c19f57">PayoffResultMap</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a843f9d3218fbdb53f7f96b33bcf23623">ResultMap</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a843f9d3218fbdb53f7f96b33bcf23623">ResultMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base class for FFT pricing engines for European vanilla options. </p>
<p>The FFT engine calculates the values of all options with the same expiry at the same time. For that reason it is very inefficient to price options individually. When using this engine you should collect all the options you wish to price in a list and call the engine's precalculate method before calling the NPV method of the option.</p>
<p>References: Carr, P. and D. B. Madan (1998), "Option Valuation using the fast Fourier transform," Journal of Computational Finance, 2, 61-73. </p>

<p>Definition at line <a class="el" href="fftengine_8hpp_source.html#l00047">47</a> of file <a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="aefb05bd9d25f46dfc730881644c19f57"></a><!-- doxytag: member="QuantLib::FFTEngine::PayoffResultMap" ref="aefb05bd9d25f46dfc730881644c19f57" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;boost::shared_ptr&lt;<a class="el" href="class_quant_lib_1_1_striked_type_payoff.html">StrikedTypePayoff</a>&gt;, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&gt; <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#aefb05bd9d25f46dfc730881644c19f57">QuantLib::FFTEngine::PayoffResultMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8hpp_source.html#l00070">70</a> of file <a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a843f9d3218fbdb53f7f96b33bcf23623"></a><!-- doxytag: member="QuantLib::FFTEngine::ResultMap" ref="a843f9d3218fbdb53f7f96b33bcf23623" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::map&lt;<a class="el" href="class_quant_lib_1_1_date.html">Date</a>, <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#aefb05bd9d25f46dfc730881644c19f57">PayoffResultMap</a>&gt; <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a843f9d3218fbdb53f7f96b33bcf23623">QuantLib::FFTEngine::ResultMap</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8hpp_source.html#l00071">71</a> of file <a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a322a66d5ae0b8854284d4205eda8799e"></a><!-- doxytag: member="QuantLib::FFTEngine::FFTEngine" ref="a322a66d5ae0b8854284d4205eda8799e" args="(const boost::shared_ptr&lt; StochasticProcess1D &gt; &amp;process, Real logStrikeSpacing)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a322a66d5ae0b8854284d4205eda8799e">QuantLib::FFTEngine::FFTEngine</a> </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_stochastic_process1_d.html">StochasticProcess1D</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>process</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>logStrikeSpacing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8cpp_source.html#l00028">28</a> of file <a class="el" href="fftengine_8cpp_source.html">fftengine.cpp</a>.</p>

<p>References <a class="el" href="fftengine_8hpp_source.html#l00066">process_</a>.</p>
<div class="fragment"><pre class="fragment">        : <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a270fd50e5765c152934c15a095db5e5e">process_</a>(process), <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a>(logStrikeSpacing) {
            registerWith(<a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a270fd50e5765c152934c15a095db5e5e">process_</a>);
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad26ac449150c6cbeb78e15a01c85c5c9"></a><!-- doxytag: member="QuantLib::FFTEngine::calculate" ref="ad26ac449150c6cbeb78e15a01c85c5c9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ad26ac449150c6cbeb78e15a01c85c5c9">QuantLib::FFTEngine::calculate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8cpp_source.html#l00034">34</a> of file <a class="el" href="fftengine_8cpp_source.html">fftengine.cpp</a>.</p>

<p>References <a class="el" href="fftengine_8cpp_source.html#l00067">calculateUncached()</a>, <a class="el" href="exercise_8hpp_source.html#l00038">QuantLib::Exercise::European</a>, <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>, and <a class="el" href="fftengine_8hpp_source.html#l00072">resultMap_</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(arguments_.exercise-&gt;type() == <a class="code" href="class_quant_lib_1_1_exercise.html#add0610ca64f2c8be9355ac232cb2f322af4e71f30188d596e0e7572d76ad0bfe7">Exercise::European</a>,
            <span class="stringliteral">&quot;not an European Option&quot;</span>);

        boost::shared_ptr&lt;StrikedTypePayoff&gt; payoff =
            boost::dynamic_pointer_cast&lt;StrikedTypePayoff&gt;(arguments_.payoff);
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(payoff, <span class="stringliteral">&quot;non-striked payoff given&quot;</span>);

        ResultMap::const_iterator r1 = <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a>.find(arguments_.exercise-&gt;lastDate());
        <span class="keywordflow">if</span> (r1 != <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a>.end())
        {
            PayoffResultMap::const_iterator r2 = r1-&gt;second.find(payoff);
            <span class="keywordflow">if</span> (r2 != r1-&gt;second.end())
            {
                results_.value = r2-&gt;second;
                <span class="keywordflow">return</span>;
            }
        }
        
        <span class="comment">// Option not precalculated - do entire FFT for one option.  Not very efficient - call precalculate!</span>
        <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#aa664e086fd4d5c596588ba482599564a">calculateUncached</a>(payoff, arguments_.exercise);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aa664e086fd4d5c596588ba482599564a"></a><!-- doxytag: member="QuantLib::FFTEngine::calculateUncached" ref="aa664e086fd4d5c596588ba482599564a" args="(boost::shared_ptr&lt; StrikedTypePayoff &gt; payoff, boost::shared_ptr&lt; Exercise &gt; exercise) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#aa664e086fd4d5c596588ba482599564a">QuantLib::FFTEngine::calculateUncached</a> </td>
          <td>(</td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_striked_type_payoff.html">StrikedTypePayoff</a> &gt;&#160;</td>
          <td class="paramname"><em>payoff</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_exercise.html">Exercise</a> &gt;&#160;</td>
          <td class="paramname"><em>exercise</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8cpp_source.html#l00067">67</a> of file <a class="el" href="fftengine_8cpp_source.html">fftengine.cpp</a>.</p>

<p>References <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#afdb2b3064ccb2fb92ab103b3fb1cd3bb">clone()</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00034">calculate()</a>.</p>
<div class="fragment"><pre class="fragment">    {
        boost::shared_ptr&lt;VanillaOption&gt; option(<span class="keyword">new</span> VanillaOption(payoff, exercise));
        std::vector&lt;boost::shared_ptr&lt;Instrument&gt; &gt; optionList;
        optionList.push_back(option);

        boost::shared_ptr&lt;FFTEngine&gt; tempEngine(<a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#afdb2b3064ccb2fb92ab103b3fb1cd3bb">clone</a>().release());
        tempEngine-&gt;precalculate(optionList);
        option-&gt;setPricingEngine(tempEngine);
        results_.value = option-&gt;NPV();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="afdb2b3064ccb2fb92ab103b3fb1cd3bb"></a><!-- doxytag: member="QuantLib::FFTEngine::clone" ref="afdb2b3064ccb2fb92ab103b3fb1cd3bb" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::auto_ptr&lt;<a class="el" href="class_quant_lib_1_1_f_f_t_engine.html">FFTEngine</a>&gt; <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#afdb2b3064ccb2fb92ab103b3fb1cd3bb">QuantLib::FFTEngine::clone</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="class_quant_lib_1_1_f_f_t_vanilla_engine.html#a16414231d299200beced2eae57beced0">QuantLib::FFTVanillaEngine</a>, and <a class="el" href="class_quant_lib_1_1_f_f_t_variance_gamma_engine.html#a2050e75087ba6b2a52cf4b2df78162c8">QuantLib::FFTVarianceGammaEngine</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00067">calculateUncached()</a>.</p>

</div>
</div>
<a class="anchor" id="a7272e2e4dc174d6470ee1f7611cd81cc"></a><!-- doxytag: member="QuantLib::FFTEngine::complexFourierTransform" ref="a7272e2e4dc174d6470ee1f7611cd81cc" args="(std::complex&lt; Real &gt; u) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::complex&lt;<a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&gt; <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a7272e2e4dc174d6470ee1f7611cd81cc">QuantLib::FFTEngine::complexFourierTransform</a> </td>
          <td>(</td>
          <td class="paramtype">std::complex&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td>
          <td class="paramname"><em>u</em></td><td>)</td>
          <td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="class_quant_lib_1_1_f_f_t_vanilla_engine.html#a5a28b002cf616f0f2cca9367f99d1ac1">QuantLib::FFTVanillaEngine</a>, and <a class="el" href="class_quant_lib_1_1_f_f_t_variance_gamma_engine.html#a8f9f8b0f24c1e212b4a7b580730672d7">QuantLib::FFTVarianceGammaEngine</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a008f6983155001cbf5639df30f748cf2"></a><!-- doxytag: member="QuantLib::FFTEngine::discountFactor" ref="a008f6983155001cbf5639df30f748cf2" args="(Date d) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a008f6983155001cbf5639df30f748cf2">QuantLib::FFTEngine::discountFactor</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="class_quant_lib_1_1_f_f_t_vanilla_engine.html#a84d5fe75813002d1d9fae39e07a3d863">QuantLib::FFTVanillaEngine</a>, and <a class="el" href="class_quant_lib_1_1_f_f_t_variance_gamma_engine.html#a2928ec84e994d2efe73033b3cbad0dfc">QuantLib::FFTVarianceGammaEngine</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="ace686239d7a442371215e8e72f4293c3"></a><!-- doxytag: member="QuantLib::FFTEngine::dividendYield" ref="ace686239d7a442371215e8e72f4293c3" args="(Date d) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ace686239d7a442371215e8e72f4293c3">QuantLib::FFTEngine::dividendYield</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="class_quant_lib_1_1_f_f_t_vanilla_engine.html#aa9178bee77a0fe5131193aadef43c2ea">QuantLib::FFTVanillaEngine</a>, and <a class="el" href="class_quant_lib_1_1_f_f_t_variance_gamma_engine.html#aafb060f654c4dba95c8ec75d7f18b2c8">QuantLib::FFTVarianceGammaEngine</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="ae96e171d1f3c3a35a713261859c71fb5"></a><!-- doxytag: member="QuantLib::FFTEngine::precalculate" ref="ae96e171d1f3c3a35a713261859c71fb5" args="(const std::vector&lt; boost::shared_ptr&lt; Instrument &gt; &gt; &amp;optionList)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ae96e171d1f3c3a35a713261859c71fb5">QuantLib::FFTEngine::precalculate</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_instrument.html">Instrument</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>optionList</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8cpp_source.html#l00080">80</a> of file <a class="el" href="fftengine_8cpp_source.html">fftengine.cpp</a>.</p>

<p>References <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::b</a>, <a class="el" href="option_8hpp_source.html#l00039">QuantLib::Option::Call</a>, <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a7272e2e4dc174d6470ee1f7611cd81cc">complexFourierTransform()</a>, <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a008f6983155001cbf5639df30f748cf2">discountFactor()</a>, <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ace686239d7a442371215e8e72f4293c3">dividendYield()</a>, <a class="el" href="exercise_8hpp_source.html#l00038">QuantLib::Exercise::European</a>, <a class="el" href="fftengine_8hpp_source.html#l00067">lambda_</a>, <a class="el" href="mathconstants_8hpp_source.html#l00054">M_PI</a>, <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ab13c7571c9214ff6d19dcb5f90db945b">precalculateExpiry()</a>, <a class="el" href="fftengine_8hpp_source.html#l00066">process_</a>, <a class="el" href="option_8hpp_source.html#l00038">QuantLib::Option::Put</a>, <a class="el" href="errors_8hpp_source.html#l00062">QL_FAIL</a>, <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>, <a class="el" href="fftengine_8hpp_source.html#l00072">resultMap_</a>, and <a class="el" href="ql_2experimental_2math_2fastfouriertransform_8hpp_source.html#l00066">QuantLib::FastFourierTransform::transform()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                                          {
        <span class="comment">// Group payoffs by expiry date</span>
        <span class="comment">// as with FFT we can compute a bunch of these at once</span>
        <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a>.clear();

        <span class="keyword">typedef</span> std::vector&lt;boost::shared_ptr&lt;StrikedTypePayoff&gt; &gt; PayoffList;
        <span class="keyword">typedef</span> std::map&lt;Date, PayoffList&gt; PayoffMap;
        PayoffMap payoffMap;
        
        <span class="keywordflow">for</span> (std::vector&lt;boost::shared_ptr&lt;Instrument&gt; &gt;::const_iterator optIt = optionList.begin();
            optIt != optionList.end(); optIt++)
        {
            boost::shared_ptr&lt;VanillaOption&gt; option = boost::dynamic_pointer_cast&lt;VanillaOption&gt;(*optIt);
            <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(option, <span class="stringliteral">&quot;instrument must be option&quot;</span>);
            <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(option-&gt;exercise()-&gt;type() == <a class="code" href="class_quant_lib_1_1_exercise.html#add0610ca64f2c8be9355ac232cb2f322af4e71f30188d596e0e7572d76ad0bfe7">Exercise::European</a>,
                <span class="stringliteral">&quot;not an European Option&quot;</span>);

            boost::shared_ptr&lt;StrikedTypePayoff&gt; payoff =
                boost::dynamic_pointer_cast&lt;StrikedTypePayoff&gt;(option-&gt;payoff());
            <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(payoff, <span class="stringliteral">&quot;non-striked payoff given&quot;</span>);

            payoffMap[option-&gt;exercise()-&gt;lastDate()].push_back(payoff);
        }

        std::complex&lt;Real&gt; i1(0, 1);
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> alpha = 1.25;

        <span class="keywordflow">for</span> (PayoffMap::const_iterator payIt = payoffMap.begin(); payIt != payoffMap.end(); payIt++)
        {
            Date expiryDate = payIt-&gt;first;

            <span class="comment">// Calculate n large enough for maximum strike, and round up to a power of 2</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> maxStrike = 0.0;
            <span class="keywordflow">for</span> (PayoffList::const_iterator it = payIt-&gt;second.begin();
                it != payIt-&gt;second.end(); it++)
            {
                boost::shared_ptr&lt;StrikedTypePayoff&gt; payoff = *it;

                <span class="keywordflow">if</span> (payoff-&gt;strike() &gt; maxStrike)
                    maxStrike = payoff-&gt;strike();
            }
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> nR = 2.0 * (std::log(maxStrike) + <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a>) / <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a>;
      <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> log2_n = (<span class="keyword">static_cast&lt;</span><a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a><span class="keyword">&gt;</span>((std::log(nR) / std::log(2.0))) + 1);
            <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> n = 1 &lt;&lt; log2_n;

            <span class="comment">// Strike range (equation 19,20)</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a363b018ed55f2c9dd81e7c8d53aab592">b</a> = n * <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a> / 2.0;

            <span class="comment">// Grid spacing (equation 23)</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> eta = 2.0 * <a class="code" href="mathconstants_8hpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a> / (<a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a> * n);

            <span class="comment">// Discount factor</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> df = <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a008f6983155001cbf5639df30f748cf2">discountFactor</a>(expiryDate);
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> div = <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#ace686239d7a442371215e8e72f4293c3">dividendYield</a>(expiryDate);

            <span class="comment">// Input to fourier transform</span>
            std::vector&lt;std::complex&lt;Real&gt; &gt; fti;
            fti.resize(n);

            <span class="comment">// Precalculate any discount factors etc.</span>
            <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#ab13c7571c9214ff6d19dcb5f90db945b">precalculateExpiry</a>(expiryDate);

            <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;n; i++)
            {
                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> v_j = eta * i;
                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> sw = eta * (3.0 + ((i % 2) == 0 ? -1.0 : 1.0) - ((i == 0) ? 1.0 : 0.0)) / 3.0; 

                std::complex&lt;Real&gt; psi = df * <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a7272e2e4dc174d6470ee1f7611cd81cc">complexFourierTransform</a>(v_j - (alpha + 1)* i1);
                psi = psi / (alpha*alpha + alpha - v_j*v_j + i1 * (2 * alpha + 1.0) * v_j);

                fti[i] = std::exp(i1 * b * v_j)  * sw * psi;
            }

            <span class="comment">// Perform fft</span>
            std::vector&lt;std::complex&lt;Real&gt; &gt; <a class="code" href="class_dividend_vanilla_option_1_1results.html">results</a>(n);
            FastFourierTransform fft(log2_n);
            fft.transform(fti.begin(), fti.end(), <a class="code" href="class_dividend_vanilla_option_1_1results.html">results</a>.begin());

            <span class="comment">// Call prices</span>
            std::vector&lt;Real&gt; prices, strikes;
            prices.resize(n);
            strikes.resize(n);
            <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;n; i++)
            {
                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> k_u = -b + <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">lambda_</a> * i;
                prices[i] = (std::exp(-alpha * k_u) / <a class="code" href="mathconstants_8hpp.html#ae71449b1cc6e6250b91f539153a7a0d3">M_PI</a>) * <a class="code" href="class_dividend_vanilla_option_1_1results.html">results</a>[i].real();
                strikes[i] = std::exp(k_u);
            }

            <span class="keywordflow">for</span> (PayoffList::const_iterator it = payIt-&gt;second.begin();
                it != payIt-&gt;second.end(); it++)
            {
                boost::shared_ptr&lt;StrikedTypePayoff&gt; payoff = *it;

                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> callPrice = LinearInterpolation(strikes.begin(), strikes.end(), prices.begin())(payoff-&gt;strike());
                <span class="keywordflow">switch</span> (payoff-&gt;optionType())
                {
                <span class="keywordflow">case</span> <a class="code" href="class_quant_lib_1_1_option.html#abaee7fc605354c444867545492cd5845a4f872c1ba3286c1af60485c2f4a4d3c1">Option::Call</a>:
                    <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a>[expiryDate][payoff] = callPrice;
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">case</span> <a class="code" href="class_quant_lib_1_1_option.html#abaee7fc605354c444867545492cd5845aa96ffa37e51c7bbea13951f106dbd3c0">Option::Put</a>:
                    <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a>[expiryDate][payoff] = callPrice - <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a270fd50e5765c152934c15a095db5e5e">process_</a>-&gt;x0() * div + payoff-&gt;strike() * df;
                    <span class="keywordflow">break</span>;
                <span class="keywordflow">default</span>:
                    <a class="code" href="errors_8hpp.html#a8efe9cb3e67c8d0585e57b4d53c5d2fe" title="throw an error (possibly with file and line information)">QL_FAIL</a>(<span class="stringliteral">&quot;Invalid option type&quot;</span>);
                }
            }
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ab13c7571c9214ff6d19dcb5f90db945b"></a><!-- doxytag: member="QuantLib::FFTEngine::precalculateExpiry" ref="ab13c7571c9214ff6d19dcb5f90db945b" args="(Date d)=0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#ab13c7571c9214ff6d19dcb5f90db945b">QuantLib::FFTEngine::precalculateExpiry</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td><code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Implemented in <a class="el" href="class_quant_lib_1_1_f_f_t_vanilla_engine.html#afdad71e4766d29b0b9dd26202090f8ee">QuantLib::FFTVanillaEngine</a>, and <a class="el" href="class_quant_lib_1_1_f_f_t_variance_gamma_engine.html#add4a5307ca0262f0cfbc645f64ff163d">QuantLib::FFTVarianceGammaEngine</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a389b45eff97fdb6e9526f78079fca458"></a><!-- doxytag: member="QuantLib::FFTEngine::update" ref="a389b45eff97fdb6e9526f78079fca458" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a389b45eff97fdb6e9526f78079fca458">QuantLib::FFTEngine::update</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8cpp_source.html#l00058">58</a> of file <a class="el" href="fftengine_8cpp_source.html">fftengine.cpp</a>.</p>

<p>References <a class="el" href="fftengine_8hpp_source.html#l00072">resultMap_</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="comment">// Process has changed so cached values may no longer be correct</span>
        <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">resultMap_</a>.clear();

        <span class="comment">// Call base class implementation</span>
        <a class="code" href="class_quant_lib_1_1_f_f_t_engine.html#a389b45eff97fdb6e9526f78079fca458">VanillaOption::engine::update</a>();
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a068f3021b2dc404c08f28dc632e0c6d9"></a><!-- doxytag: member="QuantLib::FFTEngine::lambda_" ref="a068f3021b2dc404c08f28dc632e0c6d9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a068f3021b2dc404c08f28dc632e0c6d9">QuantLib::FFTEngine::lambda_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8hpp_source.html#l00067">67</a> of file <a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="fftvanillaengine_8cpp_source.html#l00033">QuantLib::FFTVanillaEngine::clone()</a>, <a class="el" href="fftvariancegammaengine_8cpp_source.html#l00032">QuantLib::FFTVarianceGammaEngine::clone()</a>, and <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>.</p>

</div>
</div>
<a class="anchor" id="a270fd50e5765c152934c15a095db5e5e"></a><!-- doxytag: member="QuantLib::FFTEngine::process_" ref="a270fd50e5765c152934c15a095db5e5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_lib_1_1_stochastic_process1_d.html">StochasticProcess1D</a>&gt; <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a270fd50e5765c152934c15a095db5e5e">QuantLib::FFTEngine::process_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8hpp_source.html#l00066">66</a> of file <a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="fftvanillaengine_8cpp_source.html#l00033">QuantLib::FFTVanillaEngine::clone()</a>, <a class="el" href="fftvariancegammaengine_8cpp_source.html#l00032">QuantLib::FFTVarianceGammaEngine::clone()</a>, <a class="el" href="fftvanillaengine_8cpp_source.html#l00060">QuantLib::FFTVanillaEngine::complexFourierTransform()</a>, <a class="el" href="fftvariancegammaengine_8cpp_source.html#l00057">QuantLib::FFTVarianceGammaEngine::complexFourierTransform()</a>, <a class="el" href="fftvariancegammaengine_8cpp_source.html#l00071">QuantLib::FFTVarianceGammaEngine::discountFactor()</a>, <a class="el" href="fftvanillaengine_8cpp_source.html#l00072">QuantLib::FFTVanillaEngine::discountFactor()</a>, <a class="el" href="fftvanillaengine_8cpp_source.html#l00079">QuantLib::FFTVanillaEngine::dividendYield()</a>, <a class="el" href="fftvariancegammaengine_8cpp_source.html#l00078">QuantLib::FFTVarianceGammaEngine::dividendYield()</a>, <a class="el" href="fftengine_8cpp_source.html#l00028">FFTEngine()</a>, <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>, <a class="el" href="fftvanillaengine_8cpp_source.html#l00040">QuantLib::FFTVanillaEngine::precalculateExpiry()</a>, and <a class="el" href="fftvariancegammaengine_8cpp_source.html#l00039">QuantLib::FFTVarianceGammaEngine::precalculateExpiry()</a>.</p>

</div>
</div>
<a class="anchor" id="a1efcf3c0fe5e61b082640376743dadd8"></a><!-- doxytag: member="QuantLib::FFTEngine::resultMap_" ref="a1efcf3c0fe5e61b082640376743dadd8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a843f9d3218fbdb53f7f96b33bcf23623">ResultMap</a> <a class="el" href="class_quant_lib_1_1_f_f_t_engine.html#a1efcf3c0fe5e61b082640376743dadd8">QuantLib::FFTEngine::resultMap_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fftengine_8hpp_source.html#l00072">72</a> of file <a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="fftengine_8cpp_source.html#l00034">calculate()</a>, <a class="el" href="fftengine_8cpp_source.html#l00080">precalculate()</a>, and <a class="el" href="fftengine_8cpp_source.html#l00058">update()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/experimental/variancegamma/<a class="el" href="fftengine_8hpp_source.html">fftengine.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/experimental/variancegamma/<a class="el" href="fftengine_8cpp_source.html">fftengine.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_f_f_t_engine.html">FFTEngine</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:06 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
