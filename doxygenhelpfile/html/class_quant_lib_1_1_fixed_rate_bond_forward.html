<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::FixedRateBondForward Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_fixed_rate_bond_forward.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::FixedRateBondForward Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::FixedRateBondForward" --><!-- doxytag: inherits="QuantLib::Forward" -->
<p>Forward contract on a fixed-rate bond  
 <a href="class_quant_lib_1_1_fixed_rate_bond_forward.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fixedratebondforward_8hpp_source.html">fixedratebondforward.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for QuantLib::FixedRateBondForward:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_fixed_rate_bond_forward__inherit__graph.png" border="0" usemap="#_quant_lib_1_1_fixed_rate_bond_forward_inherit__map" alt="Inheritance graph"/></div>
<map name="_quant_lib_1_1_fixed_rate_bond_forward_inherit__map" id="_quant_lib_1_1_fixed_rate_bond_forward_inherit__map">
<area shape="rect" id="node2" href="class_quant_lib_1_1_forward.html" title="Abstract base forward class." alt="" coords="68,1187,252,1810"/><area shape="rect" id="node4" href="class_quant_lib_1_1_instrument.html" title="Abstract instrument class." alt="" coords="81,533,239,1139"/><area shape="rect" id="node6" href="class_quant_lib_1_1_lazy_object.html" title="Framework for calculation on demand and result caching." alt="" coords="83,243,237,485"/><area shape="rect" id="node8" href="class_quant_lib_1_1_observable.html" title="Object that notifies its changes to a set of observers." alt="" coords="5,5,152,195"/><area shape="rect" id="node10" href="class_quant_lib_1_1_observer.html" title="Object that gets notified when a given observable changes." alt="" coords="176,5,309,195"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for QuantLib::FixedRateBondForward:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_fixed_rate_bond_forward__coll__graph.png" border="0" usemap="#_quant_lib_1_1_fixed_rate_bond_forward_coll__map" alt="Collaboration graph"/></div>
<map name="_quant_lib_1_1_fixed_rate_bond_forward_coll__map" id="_quant_lib_1_1_fixed_rate_bond_forward_coll__map">
<area shape="rect" id="node2" href="class_quant_lib_1_1_forward.html" title="Abstract base forward class." alt="" coords="976,3145,1160,3767"/><area shape="rect" id="node4" href="class_quant_lib_1_1_instrument.html" title="Abstract instrument class." alt="" coords="359,2456,516,3061"/><area shape="rect" id="node6" href="class_quant_lib_1_1_lazy_object.html" title="Framework for calculation on demand and result caching." alt="" coords="263,1655,417,1897"/><area shape="rect" id="node8" href="class_quant_lib_1_1_observable.html" title="Object that notifies its changes to a set of observers." alt="" coords="264,907,411,1096"/><area shape="rect" id="node12" href="class_quant_lib_1_1_observer.html" title="Object that gets notified when a given observable changes." alt="" coords="467,499,600,688"/><area shape="rect" id="node18" title="STL class." alt="" coords="384,167,483,252"/><area shape="rect" id="node42" title="STL class." alt="" coords="161,158,284,261"/><area shape="rect" id="node24" href="classbool.html" title="{bool\n||}" alt="" coords="435,959,480,1044"/><area shape="rect" id="node28" href="class_quant_lib_1_1_date.html" title="Concrete date class." alt="" coords="652,1179,825,2373"/><area shape="rect" id="node36" title="STL class." alt="" coords="48,167,128,252"/><area shape="rect" id="node38" title="STL class." alt="" coords="5,5,171,91"/><area shape="rect" id="node47" href="class_quant_lib_1_1_day_counter.html" title="day counter class" alt="" coords="992,2638,1144,2879"/><area shape="rect" id="node66" href="class_quant_lib_1_1_calendar.html" title="calendar class" alt="" coords="795,2595,968,2923"/><area shape="rect" id="node55" href="class_quant_lib_1_1_handle.html" title="{QuantLib::Handle\&lt; YieldTermStructure \&gt;\n|# link_\l|+ currentLink()\l+ operator&#45;\&gt;()\l+ operator*()\l+ empty()\l+ operator boost::shared_ptr\&lt; Observable \&gt;()\l+ operator==()\l+ operator!=()\l+ operator\&lt;()\l+ Handle()\l+ Handle()\l* Handle()\l* Handle()\l}" alt="" coords="1357,2621,1640,2897"/><area shape="rect" id="node59" href="class_quant_lib_1_1_handle.html" title="Shared handle to an observable." alt="" coords="1493,1638,1776,1914"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_quant_lib_1_1_fixed_rate_bond_forward-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#a7d4203a7a52d080e11688bba2ac06aee">FixedRateBondForward</a> (const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;valueDate, const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;maturityDate, <a class="el" href="struct_quant_lib_1_1_position.html#aabfb576c6f84d01e43ed1b9ba4df60b6">Position::Type</a> <a class="el" href="class_traits_1_1template_01curve_1_1type.html">type</a>, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> strike, <a class="el" href="namespace_quant_lib.html#a9adc2615d630d6006896b3402b09b03b">Natural</a> settlementDays, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;<a class="el" href="class_quant_lib_1_1_forward.html#a79c4fce53c6b868718150242ad86a298">dayCounter</a>, const <a class="el" href="class_quant_lib_1_1_calendar.html">Calendar</a> &amp;<a class="el" href="class_quant_lib_1_1_forward.html#a127e97ed6ab7b3439212bebe2ea82995">calendar</a>, <a class="el" href="namespace_quant_lib.html#ac95a4b5bc8017f1eb4ad0b54a9af3881">BusinessDayConvention</a> <a class="el" href="class_quant_lib_1_1_forward.html#a13ee2a8daddc8778e8332f870bc105ae">businessDayConvention</a>, const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_fixed_rate_bond.html">FixedRateBond</a> &gt; &amp;fixedCouponBond, const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;<a class="el" href="class_quant_lib_1_1_forward.html#aafc13018431efc231aec1605bc716a4a">discountCurve</a>=<a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt;(), const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;<a class="el" href="class_quant_lib_1_1_forward.html#a616de3361ca05ebbdffe138565883d15">incomeDiscountCurve</a>=<a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt;())</td></tr>
<tr><td colspan="2"><div class="groupHeader">Calculations</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#acd425fa57e66201208f9a86b42cbe70b">forwardPrice</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(dirty) forward bond price  <a href="#acd425fa57e66201208f9a86b42cbe70b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#ace8ff40506fa52e238a5c1040561d87f">cleanForwardPrice</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">(dirty) forward bond price minus accrued on bond at delivery  <a href="#ace8ff40506fa52e238a5c1040561d87f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#a1731f37206ff563411819bf88838a36a">spotIncome</a> (const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;<a class="el" href="class_quant_lib_1_1_forward.html#a616de3361ca05ebbdffe138565883d15">incomeDiscountCurve</a>) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NPV of bond coupons discounted using incomeDiscountCurve.  <a href="#a1731f37206ff563411819bf88838a36a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#aae4212da9dde3d58302021cf763ea12d">spotValue</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">NPV of underlying bond.  <a href="#aae4212da9dde3d58302021cf763ea12d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#afd7245562b3107f9948c236dc7ede4f3">performCalculations</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_fixed_rate_bond.html">FixedRateBond</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#af74f7dfb75d1fbe53292d01911cadca8">fixedCouponBond_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Forward contract on a fixed-rate bond </p>
<p>1. valueDate refers to the settlement date of the bond forward contract. maturityDate is the delivery (or repurchase) date for the underlying bond (not the bond's maturity date).</p>
<p>2. Relevant formulas used in the calculations ( \(P\) refers to a price):</p>
<p>a. \( P_{CleanFwd}(t) = P_{DirtyFwd}(t) - AI(t=deliveryDate) \) where \( AI \) refers to the accrued interest on the underlying bond.</p>
<p>b. \( P_{DirtyFwd}(t) = \frac{P_{DirtySpot}(t) - SpotIncome(t)} {discountCurve-&gt;discount(t=deliveryDate)} \)</p>
<p>c. \( SpotIncome(t) = \sum_i \left( CF_i \times incomeDiscountCurve-&gt;discount(t_i) \right) \) where \( CF_i \) represents the ith bond cash flow (coupon payment) associated with the underlying bond falling between the settlementDate and the deliveryDate. (Note the two different discount curves used in b. and c.)</p>
<p><b>Example: </b> <a class="el" href="">valuation of a repo on a fixed-rate bond </a></p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000022">Todo:</a></b></dt><dd>Add preconditions and tests</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000023">Todo:</a></b></dt><dd>Create switch- if coupon goes to seller is toggled on, don't consider income in the \( P_{DirtyFwd}(t) \) calculation.</dd></dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000024">Todo:</a></b></dt><dd>Verify this works when the underlying is paper (in which case ignore all AI.)</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>This class still needs to be rigorously tested </dd></dl>

<p>Definition at line <a class="el" href="fixedratebondforward_8hpp_source.html#l00073">73</a> of file <a class="el" href="fixedratebondforward_8hpp_source.html">fixedratebondforward.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a7d4203a7a52d080e11688bba2ac06aee"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::FixedRateBondForward" ref="a7d4203a7a52d080e11688bba2ac06aee" args="(const Date &amp;valueDate, const Date &amp;maturityDate, Position::Type type, Real strike, Natural settlementDays, const DayCounter &amp;dayCounter, const Calendar &amp;calendar, BusinessDayConvention businessDayConvention, const boost::shared_ptr&lt; FixedRateBond &gt; &amp;fixedCouponBond, const Handle&lt; YieldTermStructure &gt; &amp;discountCurve=Handle&lt; YieldTermStructure &gt;(), const Handle&lt; YieldTermStructure &gt; &amp;incomeDiscountCurve=Handle&lt; YieldTermStructure &gt;())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#a7d4203a7a52d080e11688bba2ac06aee">QuantLib::FixedRateBondForward::FixedRateBondForward</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;&#160;</td>
          <td class="paramname"><em>valueDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;&#160;</td>
          <td class="paramname"><em>maturityDate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_quant_lib_1_1_position.html#aabfb576c6f84d01e43ed1b9ba4df60b6">Position::Type</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>strike</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a9adc2615d630d6006896b3402b09b03b">Natural</a>&#160;</td>
          <td class="paramname"><em>settlementDays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_calendar.html">Calendar</a> &amp;&#160;</td>
          <td class="paramname"><em>calendar</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#ac95a4b5bc8017f1eb4ad0b54a9af3881">BusinessDayConvention</a>&#160;</td>
          <td class="paramname"><em>businessDayConvention</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_fixed_rate_bond.html">FixedRateBond</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>fixedCouponBond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>discountCurve</em> = <code><a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a>&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>incomeDiscountCurve</em> = <code><a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a>&gt;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>If strike is given in the constructor, can calculate the NPV of the contract via <a class="el" href="class_quant_lib_1_1_instrument.html#a7dfec8f05e4dffbec262cecb6a4bab68" title="returns the net present value of the instrument.">NPV()</a>.</p>
<p>If strike/forward price is desired, it can be obtained via <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#acd425fa57e66201208f9a86b42cbe70b" title="(dirty) forward bond price">forwardPrice()</a>. In this case, the strike variable in the constructor is irrelevant and will be ignored. </p>

<p>Definition at line <a class="el" href="fixedratebondforward_8cpp_source.html#l00026">26</a> of file <a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a>.</p>

<p>References <a class="el" href="forward_8hpp_source.html#l00185">QuantLib::Forward::incomeDiscountCurve()</a>, <a class="el" href="forward_8hpp_source.html#l00141">QuantLib::Forward::incomeDiscountCurve_</a>, and <a class="el" href="observable_8hpp_source.html#l00165">QuantLib::Observer::registerWith()</a>.</p>
<div class="fragment"><pre class="fragment">    : <a class="code" href="class_quant_lib_1_1_forward.html#a9567af380c361d8e5a67fccc54eafdb7">Forward</a>(<a class="code" href="class_quant_lib_1_1_forward.html#a79c4fce53c6b868718150242ad86a298">dayCounter</a>, <a class="code" href="class_quant_lib_1_1_forward.html#a127e97ed6ab7b3439212bebe2ea82995">calendar</a>, <a class="code" href="class_quant_lib_1_1_forward.html#a13ee2a8daddc8778e8332f870bc105ae">businessDayConvention</a>, settlementDays,
              boost::shared_ptr&lt;Payoff&gt;(<span class="keyword">new</span> ForwardTypePayoff(<a class="code" href="class_traits_1_1template_01curve_1_1type.html">type</a>,strike)),
              valueDate, maturityDate, <a class="code" href="class_quant_lib_1_1_forward.html#aafc13018431efc231aec1605bc716a4a" title="term structure relevant to the contract (e.g. repo curve)">discountCurve</a>),
      <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#af74f7dfb75d1fbe53292d01911cadca8">fixedCouponBond_</a>(fixedCouponBond) {

        <a class="code" href="class_quant_lib_1_1_forward.html#ab0bb02779606e3e23cc54358b165fc26">incomeDiscountCurve_</a> = <a class="code" href="class_quant_lib_1_1_forward.html#a616de3361ca05ebbdffe138565883d15" title="term structure that discounts the underlying&#39;s income cash flows">incomeDiscountCurve</a>;
        <a class="code" href="class_quant_lib_1_1_observer.html#a4c9f4fc7a6b55b246566c40462b95121">registerWith</a>(<a class="code" href="class_quant_lib_1_1_forward.html#ab0bb02779606e3e23cc54358b165fc26">incomeDiscountCurve_</a>);
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ace8ff40506fa52e238a5c1040561d87f"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::cleanForwardPrice" ref="ace8ff40506fa52e238a5c1040561d87f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#ace8ff40506fa52e238a5c1040561d87f">QuantLib::FixedRateBondForward::cleanForwardPrice</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(dirty) forward bond price minus accrued on bond at delivery </p>

<p>Definition at line <a class="el" href="fixedratebondforward_8cpp_source.html#l00048">48</a> of file <a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a>.</p>

<p>References <a class="el" href="fixedratebondforward_8hpp_source.html#l00123">fixedCouponBond_</a>, <a class="el" href="forward_8cpp_source.html#l00060">QuantLib::Forward::forwardValue()</a>, and <a class="el" href="forward_8hpp_source.html#l00138">QuantLib::Forward::maturityDate_</a>.</p>
<div class="fragment"><pre class="fragment">                                                       {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_forward.html#a4aa8ae6071f43c5eb445162de7e3514b" title="forward value/price of underlying, discounting income/dividends">forwardValue</a>() -
               <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#af74f7dfb75d1fbe53292d01911cadca8">fixedCouponBond_</a>-&gt;accruedAmount(<a class="code" href="class_quant_lib_1_1_forward.html#a3dc0d0f2332f1c25acb4d929139ce339" title="maturityDate of the forward contract or delivery date of underlying">maturityDate_</a>);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="acd425fa57e66201208f9a86b42cbe70b"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::forwardPrice" ref="acd425fa57e66201208f9a86b42cbe70b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#acd425fa57e66201208f9a86b42cbe70b">QuantLib::FixedRateBondForward::forwardPrice</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>(dirty) forward bond price </p>

<p>Definition at line <a class="el" href="fixedratebondforward_8cpp_source.html#l00054">54</a> of file <a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a>.</p>

<p>References <a class="el" href="forward_8cpp_source.html#l00060">QuantLib::Forward::forwardValue()</a>.</p>
<div class="fragment"><pre class="fragment">                                                  {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_forward.html#a4aa8ae6071f43c5eb445162de7e3514b" title="forward value/price of underlying, discounting income/dividends">forwardValue</a>();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="afd7245562b3107f9948c236dc7ede4f3"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::performCalculations" ref="afd7245562b3107f9948c236dc7ede4f3" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#afd7245562b3107f9948c236dc7ede4f3">QuantLib::FixedRateBondForward::performCalculations</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [protected, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>In case a pricing engine is <b>not</b> used, this method must be overridden to perform the actual calculations and set any needed results. In case a pricing engine is used, the default implementation can be used. </p>

<p>Reimplemented from <a class="el" href="class_quant_lib_1_1_forward.html#a8b5e83ba13ff927a41dd539fdae469c9">QuantLib::Forward</a>.</p>

<p>Definition at line <a class="el" href="fixedratebondforward_8cpp_source.html#l00093">93</a> of file <a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a>.</p>

<p>References <a class="el" href="forward_8hpp_source.html#l00141">QuantLib::Forward::incomeDiscountCurve_</a>, <a class="el" href="fixedratebondforward_8cpp_source.html#l00059">spotIncome()</a>, <a class="el" href="fixedratebondforward_8cpp_source.html#l00088">spotValue()</a>, <a class="el" href="forward_8hpp_source.html#l00124">QuantLib::Forward::underlyingIncome_</a>, and <a class="el" href="forward_8hpp_source.html#l00126">QuantLib::Forward::underlyingSpotValue_</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {

        <a class="code" href="class_quant_lib_1_1_forward.html#a6aba48f67b6e6436117151fc9e9d9d75">underlyingSpotValue_</a> = <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#aae4212da9dde3d58302021cf763ea12d" title="NPV of underlying bond.">spotValue</a>();
        <a class="code" href="class_quant_lib_1_1_forward.html#aeb299610c4b6a2a00966883339366a26">underlyingIncome_</a>    = <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#a1731f37206ff563411819bf88838a36a" title="NPV of bond coupons discounted using incomeDiscountCurve.">spotIncome</a>(<a class="code" href="class_quant_lib_1_1_forward.html#ab0bb02779606e3e23cc54358b165fc26">incomeDiscountCurve_</a>);

        <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#afd7245562b3107f9948c236dc7ede4f3">Forward::performCalculations</a>();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a1731f37206ff563411819bf88838a36a"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::spotIncome" ref="a1731f37206ff563411819bf88838a36a" args="(const Handle&lt; YieldTermStructure &gt; &amp;incomeDiscountCurve) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#a1731f37206ff563411819bf88838a36a">QuantLib::FixedRateBondForward::spotIncome</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>incomeDiscountCurve</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NPV of bond coupons discounted using incomeDiscountCurve. </p>
<p>Here only coupons between max(evaluation date,settlement date) and maturity date of bond forward contract are considered income. </p>

<p>Implements <a class="el" href="class_quant_lib_1_1_forward.html#a5c7aecf175d13720287ae2f67eb416dd">QuantLib::Forward</a>.</p>

<p>Definition at line <a class="el" href="fixedratebondforward_8cpp_source.html#l00059">59</a> of file <a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a>.</p>

<p>References <a class="el" href="fixedratebondforward_8hpp_source.html#l00123">fixedCouponBond_</a>, <a class="el" href="forward_8hpp_source.html#l00138">QuantLib::Forward::maturityDate_</a>, and <a class="el" href="forward_8cpp_source.html#l00047">QuantLib::Forward::settlementDate()</a>.</p>

<p>Referenced by <a class="el" href="fixedratebondforward_8cpp_source.html#l00093">performCalculations()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                             {

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> income = 0.0;
        Date settlement = <a class="code" href="class_quant_lib_1_1_forward.html#a263c4e921e1bd897c16c3fc88d8128b6">settlementDate</a>();
        <a class="code" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11" title="Sequence of cash-flows.">Leg</a> cf =
            <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#af74f7dfb75d1fbe53292d01911cadca8">fixedCouponBond_</a>-&gt;cashflows();

        <span class="comment">/*</span>
<span class="comment">          the following assumes</span>
<span class="comment">          1. cashflows are in ascending order !</span>
<span class="comment">          2. considers as income: all coupons paid between settlementDate()</span>
<span class="comment">          and contract delivery/maturity date</span>
<span class="comment">        */</span>
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i = 0; i &lt; cf.size(); ++i) {
            <span class="keywordflow">if</span> (!cf[i]-&gt;hasOccurred(settlement, <span class="keyword">false</span>)) {
                <span class="keywordflow">if</span> (cf[i]-&gt;hasOccurred(<a class="code" href="class_quant_lib_1_1_forward.html#a3dc0d0f2332f1c25acb4d929139ce339" title="maturityDate of the forward contract or delivery date of underlying">maturityDate_</a>, <span class="keyword">false</span>)) {
                    income += cf[i]-&gt;amount() *
                              <a class="code" href="class_quant_lib_1_1_forward.html#a616de3361ca05ebbdffe138565883d15" title="term structure that discounts the underlying&#39;s income cash flows">incomeDiscountCurve</a>-&gt;discount(cf[i]-&gt;date()) ;
                } <span class="keywordflow">else</span> {
                    <span class="keywordflow">break</span>;
                }
            }
        }

        <span class="keywordflow">return</span> income;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aae4212da9dde3d58302021cf763ea12d"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::spotValue" ref="aae4212da9dde3d58302021cf763ea12d" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#aae4212da9dde3d58302021cf763ea12d">QuantLib::FixedRateBondForward::spotValue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>NPV of underlying bond. </p>

<p>Implements <a class="el" href="class_quant_lib_1_1_forward.html#ae0e5cb4fcca8cf33cc53d816c008ade6">QuantLib::Forward</a>.</p>

<p>Definition at line <a class="el" href="fixedratebondforward_8cpp_source.html#l00088">88</a> of file <a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a>.</p>

<p>References <a class="el" href="fixedratebondforward_8hpp_source.html#l00123">fixedCouponBond_</a>.</p>

<p>Referenced by <a class="el" href="fixedratebondforward_8cpp_source.html#l00093">performCalculations()</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#af74f7dfb75d1fbe53292d01911cadca8">fixedCouponBond_</a>-&gt;dirtyPrice();
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="af74f7dfb75d1fbe53292d01911cadca8"></a><!-- doxytag: member="QuantLib::FixedRateBondForward::fixedCouponBond_" ref="af74f7dfb75d1fbe53292d01911cadca8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_lib_1_1_fixed_rate_bond.html">FixedRateBond</a>&gt; <a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html#af74f7dfb75d1fbe53292d01911cadca8">QuantLib::FixedRateBondForward::fixedCouponBond_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fixedratebondforward_8hpp_source.html#l00123">123</a> of file <a class="el" href="fixedratebondforward_8hpp_source.html">fixedratebondforward.hpp</a>.</p>

<p>Referenced by <a class="el" href="fixedratebondforward_8cpp_source.html#l00048">cleanForwardPrice()</a>, <a class="el" href="fixedratebondforward_8cpp_source.html#l00059">spotIncome()</a>, and <a class="el" href="fixedratebondforward_8cpp_source.html#l00088">spotValue()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/instruments/<a class="el" href="fixedratebondforward_8hpp_source.html">fixedratebondforward.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/instruments/<a class="el" href="fixedratebondforward_8cpp_source.html">fixedratebondforward.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_fixed_rate_bond_forward.html">FixedRateBondForward</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:08 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
