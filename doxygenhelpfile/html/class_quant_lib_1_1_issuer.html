<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::Issuer Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_issuer.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::Issuer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::Issuer" -->
<p><code>#include &lt;<a class="el" href="issuer_8hpp_source.html">issuer.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for QuantLib::Issuer:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_issuer__coll__graph.png" border="0" usemap="#_quant_lib_1_1_issuer_coll__map" alt="Collaboration graph"/></div>
<map name="_quant_lib_1_1_issuer_coll__map" id="_quant_lib_1_1_issuer_coll__map">
<area shape="rect" id="node6" title="STL class." alt="" coords="308,157,407,243"/><area shape="rect" id="node14" title="STL class." alt="" coords="1112,157,1227,243"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_quant_lib_1_1_issuer-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef std::pair<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a>, <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a><br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#ac24754c9ea9053bd611410ac9ff6b517">key_curve_pair</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#aafd44e1f7edf20aafd993933852f5c76">Issuer</a> (const std::vector&lt; <a class="el" href="class_quant_lib_1_1_issuer.html#ac24754c9ea9053bd611410ac9ff6b517">key_curve_pair</a> &gt; &amp;probabilities=std::vector&lt; <a class="el" href="class_quant_lib_1_1_issuer.html#ac24754c9ea9053bd611410ac9ff6b517">key_curve_pair</a> &gt;(), const <a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a> &amp;events=<a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#ae0efe13077e1781d0b9e595355f2f7ab">Issuer</a> (const std::vector&lt; std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_default_type.html">DefaultType</a> &gt; &gt; &gt; &amp;eventTypes, const std::vector&lt; <a class="el" href="class_quant_lib_1_1_currency.html">Currency</a> &gt; &amp;currencies, const std::vector&lt; <a class="el" href="namespace_quant_lib.html#a197bfb2321381d9a5d8c94b56f6ef6cf">Seniority</a> &gt; &amp;seniorities, const std::vector&lt; <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt; &amp;curves, const <a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a> &amp;events=<a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a>())</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; boost::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_event.html">DefaultEvent</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#a696d12326024c0e6b55b4a36277b5592">defaultsBetween</a> (const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;start, const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;end, const <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a> &amp;contractKey, <a class="el" href="classbool.html">bool</a> includeRefDate) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Inspectors</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a><br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#a3da473dc195db7a73e341eb8ac6dd1fc">defaultProbability</a> (const <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a> &amp;key) const </td></tr>
<tr><td colspan="2"><div class="groupHeader">Utilities</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_default_event.html">DefaultEvent</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#a95cec59accec8567231e22096e0b4485">defaultedBetween</a> (const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;start, const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;end, const <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a> &amp;key, <a class="el" href="classbool.html">bool</a> includeRefDate=false) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">If a default event with the required seniority and.  <a href="#a95cec59accec8567231e22096e0b4485"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a>, <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a><br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#a2254e9cf3220f8ce00283a4bfe89e76c">probabilities_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">probabilities of events for each bond collection  <a href="#a2254e9cf3220f8ce00283a4bfe89e76c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e">events_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">History of past events affecting this issuer. Notice it is possible.  <a href="#a2bcd95a867e39b5d56840b02ae914b4e"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="issuer_8hpp_source.html#l00040">40</a> of file <a class="el" href="issuer_8hpp_source.html">issuer.hpp</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="ac24754c9ea9053bd611410ac9ff6b517"></a><!-- doxytag: member="QuantLib::Issuer::key_curve_pair" ref="ac24754c9ea9053bd611410ac9ff6b517" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::pair&lt;<a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a>, <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a>&gt; &gt; <a class="el" href="class_quant_lib_1_1_issuer.html#ac24754c9ea9053bd611410ac9ff6b517">QuantLib::Issuer::key_curve_pair</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="issuer_8hpp_source.html#l00044">44</a> of file <a class="el" href="issuer_8hpp_source.html">issuer.hpp</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aafd44e1f7edf20aafd993933852f5c76"></a><!-- doxytag: member="QuantLib::Issuer::Issuer" ref="aafd44e1f7edf20aafd993933852f5c76" args="(const std::vector&lt; key_curve_pair &gt; &amp;probabilities=std::vector&lt; key_curve_pair &gt;(), const DefaultEventSet &amp;events=DefaultEventSet())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_issuer.html#aafd44e1f7edf20aafd993933852f5c76">QuantLib::Issuer::Issuer</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_quant_lib_1_1_issuer.html#ac24754c9ea9053bd611410ac9ff6b517">key_curve_pair</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>probabilities</em> = <code>std::vector&lt;&#160;<a class="el" href="class_quant_lib_1_1_issuer.html#ac24754c9ea9053bd611410ac9ff6b517">key_curve_pair</a>&#160;&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a> &amp;&#160;</td>
          <td class="paramname"><em>events</em> = <code><a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>The first argument represents the probability of an issuer of having any of its bonds with the given seniority, currency incurring in that particular event. The second argument represents the history of past events. Theres no check on wether the event list makes sense, events can occur several times and several of them can take place on the same date.</p>
<p>To do: add settlement event access </p>

</div>
</div>
<a class="anchor" id="ae0efe13077e1781d0b9e595355f2f7ab"></a><!-- doxytag: member="QuantLib::Issuer::Issuer" ref="ae0efe13077e1781d0b9e595355f2f7ab" args="(const std::vector&lt; std::vector&lt; boost::shared_ptr&lt; DefaultType &gt; &gt; &gt; &amp;eventTypes, const std::vector&lt; Currency &gt; &amp;currencies, const std::vector&lt; Seniority &gt; &amp;seniorities, const std::vector&lt; Handle&lt; DefaultProbabilityTermStructure &gt; &gt; &amp;curves, const DefaultEventSet &amp;events=DefaultEventSet())" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_issuer.html#aafd44e1f7edf20aafd993933852f5c76">QuantLib::Issuer::Issuer</a> </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_default_type.html">DefaultType</a> &gt; &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>eventTypes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_quant_lib_1_1_currency.html">Currency</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>currencies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespace_quant_lib.html#a197bfb2321381d9a5d8c94b56f6ef6cf">Seniority</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>seniorities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>curves</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a> &amp;&#160;</td>
          <td class="paramname"><em>events</em> = <code><a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="issuer_8cpp_source.html#l00042">42</a> of file <a class="el" href="issuer_8cpp_source.html">issuer.cpp</a>.</p>

<p>References <a class="el" href="issuer_8hpp_source.html#l00097">probabilities_</a>, and <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>.</p>
<div class="fragment"><pre class="fragment">    : <a class="code" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e" title="History of past events affecting this issuer. Notice it is possible.">events_</a>(events) {
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>((eventTypes.size() == curves.size()) &amp;&amp;
            (curves.size()== currencies.size()) &amp;&amp;
            (currencies.size() == seniorities.size()),
            <span class="stringliteral">&quot;Incompatible size of Issuer parameters.&quot;</span>);

        <span class="keywordflow">for</span>(<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i &lt;eventTypes.size(); i++) {
            DefaultProbKey keytmp(eventTypes[i], currencies[i],
                seniorities[i]);
            <a class="code" href="class_quant_lib_1_1_issuer.html#a2254e9cf3220f8ce00283a4bfe89e76c" title="probabilities of events for each bond collection">probabilities_</a>.push_back(std::make_pair(keytmp, curves[i]));
        }
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a95cec59accec8567231e22096e0b4485"></a><!-- doxytag: member="QuantLib::Issuer::defaultedBetween" ref="a95cec59accec8567231e22096e0b4485" args="(const Date &amp;start, const Date &amp;end, const DefaultProbKey &amp;key, bool includeRefDate=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_default_event.html">DefaultEvent</a> &gt; <a class="el" href="class_quant_lib_1_1_issuer.html#a95cec59accec8567231e22096e0b4485">QuantLib::Issuer::defaultedBetween</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeRefDate</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>If a default event with the required seniority and. </p>

<p>Definition at line <a class="el" href="issuer_8cpp_source.html#l00071">71</a> of file <a class="el" href="issuer_8cpp_source.html">issuer.cpp</a>.</p>

<p>References <a class="el" href="issuer_8cpp_source.html#l00026">QuantLib::anonymous_namespace{issuer.cpp}::between()</a>, and <a class="el" href="issuer_8hpp_source.html#l00101">events_</a>.</p>
<div class="fragment"><pre class="fragment">    {
        <span class="comment">// to do: the set is ordered, see how to use it to speed this up</span>
        <span class="keywordflow">for</span>(DefaultEventSet::const_iterator itev = <a class="code" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e" title="History of past events affecting this issuer. Notice it is possible.">events_</a>.begin();
            <span class="comment">// am i really speeding things up with the date comp?</span>
            itev != <a class="code" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e" title="History of past events affecting this issuer. Notice it is possible.">events_</a>.end(); <span class="comment">// &amp;&amp; (*itev)-&gt;date() &gt; start;</span>
            itev++) {
            <span class="keywordflow">if</span>((*itev)-&gt;matchesDefaultKey(contractKey) &amp;&amp;
                <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02issuer_8cpp_03.html#adc87d00195e06b11242dc703d87b588b">between</a>(*itev, start, end, includeRefDate))
                <span class="keywordflow">return</span> *itev;
        }
        <span class="keywordflow">return</span> boost::shared_ptr&lt;DefaultEvent&gt;();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a3da473dc195db7a73e341eb8ac6dd1fc"></a><!-- doxytag: member="QuantLib::Issuer::defaultProbability" ref="a3da473dc195db7a73e341eb8ac6dd1fc" args="(const DefaultProbKey &amp;key) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &amp; <a class="el" href="class_quant_lib_1_1_issuer.html#a3da473dc195db7a73e341eb8ac6dd1fc">QuantLib::Issuer::defaultProbability</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="issuer_8cpp_source.html#l00063">63</a> of file <a class="el" href="issuer_8cpp_source.html">issuer.cpp</a>.</p>

<p>References <a class="el" href="issuer_8hpp_source.html#l00097">probabilities_</a>, and <a class="el" href="errors_8hpp_source.html#l00062">QL_FAIL</a>.</p>

<p>Referenced by <a class="el" href="syntheticcdoengines_8hpp_source.html#l00235">QuantLib::GaussianLHPCDOEngine&lt; CDOEngine &gt;::expectedTrancheLoss()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                  {
        <span class="keywordflow">for</span>(<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;<a class="code" href="class_quant_lib_1_1_issuer.html#a2254e9cf3220f8ce00283a4bfe89e76c" title="probabilities of events for each bond collection">probabilities_</a>.size(); i++)
            <span class="keywordflow">if</span>(key == <a class="code" href="class_quant_lib_1_1_issuer.html#a2254e9cf3220f8ce00283a4bfe89e76c" title="probabilities of events for each bond collection">probabilities_</a>[i].first)
                <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_issuer.html#a2254e9cf3220f8ce00283a4bfe89e76c" title="probabilities of events for each bond collection">probabilities_</a>[i].second;
        <a class="code" href="errors_8hpp.html#a8efe9cb3e67c8d0585e57b4d53c5d2fe" title="throw an error (possibly with file and line information)">QL_FAIL</a>(<span class="stringliteral">&quot;Probability curve not available.&quot;</span>);
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a696d12326024c0e6b55b4a36277b5592"></a><!-- doxytag: member="QuantLib::Issuer::defaultsBetween" ref="a696d12326024c0e6b55b4a36277b5592" args="(const Date &amp;start, const Date &amp;end, const DefaultProbKey &amp;contractKey, bool includeRefDate) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_default_event.html">DefaultEvent</a> &gt; &gt; <a class="el" href="class_quant_lib_1_1_issuer.html#a696d12326024c0e6b55b4a36277b5592">QuantLib::Issuer::defaultsBetween</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_date.html">Date</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a> &amp;&#160;</td>
          <td class="paramname"><em>contractKey</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>includeRefDate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="issuer_8cpp_source.html#l00091">91</a> of file <a class="el" href="issuer_8cpp_source.html">issuer.cpp</a>.</p>

<p>References <a class="el" href="issuer_8cpp_source.html#l00026">QuantLib::anonymous_namespace{issuer.cpp}::between()</a>, and <a class="el" href="issuer_8hpp_source.html#l00101">events_</a>.</p>
<div class="fragment"><pre class="fragment">    {
        std::vector&lt;boost::shared_ptr&lt;DefaultEvent&gt; &gt; defaults;
        <span class="comment">// to do: the set is ordered, see how to use it to speed this up</span>
        <span class="keywordflow">for</span>(DefaultEventSet::const_iterator itev = <a class="code" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e" title="History of past events affecting this issuer. Notice it is possible.">events_</a>.begin();
            <span class="comment">// am i really speeding things up with the date comp?</span>
            itev != <a class="code" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e" title="History of past events affecting this issuer. Notice it is possible.">events_</a>.end(); <span class="comment">// &amp;&amp; (*itev)-&gt;date() &gt; start;</span>
            itev++) {
            <span class="keywordflow">if</span>((*itev)-&gt;matchesDefaultKey(contractKey) &amp;&amp;
                <a class="code" href="namespace_quant_lib_1_1anonymous__namespace_02issuer_8cpp_03.html#adc87d00195e06b11242dc703d87b588b">between</a>(*itev, start, end, includeRefDate))
                defaults.push_back(*itev);
        }
        <span class="keywordflow">return</span> defaults;
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2bcd95a867e39b5d56840b02ae914b4e"></a><!-- doxytag: member="QuantLib::Issuer::events_" ref="a2bcd95a867e39b5d56840b02ae914b4e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a1ee70f0aae1823f4677fe9c024787b00">DefaultEventSet</a> <a class="el" href="class_quant_lib_1_1_issuer.html#a2bcd95a867e39b5d56840b02ae914b4e">QuantLib::Issuer::events_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>History of past events affecting this issuer. Notice it is possible. </p>

<p>Definition at line <a class="el" href="issuer_8hpp_source.html#l00101">101</a> of file <a class="el" href="issuer_8hpp_source.html">issuer.hpp</a>.</p>

<p>Referenced by <a class="el" href="issuer_8cpp_source.html#l00071">defaultedBetween()</a>, and <a class="el" href="issuer_8cpp_source.html#l00091">defaultsBetween()</a>.</p>

</div>
</div>
<a class="anchor" id="a2254e9cf3220f8ce00283a4bfe89e76c"></a><!-- doxytag: member="QuantLib::Issuer::probabilities_" ref="a2254e9cf3220f8ce00283a4bfe89e76c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::pair&lt;<a class="el" href="class_quant_lib_1_1_default_prob_key.html">DefaultProbKey</a>, <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a>&gt; &gt; &gt; <a class="el" href="class_quant_lib_1_1_issuer.html#a2254e9cf3220f8ce00283a4bfe89e76c">QuantLib::Issuer::probabilities_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>probabilities of events for each bond collection </p>

<p>Definition at line <a class="el" href="issuer_8hpp_source.html#l00097">97</a> of file <a class="el" href="issuer_8hpp_source.html">issuer.hpp</a>.</p>

<p>Referenced by <a class="el" href="issuer_8cpp_source.html#l00063">defaultProbability()</a>, and <a class="el" href="issuer_8cpp_source.html#l00042">Issuer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/experimental/credit/<a class="el" href="issuer_8hpp_source.html">issuer.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/experimental/credit/<a class="el" href="issuer_8cpp_source.html">issuer.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_issuer.html">Issuer</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:05 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
