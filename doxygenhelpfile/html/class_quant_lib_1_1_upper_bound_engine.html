<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::UpperBoundEngine Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_upper_bound_engine.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::UpperBoundEngine Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::UpperBoundEngine" -->
<p>Market-model engine for upper-bound estimation.  
 <a href="class_quant_lib_1_1_upper_bound_engine.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for QuantLib::UpperBoundEngine:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_upper_bound_engine__coll__graph.png" border="0" usemap="#_quant_lib_1_1_upper_bound_engine_coll__map" alt="Collaboration graph"/></div>
<map name="_quant_lib_1_1_upper_bound_engine_coll__map" id="_quant_lib_1_1_upper_bound_engine_coll__map">
<area shape="rect" id="node39" href="class_quant_lib_1_1_evolution_description.html" title="Market&#45;model evolution description." alt="" coords="1304,878,1507,1189"/><area shape="rect" id="node56" href="struct_quant_lib_1_1_market_model_composite_1_1_sub_product.html" title="{QuantLib::MarketModelComposite::SubProduct\n|+ product\l+ multiplier\l+ numberOfCashflows\l+ cashflows\l+ timeIndices\l+ done\l|}" alt="" coords="2433,947,2729,1119"/><area shape="rect" id="node6" title="STL class." alt="" coords="1727,236,1841,321"/><area shape="rect" id="node35" title="STL class." alt="" coords="2164,424,2289,509"/><area shape="rect" id="node84" href="class_quant_lib_1_1_market_model_discounter.html" title="{QuantLib::MarketModelDiscounter\n|&#45; before_\l&#45; beforeWeight_\l|+ MarketModelDiscounter()\l+ numeraireBonds()\l}" alt="" coords="665,973,884,1093"/><area shape="rect" id="node23" href="class_quant_lib_1_1_multi_product_composite.html" title="Composition of one or more market&#45;model products." alt="" coords="1280,2427,1584,2634"/><area shape="rect" id="node25" href="class_quant_lib_1_1_market_model_composite.html" title="Composition of two or more market&#45;model products." alt="" coords="1601,1755,1820,2360"/><area shape="rect" id="node27" href="class_quant_lib_1_1_market_model_multi_product.html" title="market&#45;model product" alt="" coords="1559,1291,1863,1515"/><area shape="rect" id="node33" href="classbool.html" title="{bool\n||}" alt="" coords="2208,612,2253,697"/><area shape="rect" id="node46" href="class_time.html" title="{Time\n||}" alt="" coords="1908,236,1959,321"/><area shape="rect" id="node66" href="class_quant_lib_1_1_clone.html" title="{QuantLib::Clone\&lt; MarketModelMultiProduct \&gt;\n|&#45; ptr_\l|+ Clone()\l+ Clone()\l+ Clone()\l+ Clone()\l+ operator=()\l+ operator=()\l+ operator*()\l+ operator&#45;\&gt;()\l+ empty()\l+ swap()\l}" alt="" coords="2873,534,3161,775"/><area shape="rect" id="node70" href="class_quant_lib_1_1_clone.html" title="cloning proxy to an underlying object" alt="" coords="3113,158,3260,399"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_quant_lib_1_1_upper_bound_engine-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#aac406d89c40eefc30b160e4f86ac525d">UpperBoundEngine</a> (const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a> &gt; &amp;evolver, const std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a> &gt; &gt; &amp;innerEvolvers, const <a class="el" href="class_quant_lib_1_1_market_model_multi_product.html">MarketModelMultiProduct</a> &amp;underlying, const <a class="el" href="class_quant_lib_1_1_market_model_exercise_value.html">MarketModelExerciseValue</a> &amp;rebate, const <a class="el" href="class_quant_lib_1_1_market_model_multi_product.html">MarketModelMultiProduct</a> &amp;hedge, const <a class="el" href="class_quant_lib_1_1_market_model_exercise_value.html">MarketModelExerciseValue</a> &amp;hedgeRebate, const <a class="el" href="class_quant_lib_1_1_exercise_strategy.html">ExerciseStrategy</a>&lt; <a class="el" href="class_quant_lib_1_1_curve_state.html">CurveState</a> &gt; &amp;hedgeStrategy, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> initialNumeraireValue)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a298eff543a92abdf4ff15407cb616416">multiplePathValues</a> (<a class="el" href="namespace_quant_lib.html#ae2e788da35d2b866040a03b96227ee6e">Statistics</a> &amp;stats, <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> outerPaths, <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> innerPaths)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::pair&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a60d8cbd069bedb513b42ea186de80a28">singlePathValue</a> (<a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> innerPaths)</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#afcb262ff5dfbad2bd3ea036230eae64e">collectCashFlows</a> (<a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> currentStep, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> principalInNumerairePortfolio, <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> beginProduct, <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> endProduct) const </td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; boost::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#af8d07c80263862656294ad038eedb7b5">innerEvolvers_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_multi_product_composite.html">MultiProductComposite</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a82ef8b50c975b13918d3b131870fbbe9">initialNumeraireValue_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">underlyingSize_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a397c69360bcb62dad34ae92725c2f6cd">rebateSize_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a5840ff00d9b53661ddd66f2ec0456457">hedgeSize_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ad7d5a18ff462aa295bc9aaa2eaf50582">hedgeRebateSize_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ab6069604b3b68a3c2effc571969bcf1e">underlyingOffset_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a777b929586f0f93bac8600ad84bb803c">rebateOffset_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#afc893794e5c2b3efe5bf792fe56b0a4a">hedgeOffset_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ac839fd91ffc63cc91da94b00e6e380d0">hedgeRebateOffset_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a407bac79ad82f0c9df368408f6e32909">numberOfProducts_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a864daa184ffa8fc20b691e83205f9b81">numberOfSteps_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::valarray&lt; <a class="el" href="classbool.html">bool</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ad623e539c097e08094ec1f690645852f">isExerciseTime_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#acd51db1348d0008aa48a88349f8e7e21">numberCashFlowsThisStep_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector<br class="typebreak"/>
&lt; <a class="el" href="struct_quant_lib_1_1_market_model_multi_product_1_1_cash_flow.html">MarketModelMultiProduct::CashFlow</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#aaea35edff1ab6c7c01e5f01d4a5f23a2">cashFlowsGenerated_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_market_model_discounter.html">MarketModelDiscounter</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ae9e160efdf271745e3d2efc7f44df7f5">discounters_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Market-model engine for upper-bound estimation. </p>
<dl class="pre"><dt><b>Precondition:</b></dt><dd>product and hedge must have the same rate times and exercise times </dd></dl>

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00043">43</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aac406d89c40eefc30b160e4f86ac525d"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::UpperBoundEngine" ref="aac406d89c40eefc30b160e4f86ac525d" args="(const boost::shared_ptr&lt; MarketModelEvolver &gt; &amp;evolver, const std::vector&lt; boost::shared_ptr&lt; MarketModelEvolver &gt; &gt; &amp;innerEvolvers, const MarketModelMultiProduct &amp;underlying, const MarketModelExerciseValue &amp;rebate, const MarketModelMultiProduct &amp;hedge, const MarketModelExerciseValue &amp;hedgeRebate, const ExerciseStrategy&lt; CurveState &gt; &amp;hedgeStrategy, Real initialNumeraireValue)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#aac406d89c40eefc30b160e4f86ac525d">QuantLib::UpperBoundEngine::UpperBoundEngine</a> </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>evolver</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>innerEvolvers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_market_model_multi_product.html">MarketModelMultiProduct</a> &amp;&#160;</td>
          <td class="paramname"><em>underlying</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_market_model_exercise_value.html">MarketModelExerciseValue</a> &amp;&#160;</td>
          <td class="paramname"><em>rebate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_market_model_multi_product.html">MarketModelMultiProduct</a> &amp;&#160;</td>
          <td class="paramname"><em>hedge</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_market_model_exercise_value.html">MarketModelExerciseValue</a> &amp;&#160;</td>
          <td class="paramname"><em>hedgeRebate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_exercise_strategy.html">ExerciseStrategy</a>&lt; <a class="el" href="class_quant_lib_1_1_curve_state.html">CurveState</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>hedgeStrategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>initialNumeraireValue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8cpp_source.html#l00110">110</a> of file <a class="el" href="upperboundengine_8cpp_source.html">upperboundengine.cpp</a>.</p>

<p>References <a class="el" href="compositeproduct_8cpp_source.html#l00053">QuantLib::MarketModelComposite::add()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00079">cashFlowsGenerated_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00067">composite_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00080">discounters_</a>, <a class="el" href="compositeproduct_8cpp_source.html#l00028">QuantLib::MarketModelComposite::evolution()</a>, <a class="el" href="evolutiondescription_8cpp_source.html#l00089">QuantLib::EvolutionDescription::evolutionTimes()</a>, <a class="el" href="class_quant_lib_1_1_exercise_strategy.html#ad39ffbad241433c9621ba5ce08aed159">QuantLib::ExerciseStrategy&lt; State &gt;::exerciseTimes()</a>, <a class="el" href="compositeproduct_8cpp_source.html#l00082">QuantLib::MarketModelComposite::finalize()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">hedgeOffset_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">hedgeRebateOffset_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00070">hedgeRebateSize_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00070">hedgeSize_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00074">isExerciseTime_</a>, <a class="el" href="ql_2models_2marketmodels_2utilities_8cpp_source.html#l00059">QuantLib::isInSubset()</a>, <a class="el" href="multiproductcomposite_8cpp_source.html#l00032">QuantLib::MultiProductComposite::maxNumberOfCashFlowsPerProductPerStep()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00077">numberCashFlowsThisStep_</a>, <a class="el" href="multiproductcomposite_8cpp_source.html#l00024">QuantLib::MultiProductComposite::numberOfProducts()</a>, <a class="el" href="class_quant_lib_1_1_market_model_multi_product.html#a2dede52d7bff85221b39246ac4b2b08f">QuantLib::MarketModelMultiProduct::numberOfProducts()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00072">numberOfProducts_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00073">numberOfSteps_</a>, <a class="el" href="compositeproduct_8cpp_source.html#l00038">QuantLib::MarketModelComposite::possibleCashFlowTimes()</a>, <a class="el" href="evolutiondescription_8cpp_source.html#l00081">QuantLib::EvolutionDescription::rateTimes()</a>, <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00126">anonymous_namespace{marketmodel.cpp}::rateTimes</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">rebateOffset_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00070">rebateSize_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">underlyingOffset_</a>, and <a class="el" href="upperboundengine_8hpp_source.html#l00070">underlyingSize_</a>.</p>
<div class="fragment"><pre class="fragment">    : <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>(evolver), <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#af8d07c80263862656294ad038eedb7b5">innerEvolvers_</a>(innerEvolvers),
      <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>(MultiProductComposite()),
      <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a82ef8b50c975b13918d3b131870fbbe9">initialNumeraireValue_</a>(initialNumeraireValue) {

        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a7fb546a63d60babb945d3bac04068d38">add</a>(underlying);
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a7fb546a63d60babb945d3bac04068d38">add</a>(ExerciseAdapter(rebate));
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a7fb546a63d60babb945d3bac04068d38">add</a>(hedge);
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a7fb546a63d60babb945d3bac04068d38">add</a>(ExerciseAdapter(hedgeRebate));
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a7fb546a63d60babb945d3bac04068d38">add</a>(DecoratedHedge(CallSpecifiedMultiProduct(
                           hedge,hedgeStrategy,ExerciseAdapter(hedgeRebate))));
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#ac2a805f7801a3077c558a7be2f315ac2">finalize</a>();

        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ab6069604b3b68a3c2effc571969bcf1e">underlyingOffset_</a> = 0;
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">underlyingSize_</a> = underlying.numberOfProducts();
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a777b929586f0f93bac8600ad84bb803c">rebateOffset_</a> = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">underlyingSize_</a>;
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a397c69360bcb62dad34ae92725c2f6cd">rebateSize_</a> = 1;
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afc893794e5c2b3efe5bf792fe56b0a4a">hedgeOffset_</a> = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">underlyingSize_</a>+<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a397c69360bcb62dad34ae92725c2f6cd">rebateSize_</a>;
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a5840ff00d9b53661ddd66f2ec0456457">hedgeSize_</a> = hedge.numberOfProducts();
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ac839fd91ffc63cc91da94b00e6e380d0">hedgeRebateOffset_</a> = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">underlyingSize_</a>+rebateSize_+<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a5840ff00d9b53661ddd66f2ec0456457">hedgeSize_</a>;
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ad7d5a18ff462aa295bc9aaa2eaf50582">hedgeRebateSize_</a> = 1;


        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a407bac79ad82f0c9df368408f6e32909">numberOfProducts_</a> = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_multi_product_composite.html#a87a5673b9600b93c3c3bd6c731aefe6e">numberOfProducts</a>();

        <span class="keyword">const</span> std::vector&lt;Time&gt;&amp; evolutionTimes =
            <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a0b45c01fcb6e82de5eb951ccccd9aece">evolution</a>().<a class="code" href="class_quant_lib_1_1_evolution_description.html#acfce18fa0ad78b0360955701f94e29d3">evolutionTimes</a>();
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a864daa184ffa8fc20b691e83205f9b81">numberOfSteps_</a> = evolutionTimes.size();

        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ad623e539c097e08094ec1f690645852f">isExerciseTime_</a>.resize(evolutionTimes.size());
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ad623e539c097e08094ec1f690645852f">isExerciseTime_</a> = <a class="code" href="namespace_quant_lib.html#a63702629fc8bcdc4fccada3763aac0d1">isInSubset</a>(evolutionTimes,
                                     hedgeStrategy.exerciseTimes());

        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#acd51db1348d0008aa48a88349f8e7e21">numberCashFlowsThisStep_</a>.resize(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a407bac79ad82f0c9df368408f6e32909">numberOfProducts_</a>);
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#aaea35edff1ab6c7c01e5f01d4a5f23a2">cashFlowsGenerated_</a>.resize(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a407bac79ad82f0c9df368408f6e32909">numberOfProducts_</a>);
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a407bac79ad82f0c9df368408f6e32909">numberOfProducts_</a>; ++i)
            <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#aaea35edff1ab6c7c01e5f01d4a5f23a2">cashFlowsGenerated_</a>[i].resize(
                          <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_multi_product_composite.html#a4ff4303735032f8f1047c88e93a37c48">maxNumberOfCashFlowsPerProductPerStep</a>());

        <span class="keyword">const</span> std::vector&lt;Time&gt;&amp; cashFlowTimes =
            <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a32b752527545ec95867bf0b5023aa5c1">possibleCashFlowTimes</a>();
        <span class="keyword">const</span> std::vector&lt;Rate&gt;&amp; <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a814ea6a1e55b85c243a5bc1bc373871f">rateTimes</a> =
            <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a0b45c01fcb6e82de5eb951ccccd9aece">evolution</a>().<a class="code" href="class_quant_lib_1_1_evolution_description.html#a9b542514dbff4b6579c14699a347531d">rateTimes</a>();
        <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> n =cashFlowTimes.size();
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ae9e160efdf271745e3d2efc7f44df7f5">discounters_</a>.reserve(n);
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> j=0; j&lt;n; ++j)
            <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ae9e160efdf271745e3d2efc7f44df7f5">discounters_</a>.push_back(MarketModelDiscounter(cashFlowTimes[j],
                                                         rateTimes));
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="afcb262ff5dfbad2bd3ea036230eae64e"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::collectCashFlows" ref="afcb262ff5dfbad2bd3ea036230eae64e" args="(Size currentStep, Real principalInNumerairePortfolio, Size beginProduct, Size endProduct) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#afcb262ff5dfbad2bd3ea036230eae64e">QuantLib::UpperBoundEngine::collectCashFlows</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>currentStep</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>principalInNumerairePortfolio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>beginProduct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>endProduct</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8cpp_source.html#l00325">325</a> of file <a class="el" href="upperboundengine_8cpp_source.html">upperboundengine.cpp</a>.</p>

<p>References <a class="el" href="upperboundengine_8hpp_source.html#l00079">cashFlowsGenerated_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00080">discounters_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00065">evolver_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00077">numberCashFlowsThisStep_</a>, and <a class="el" href="discounter_8cpp_source.html#l00043">QuantLib::MarketModelDiscounter::numeraireBonds()</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                   {
        <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> numeraire = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;numeraires()[currentStep];

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> numeraireUnits = 0.0;
        <span class="comment">// For each product in range...</span>
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=beginProduct; i&lt;endProduct; ++i) {
            <span class="comment">// ...and for each cash flow...</span>
            <span class="keyword">const</span> std::vector&lt;MarketModelMultiProduct::CashFlow&gt;&amp; cashflows =
                <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#aaea35edff1ab6c7c01e5f01d4a5f23a2">cashFlowsGenerated_</a>[i];
            <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> j=0; j&lt;<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#acd51db1348d0008aa48a88349f8e7e21">numberCashFlowsThisStep_</a>[i]; ++j) {
                <span class="comment">// ...convert the cash flow to numeraires.  This is</span>
                <span class="comment">// done by calculating the number of numeraire bonds</span>
                <span class="comment">// corresponding to such cash flow...</span>
                <span class="keyword">const</span> MarketModelDiscounter&amp; discounter =
                    <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ae9e160efdf271745e3d2efc7f44df7f5">discounters_</a>[cashflows[j].timeIndex];
                <span class="comment">// ...and adding the newly bought bonds to the total</span>
                numeraireUnits += cashflows[j].amount *
                    discounter.numeraireBonds(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;currentState(),
                                              numeraire);
            }
        }
        <span class="keywordflow">return</span> numeraireUnits/principalInNumerairePortfolio;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a298eff543a92abdf4ff15407cb616416"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::multiplePathValues" ref="a298eff543a92abdf4ff15407cb616416" args="(Statistics &amp;stats, Size outerPaths, Size innerPaths)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a298eff543a92abdf4ff15407cb616416">QuantLib::UpperBoundEngine::multiplePathValues</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#ae2e788da35d2b866040a03b96227ee6e">Statistics</a> &amp;&#160;</td>
          <td class="paramname"><em>stats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>outerPaths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>innerPaths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8cpp_source.html#l00170">170</a> of file <a class="el" href="upperboundengine_8cpp_source.html">upperboundengine.cpp</a>.</p>

<p>References <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>.</p>

<p>Referenced by <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l01776">MarketModelTest::testCallableSwapAnderson()</a>, <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l01598">MarketModelTest::testCallableSwapLS()</a>, and <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l01429">MarketModelTest::testCallableSwapNaif()</a>.</p>
<div class="fragment"><pre class="fragment">                                                               {
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;outerPaths; ++i) {
            std::pair&lt;Real,Real&gt; result = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a60d8cbd069bedb513b42ea186de80a28">singlePathValue</a>(innerPaths);
            stats.add(result.first, result.second);
        }
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a60d8cbd069bedb513b42ea186de80a28"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::singlePathValue" ref="a60d8cbd069bedb513b42ea186de80a28" args="(Size innerPaths)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a60d8cbd069bedb513b42ea186de80a28">QuantLib::UpperBoundEngine::singlePathValue</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>innerPaths</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8cpp_source.html#l00180">180</a> of file <a class="el" href="upperboundengine_8cpp_source.html">upperboundengine.cpp</a>.</p>

<p>References <a class="el" href="upperboundengine_8hpp_source.html#l00079">cashFlowsGenerated_</a>, <a class="el" href="upperboundengine_8cpp_source.html#l00325">collectCashFlows()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00067">composite_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00065">evolver_</a>, <a class="el" href="class_quant_lib_1_1_exercise_strategy.html#aa64190719346d2a7d41bd83fa3434b42">QuantLib::ExerciseStrategy&lt; State &gt;::exercise()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">hedgeOffset_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">hedgeRebateOffset_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00070">hedgeRebateSize_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00070">hedgeSize_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00069">initialNumeraireValue_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00066">innerEvolvers_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00074">isExerciseTime_</a>, <a class="el" href="compositeproduct_8cpp_source.html#l00147">QuantLib::MarketModelComposite::item()</a>, <a class="el" href="accountingengine_8cpp_source.html#l00115">QuantLib::AccountingEngine::multiplePathValues()</a>, <a class="el" href="multiproductcomposite_8cpp_source.html#l00042">QuantLib::MultiProductComposite::nextTimeStep()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00077">numberCashFlowsThisStep_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00073">numberOfSteps_</a>, <a class="el" href="qldefines_8hpp_source.html#l00132">QL_MIN_REAL</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">rebateOffset_</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00070">rebateSize_</a>, <a class="el" href="compositeproduct_8cpp_source.html#l00043">QuantLib::MarketModelComposite::reset()</a>, <a class="el" href="upperboundengine_8hpp_source.html#l00071">underlyingOffset_</a>, and <a class="el" href="upperboundengine_8hpp_source.html#l00070">underlyingSize_</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00170">multiplePathValues()</a>.</p>
<div class="fragment"><pre class="fragment">                                                                        {

        DecoratedHedge&amp; callable =
            <span class="keyword">dynamic_cast&lt;</span>DecoratedHedge&amp;<span class="keyword">&gt;</span>(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#ad9b806021d3b425186a5b1c80bcd90aa">item</a>(4));
        <span class="keyword">const</span> ExerciseStrategy&lt;CurveState&gt;&amp; strategy = callable.strategy();


        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> maximumValue = <a class="code" href="group__limit_macros.html#ga8a6736b7bfef354a1fc507317d49117a">QL_MIN_REAL</a>;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> numerairesHeld = 0.0;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> weight = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;startNewPath();
        callable.clear();
        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_market_model_composite.html#a1159c53f3fb01da9394ad71eac03cb21" title="during simulation put product at start of path">reset</a>();
        callable.disableCallability();
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> principalInNumerairePortfolio = 1.0;
        <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> exercise = 0;

        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> k=0; k&lt;<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a864daa184ffa8fc20b691e83205f9b81">numberOfSteps_</a>; ++k) {
            weight *= <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;advanceStep();

            <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">composite_</a>.<a class="code" href="class_quant_lib_1_1_multi_product_composite.html#a49124ba0aea738ecb71fa272e1662623" title="return value indicates whether path is finished, TRUE means done">nextTimeStep</a>(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;currentState(),
                                    <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#acd51db1348d0008aa48a88349f8e7e21">numberCashFlowsThisStep_</a>,
                                    <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#aaea35edff1ab6c7c01e5f01d4a5f23a2">cashFlowsGenerated_</a>);

            <span class="comment">// First, we accumulate cash flows from both the</span>
            <span class="comment">// underlying...</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> underlyingCashFlows =
                <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afcb262ff5dfbad2bd3ea036230eae64e">collectCashFlows</a>(k,
                                 principalInNumerairePortfolio,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ab6069604b3b68a3c2effc571969bcf1e">underlyingOffset_</a>,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ab6069604b3b68a3c2effc571969bcf1e">underlyingOffset_</a>+<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">underlyingSize_</a>);

            <span class="comment">// ...and the hedge</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> hedgeCashFlows =
                <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afcb262ff5dfbad2bd3ea036230eae64e">collectCashFlows</a>(k,
                                 principalInNumerairePortfolio,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afc893794e5c2b3efe5bf792fe56b0a4a">hedgeOffset_</a>,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afc893794e5c2b3efe5bf792fe56b0a4a">hedgeOffset_</a>+<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a5840ff00d9b53661ddd66f2ec0456457">hedgeSize_</a>);

            <span class="comment">// we do the same for the rebates. Warning: this relies on</span>
            <span class="comment">// the fact that on each exercise date an ExerciseAdapter</span>
            <span class="comment">// generates a cash-flow equal to the exercise value</span>
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> rebateCashFlow =
                <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afcb262ff5dfbad2bd3ea036230eae64e">collectCashFlows</a>(k,
                                 principalInNumerairePortfolio,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a777b929586f0f93bac8600ad84bb803c">rebateOffset_</a>,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a777b929586f0f93bac8600ad84bb803c">rebateOffset_</a>+<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a397c69360bcb62dad34ae92725c2f6cd">rebateSize_</a>);

            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> hedgeRebateCashFlow =
                <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#afcb262ff5dfbad2bd3ea036230eae64e">collectCashFlows</a>(k,
                                 principalInNumerairePortfolio,
                                  <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ac839fd91ffc63cc91da94b00e6e380d0">hedgeRebateOffset_</a>,
                                 <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ac839fd91ffc63cc91da94b00e6e380d0">hedgeRebateOffset_</a>+<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ad7d5a18ff462aa295bc9aaa2eaf50582">hedgeRebateSize_</a>);


            numerairesHeld += underlyingCashFlows - hedgeCashFlows;

            <span class="comment">// Second, we do the upper-bound thing</span>
            <span class="keywordflow">if</span> (<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#ad623e539c097e08094ec1f690645852f">isExerciseTime_</a>[k]) {

                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> unexercisedHedgeValue = 0.0;

                <span class="keywordflow">if</span> (k != numberOfSteps_-1) {

                    <span class="comment">// Here, we setup the relevant inner evolver and</span>
                    <span class="comment">// the decorated callable hedge such that their</span>
                    <span class="comment">// reset() method brings them to the current point</span>
                    <span class="comment">// rather than the beginning of the path.</span>

                    boost::shared_ptr&lt;MarketModelEvolver&gt; currentEvolver =
                        <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#af8d07c80263862656294ad038eedb7b5">innerEvolvers_</a>[exercise++];
                    currentEvolver-&gt;setInitialState(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;currentState());

                    callable.stopRecording();
                    callable.enableCallability();
                    callable.save();

                    <span class="comment">// This allows us to write:</span>
                    AccountingEngine <a class="code" href="class_vanilla_option_1_1engine.html">engine</a>(currentEvolver, callable,
                                            1.0); <span class="comment">// this causes the result</span>
                                                  <span class="comment">// to be in numeraire units</span>
                    <a class="code" href="namespace_quant_lib.html#ab0bbd397b51f370a9ca8b7d383ba1866">SequenceStatisticsInc</a> innerStats(callable.numberOfProducts());
                    <a class="code" href="class_vanilla_option_1_1engine.html">engine</a>.multiplePathValues(innerStats, innerPaths);

                    <span class="keyword">const</span> std::vector&lt;Real&gt;&amp; values = innerStats.mean();
                    unexercisedHedgeValue =
                        std::accumulate(values.begin(), values.end(), 0.0)
                        / principalInNumerairePortfolio;

                    callable.disableCallability();
                    callable.startRecording();

                }

                <span class="comment">// Now, we can calculate the total value of our hedged</span>
                <span class="comment">// portfolio...</span>
                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> portfolioValue = numerairesHeld;
                <span class="keywordflow">if</span> (strategy.exercise(<a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;currentState())) {
                    <span class="comment">// get the rebates...</span>
                    portfolioValue +=
                        rebateCashFlow - hedgeRebateCashFlow;
                    <span class="comment">// ...and reinvest to rehedge</span>
                    numerairesHeld +=
                        unexercisedHedgeValue - hedgeRebateCashFlow;
                } <span class="keywordflow">else</span> {
                    portfolioValue +=
                        rebateCashFlow - unexercisedHedgeValue;
                }

                <span class="comment">// ...and use it to update the maximum value</span>
                maximumValue = std::max(maximumValue, portfolioValue);
            }


            <span class="comment">// Lastly, we do the homework for next step (if any)</span>
            <span class="keywordflow">if</span> (k&lt;numberOfSteps_-1) {

                <span class="comment">// The numeraire might change between steps. This implies</span>
                <span class="comment">// that we might have to convert the numeraire bonds for</span>
                <span class="comment">// this step into a corresponding amount of numeraire</span>
                <span class="comment">// bonds for the next step. This can be done by changing</span>
                <span class="comment">// the principal of the numeraire and updating the number</span>
                <span class="comment">// of bonds in the numeraire portfolio accordingly.</span>

                <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> numeraire = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;numeraires()[k];
                <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> nextNumeraire = <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;numeraires()[k+1];

                principalInNumerairePortfolio *=
                    <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">evolver_</a>-&gt;currentState().discountRatio(numeraire,
                                                           nextNumeraire);
            }

        }

        <span class="comment">// finally, we update the maximum with the total accumulated</span>
        <span class="comment">// cash flows (in case we never exercised)</span>
        maximumValue = std::max(maximumValue, numerairesHeld);


        <span class="comment">// all done; we just convert the result back to cash</span>
        maximumValue *= <a class="code" href="class_quant_lib_1_1_upper_bound_engine.html#a82ef8b50c975b13918d3b131870fbbe9">initialNumeraireValue_</a>;

        <span class="keywordflow">return</span> std::make_pair(maximumValue, weight);
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aaea35edff1ab6c7c01e5f01d4a5f23a2"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::cashFlowsGenerated_" ref="aaea35edff1ab6c7c01e5f01d4a5f23a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::vector&lt;<a class="el" href="struct_quant_lib_1_1_market_model_multi_product_1_1_cash_flow.html">MarketModelMultiProduct::CashFlow</a>&gt; &gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#aaea35edff1ab6c7c01e5f01d4a5f23a2">QuantLib::UpperBoundEngine::cashFlowsGenerated_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00079">79</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00325">collectCashFlows()</a>, <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a19785024635c570d6ce4bb1b7a873bd6"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::composite_" ref="a19785024635c570d6ce4bb1b7a873bd6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_multi_product_composite.html">MultiProductComposite</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a19785024635c570d6ce4bb1b7a873bd6">QuantLib::UpperBoundEngine::composite_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00067">67</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="ae9e160efdf271745e3d2efc7f44df7f5"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::discounters_" ref="ae9e160efdf271745e3d2efc7f44df7f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_quant_lib_1_1_market_model_discounter.html">MarketModelDiscounter</a>&gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ae9e160efdf271745e3d2efc7f44df7f5">QuantLib::UpperBoundEngine::discounters_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00080">80</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00325">collectCashFlows()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a1223b2388c8519c0d6aa458cbea3a3c3"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::evolver_" ref="a1223b2388c8519c0d6aa458cbea3a3c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a>&gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a1223b2388c8519c0d6aa458cbea3a3c3">QuantLib::UpperBoundEngine::evolver_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00065">65</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00325">collectCashFlows()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>.</p>

</div>
</div>
<a class="anchor" id="afc893794e5c2b3efe5bf792fe56b0a4a"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::hedgeOffset_" ref="afc893794e5c2b3efe5bf792fe56b0a4a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#afc893794e5c2b3efe5bf792fe56b0a4a">QuantLib::UpperBoundEngine::hedgeOffset_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00071">71</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="ac839fd91ffc63cc91da94b00e6e380d0"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::hedgeRebateOffset_" ref="ac839fd91ffc63cc91da94b00e6e380d0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ac839fd91ffc63cc91da94b00e6e380d0">QuantLib::UpperBoundEngine::hedgeRebateOffset_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00071">71</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="ad7d5a18ff462aa295bc9aaa2eaf50582"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::hedgeRebateSize_" ref="ad7d5a18ff462aa295bc9aaa2eaf50582" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ad7d5a18ff462aa295bc9aaa2eaf50582">QuantLib::UpperBoundEngine::hedgeRebateSize_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00070">70</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a5840ff00d9b53661ddd66f2ec0456457"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::hedgeSize_" ref="a5840ff00d9b53661ddd66f2ec0456457" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a5840ff00d9b53661ddd66f2ec0456457">QuantLib::UpperBoundEngine::hedgeSize_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00070">70</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a82ef8b50c975b13918d3b131870fbbe9"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::initialNumeraireValue_" ref="a82ef8b50c975b13918d3b131870fbbe9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a82ef8b50c975b13918d3b131870fbbe9">QuantLib::UpperBoundEngine::initialNumeraireValue_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00069">69</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>.</p>

</div>
</div>
<a class="anchor" id="af8d07c80263862656294ad038eedb7b5"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::innerEvolvers_" ref="af8d07c80263862656294ad038eedb7b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;boost::shared_ptr&lt;<a class="el" href="class_quant_lib_1_1_market_model_evolver.html">MarketModelEvolver</a>&gt; &gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#af8d07c80263862656294ad038eedb7b5">QuantLib::UpperBoundEngine::innerEvolvers_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00066">66</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>.</p>

</div>
</div>
<a class="anchor" id="ad623e539c097e08094ec1f690645852f"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::isExerciseTime_" ref="ad623e539c097e08094ec1f690645852f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::valarray&lt;<a class="el" href="classbool.html">bool</a>&gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ad623e539c097e08094ec1f690645852f">QuantLib::UpperBoundEngine::isExerciseTime_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00074">74</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="acd51db1348d0008aa48a88349f8e7e21"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::numberCashFlowsThisStep_" ref="acd51db1348d0008aa48a88349f8e7e21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&gt; <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#acd51db1348d0008aa48a88349f8e7e21">QuantLib::UpperBoundEngine::numberCashFlowsThisStep_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00077">77</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00325">collectCashFlows()</a>, <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a407bac79ad82f0c9df368408f6e32909"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::numberOfProducts_" ref="a407bac79ad82f0c9df368408f6e32909" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a407bac79ad82f0c9df368408f6e32909">QuantLib::UpperBoundEngine::numberOfProducts_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00072">72</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a864daa184ffa8fc20b691e83205f9b81"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::numberOfSteps_" ref="a864daa184ffa8fc20b691e83205f9b81" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a864daa184ffa8fc20b691e83205f9b81">QuantLib::UpperBoundEngine::numberOfSteps_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00073">73</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a777b929586f0f93bac8600ad84bb803c"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::rebateOffset_" ref="a777b929586f0f93bac8600ad84bb803c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a777b929586f0f93bac8600ad84bb803c">QuantLib::UpperBoundEngine::rebateOffset_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00071">71</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a397c69360bcb62dad34ae92725c2f6cd"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::rebateSize_" ref="a397c69360bcb62dad34ae92725c2f6cd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a397c69360bcb62dad34ae92725c2f6cd">QuantLib::UpperBoundEngine::rebateSize_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00070">70</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="ab6069604b3b68a3c2effc571969bcf1e"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::underlyingOffset_" ref="ab6069604b3b68a3c2effc571969bcf1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#ab6069604b3b68a3c2effc571969bcf1e">QuantLib::UpperBoundEngine::underlyingOffset_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00071">71</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<a class="anchor" id="a949ac03f8c87a1f4104286a82bfbcf21"></a><!-- doxytag: member="QuantLib::UpperBoundEngine::underlyingSize_" ref="a949ac03f8c87a1f4104286a82bfbcf21" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_upper_bound_engine.html#a949ac03f8c87a1f4104286a82bfbcf21">QuantLib::UpperBoundEngine::underlyingSize_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="upperboundengine_8hpp_source.html#l00070">70</a> of file <a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a>.</p>

<p>Referenced by <a class="el" href="upperboundengine_8cpp_source.html#l00180">singlePathValue()</a>, and <a class="el" href="upperboundengine_8cpp_source.html#l00110">UpperBoundEngine()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/models/marketmodels/callability/<a class="el" href="upperboundengine_8hpp_source.html">upperboundengine.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/models/marketmodels/callability/<a class="el" href="upperboundengine_8cpp_source.html">upperboundengine.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_upper_bound_engine.html">UpperBoundEngine</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:11 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
