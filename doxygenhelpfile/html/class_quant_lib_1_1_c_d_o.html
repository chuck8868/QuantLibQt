<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::CDO Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_c_d_o.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::CDO Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::CDO" --><!-- doxytag: inherits="QuantLib::Instrument" -->
<p>collateralized debt obligation  
 <a href="class_quant_lib_1_1_c_d_o.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for QuantLib::CDO:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_c_d_o__inherit__graph.png" border="0" usemap="#_quant_lib_1_1_c_d_o_inherit__map" alt="Inheritance graph"/></div>
<map name="_quant_lib_1_1_c_d_o_inherit__map" id="_quant_lib_1_1_c_d_o_inherit__map">
<area shape="rect" id="node2" href="class_quant_lib_1_1_instrument.html" title="Abstract instrument class." alt="" coords="81,533,239,1139"/><area shape="rect" id="node4" href="class_quant_lib_1_1_lazy_object.html" title="Framework for calculation on demand and result caching." alt="" coords="83,243,237,485"/><area shape="rect" id="node6" href="class_quant_lib_1_1_observable.html" title="Object that notifies its changes to a set of observers." alt="" coords="5,5,152,195"/><area shape="rect" id="node8" href="class_quant_lib_1_1_observer.html" title="Object that gets notified when a given observable changes." alt="" coords="176,5,309,195"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for QuantLib::CDO:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_c_d_o__coll__graph.png" border="0" usemap="#_quant_lib_1_1_c_d_o_coll__map" alt="Collaboration graph"/></div>
<map name="_quant_lib_1_1_c_d_o_coll__map" id="_quant_lib_1_1_c_d_o_coll__map">
<area shape="rect" id="node2" href="class_quant_lib_1_1_instrument.html" title="Abstract instrument class." alt="" coords="513,2956,671,3561"/><area shape="rect" id="node4" href="class_quant_lib_1_1_lazy_object.html" title="Framework for calculation on demand and result caching." alt="" coords="28,2190,183,2431"/><area shape="rect" id="node6" href="class_quant_lib_1_1_observable.html" title="Object that notifies its changes to a set of observers." alt="" coords="144,1372,291,1561"/><area shape="rect" id="node10" href="class_quant_lib_1_1_observer.html" title="Object that gets notified when a given observable changes." alt="" coords="79,461,212,651"/><area shape="rect" id="node16" title="STL class." alt="" coords="368,157,467,243"/><area shape="rect" id="node40" title="STL class." alt="" coords="1308,1415,1431,1518"/><area shape="rect" id="node22" href="classbool.html" title="{bool\n||}" alt="" coords="444,1424,489,1509"/><area shape="rect" id="node49" href="class_quant_lib_1_1_schedule.html" title="Payment schedule." alt="" coords="1437,2765,1715,3752"/><area shape="rect" id="node26" href="class_quant_lib_1_1_date.html" title="Concrete date class." alt="" coords="780,869,953,2064"/><area shape="rect" id="node34" title="STL class." alt="" coords="1137,1424,1217,1509"/><area shape="rect" id="node36" title="STL class." alt="" coords="1095,717,1260,803"/><area shape="rect" id="node54" title="STL class." alt="" coords="1957,1424,2072,1509"/><area shape="rect" id="node45" href="class_quant_lib_1_1_day_counter.html" title="day counter class" alt="" coords="1920,2499,2072,2741"/><area shape="rect" id="node67" href="class_quant_lib_1_1_calendar.html" title="calendar class" alt="" coords="1820,2147,1993,2475"/><area shape="rect" id="node70" href="class_quant_lib_1_1_period.html" title="{QuantLib::Period\n|&#45; length_\l&#45; units_\l|+ Period()\l+ Period()\l+ Period()\l+ length()\l+ units()\l+ frequency()\l+ operator+=()\l+ operator&#45;=()\l+ operator/=()\l+ normalize()\l}" alt="" coords="2553,2181,2671,2440"/><area shape="rect" id="node82" href="class_quant_lib_1_1_handle.html" title="{QuantLib::Handle\&lt; YieldTermStructure \&gt;\n|# link_\l|+ currentLink()\l+ operator&#45;\&gt;()\l+ operator*()\l+ empty()\l+ operator boost::shared_ptr\&lt; Observable \&gt;()\l+ operator==()\l+ operator!=()\l+ operator\&lt;()\l+ Handle()\l+ Handle()\l* Handle()\l* Handle()\l}" alt="" coords="3052,2173,3335,2449"/><area shape="rect" id="node86" href="class_quant_lib_1_1_handle.html" title="Shared handle to an observable." alt="" coords="3025,1329,3308,1605"/><area shape="rect" id="node90" href="class_quant_lib_1_1_handle.html" title="{QuantLib::Handle\&lt; OneFactorCopula \&gt;\n|# link_\l|+ currentLink()\l+ operator&#45;\&gt;()\l+ operator*()\l+ empty()\l+ operator boost::shared_ptr\&lt; Observable \&gt;()\l+ operator==()\l+ operator!=()\l+ operator\&lt;()\l+ Handle()\l+ Handle()\l* Handle()\l* Handle()\l}" alt="" coords="3359,2173,3641,2449"/><area shape="rect" id="node96" href="class_quant_lib_1_1_handle.html" title="{QuantLib::Handle\&lt; DefaultProbabilityTermStructure \&gt;\n|# link_\l|+ currentLink()\l+ operator&#45;\&gt;()\l+ operator*()\l+ empty()\l+ operator boost::shared_ptr\&lt; Observable \&gt;()\l+ operator==()\l+ operator!=()\l+ operator\&lt;()\l+ Handle()\l+ Handle()\l* Handle()\l* Handle()\l}" alt="" coords="2695,2173,3028,2449"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_quant_lib_1_1_c_d_o-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#af82851495da2bb8aab83f5a8bd9b0485">CDO</a> (<a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a6381a07130c19fc1cffbc896cbb7c7d8">attachment</a>, <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#afa0d71bf35ee202f9befa95f3d010359">detachment</a>, const std::vector&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt; &amp;<a class="el" href="class_quant_lib_1_1_c_d_o.html#a62f47090cc090da74ae69afb5aa6ab83">nominals</a>, const std::vector&lt; <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt; &amp;basket, const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_one_factor_copula.html">OneFactorCopula</a> &gt; &amp;copula, <a class="el" href="classbool.html">bool</a> protectionSeller, const <a class="el" href="class_quant_lib_1_1_schedule.html">Schedule</a> &amp;premiumSchedule, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> premiumRate, const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;dayCounter, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> recoveryRate, <a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> upfrontPremiumRate, const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;yieldTS, <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> nBuckets, const <a class="el" href="class_quant_lib_1_1_period.html">Period</a> &amp;integrationStep=<a class="el" href="class_quant_lib_1_1_period.html">Period</a>(10, <a class="el" href="namespace_quant_lib.html#a6cdac5e2dae1e972076cc8e3302e4ad3ae2d856134531729a1696e66bebeafb32">Years</a>))</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#aeb83ff90a8738ca0404e40b9d6ab1c68">nominal</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a75b9705cb6bb190b684bcddb5fa0c475">lgd</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a6381a07130c19fc1cffbc896cbb7c7d8">attachment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#afa0d71bf35ee202f9befa95f3d010359">detachment</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a62f47090cc090da74ae69afb5aa6ab83">nominals</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ac751720b53980bbc495843a993abe33e">size</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a0e658dc3514570f557451d706f8e8dfe">isExpired</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">returns whether the instrument might have value greater than zero.  <a href="#a0e658dc3514570f557451d706f8e8dfe"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a39f7bc58ec7eb7408ebec4179cfe93b2">fairPremium</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a8aa10d834d5010357dbf2ca02b6d00a9">premiumValue</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ad4a939df15d417f1fa5c0c23774dbffc">protectionValue</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ad480e635b74e95e88d8459326fab558c">error</a> () const </td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a96a2625baf50ff89c0b62b86c8841183">setupExpired</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a2ceb53cef9663d522076bcfa3e4bd885">performCalculations</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#aaec853a5e17297ef9bd7c733ee1a42bc">expectedTrancheLoss</a> (<a class="el" href="class_quant_lib_1_1_date.html">Date</a> d) const </td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">attachment_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">detachment_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a><br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_one_factor_copula.html">OneFactorCopula</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ab819a5f8c66eec92e60a17535e0f6684">copula_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ad83b4b24ddf6ba4cafa8e0f0d20c12ff">protectionSeller_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_schedule.html">Schedule</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a1277e25fcb57d70f171e5e78c2755962">premiumRate_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a4ca7b20924ed59216d05f14d40513e71">dayCounter_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a06ad15392492b6f948dc0592022110c7">recoveryRate_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#aa13b765c1bb7ef76127a5ea5a11d5009">upfrontPremiumRate_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a4d011421401c11a7cc3bef4ff2498bb1">nBuckets_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_period.html">Period</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a9aa18834bd88d6eb6986a7d58f7c65e0">integrationStep_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ae61de2cd521d0f9d14d771a1516cc5c3">lgds_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ab214bd686dfd22100423261e9be93ee0">nominal_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a0056a33c13b20dd807ba87f2ee51f4a3">lgd_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">xMax_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a5342d03264ceb314ded23fb794c80318">xMin_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a90e001580279dc2017b695a469b0c9d7">error_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a565e885183b43288e6827d62470f928c">fairPremium_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_c_d_o.html#a0bbb6101c6e3e5ed421129b3ce95af29">upfrontPremiumValue_</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>collateralized debt obligation </p>
<p>The instrument prices a mezzanine <a class="el" href="class_quant_lib_1_1_c_d_o.html" title="collateralized debt obligation">CDO</a> tranche with loss given default between attachment point \( D_1\) and detachment point \( D_2 &gt; D_1 \).</p>
<p>For purchased protection, the instrument value is given by the difference of the protection value \( V_1 \) and premium value \( V_2 \),</p>
<p class="formulaDsp">
\[ V = V_1 - V_2. \]
</p>
<p>The protection leg is priced as follows:</p>
<ul>
<li>Build the probability distribution for volume of defaults \( L \) (before recovery) or <a class="el" href="class_quant_lib_1_1_loss.html">Loss</a> Given <a class="el" href="struct_quant_lib_1_1_default.html">Default</a> \( LGD = (1-r)\,L \) at times/dates \( t_i, i=1, ..., N\) (premium schedule times with intermediate steps)</li>
<li>Determine the expected value \( E_i = E_{t_i}\,\left[Pay(LGD)\right] \) of the protection payoff \( Pay(LGD) \) at each time \( t_i\) where <p class="formulaDsp">
\[ Pay(L) = min (D_1, LGD) - min (D_2, LGD) = \left\{ \begin{array}{lcl} \displaystyle 0 &;&amp; LGD &lt; D_1 \\ \displaystyle LGD - D_1 &;&amp; D_1 \leq LGD \leq D_2 \\ \displaystyle D_2 - D_1 &;&amp; LGD &gt; D_2 \end{array} \right. \]
</p>
</li>
<li>The protection value is then calculated as <p class="formulaDsp">
\[ V_1 \:=\: \sum_{i=1}^N (E_i - E_{i-1}) \cdot d_i \]
</p>
 where \( d_i\) is the discount factor at time/date \( t_i \)</li>
</ul>
<p>The premium is paid on the protected notional amount, initially \( D_2 - D_1. \) This notional amount is reduced by the expected protection payments \( E_i \) at times \( t_i, \) so that the premium value is calculated as</p>
<p class="formulaDsp">
\[ V_2 = m \, \cdot \sum_{i=1}^N \,(D_2 - D_1 - E_i) \cdot \Delta_{i-1,i}\,d_i \]
</p>
<p>where \( m \) is the premium rate, \( \Delta_{i-1, i}\) is the day count fraction between date/time \( t_{i-1}\) and \( t_i.\)</p>
<p>The construction of the portfolio loss distribution \( E_i \) is based on the probability bucketing algorithm described in</p>
<p><b> John Hull and Alan White, "Valuation of a CDO and nth to default CDS
        without Monte Carlo simulation", Journal of Derivatives 12, 2, 2004 </b></p>
<p>The pricing algorithm allows for varying notional amounts and default termstructures of the underlyings.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000006">Todo:</a></b></dt><dd>Investigate and fix cases \( E_{i+1} &lt; E_i. \) </dd></dl>

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00098">98</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af82851495da2bb8aab83f5a8bd9b0485"></a><!-- doxytag: member="QuantLib::CDO::CDO" ref="af82851495da2bb8aab83f5a8bd9b0485" args="(Real attachment, Real detachment, const std::vector&lt; Real &gt; &amp;nominals, const std::vector&lt; Handle&lt; DefaultProbabilityTermStructure &gt; &gt; &amp;basket, const Handle&lt; OneFactorCopula &gt; &amp;copula, bool protectionSeller, const Schedule &amp;premiumSchedule, Rate premiumRate, const DayCounter &amp;dayCounter, Rate recoveryRate, Rate upfrontPremiumRate, const Handle&lt; YieldTermStructure &gt; &amp;yieldTS, Size nBuckets, const Period &amp;integrationStep=Period(10, Years))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_c_d_o.html#af82851495da2bb8aab83f5a8bd9b0485">QuantLib::CDO::CDO</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>attachment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td>
          <td class="paramname"><em>detachment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>nominals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>basket</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_one_factor_copula.html">OneFactorCopula</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>copula</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>protectionSeller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_schedule.html">Schedule</a> &amp;&#160;</td>
          <td class="paramname"><em>premiumSchedule</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>premiumRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> &amp;&#160;</td>
          <td class="paramname"><em>dayCounter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>recoveryRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a>&#160;</td>
          <td class="paramname"><em>upfrontPremiumRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt; <a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>yieldTS</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td>
          <td class="paramname"><em>nBuckets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_period.html">Period</a> &amp;&#160;</td>
          <td class="paramname"><em>integrationStep</em> = <code><a class="el" href="class_quant_lib_1_1_period.html">Period</a>(10,&#160;<a class="el" href="namespace_quant_lib.html#a6cdac5e2dae1e972076cc8e3302e4ad3ae2d856134531729a1696e66bebeafb32">Years</a>)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">attachment</td><td>fraction of the LGD where protection starts </td></tr>
    <tr><td class="paramname">detachment</td><td>fraction of the LGD where protection ends </td></tr>
    <tr><td class="paramname">nominals</td><td>vector of basket nominal amounts </td></tr>
    <tr><td class="paramname">basket</td><td>default basket represented by a vector of default term structures that allow computing single name default probabilities depending on time </td></tr>
    <tr><td class="paramname">copula</td><td>one-factor copula </td></tr>
    <tr><td class="paramname">protectionSeller</td><td>sold protection if set to true, purchased otherwise </td></tr>
    <tr><td class="paramname">premiumSchedule</td><td>schedule for premium payments </td></tr>
    <tr><td class="paramname">premiumRate</td><td>annual premium rate, e.g. 0.05 for 5% p.a. </td></tr>
    <tr><td class="paramname">dayCounter</td><td>day count convention for the premium rate </td></tr>
    <tr><td class="paramname">recoveryRate</td><td>recovery rate as a fraction </td></tr>
    <tr><td class="paramname">upfrontPremiumRate</td><td>premium as a tranche notional fraction </td></tr>
    <tr><td class="paramname">yieldTS</td><td>yield term structure handle </td></tr>
    <tr><td class="paramname">nBuckets</td><td>number of distribution buckets </td></tr>
    <tr><td class="paramname">integrationStep</td><td>time step for integrating over one premium period; if larger than premium period length, a single step is taken </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">27</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00154">attachment_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00157">basket_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00158">copula_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00155">detachment_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00173">lgd_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00170">lgds_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00172">nominal_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00156">nominals_</a>, <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00164">recoveryRate_</a>, <a class="el" href="observable_8hpp_source.html#l00165">QuantLib::Observer::registerWith()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00174">xMax_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00175">xMin_</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00166">yieldTS_</a>.</p>
<div class="fragment"><pre class="fragment">    : <a class="code" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">attachment_</a>(<a class="code" href="class_quant_lib_1_1_c_d_o.html#a6381a07130c19fc1cffbc896cbb7c7d8">attachment</a>), <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">detachment_</a>(<a class="code" href="class_quant_lib_1_1_c_d_o.html#afa0d71bf35ee202f9befa95f3d010359">detachment</a>),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>(nominals), <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>(basket),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#ab819a5f8c66eec92e60a17535e0f6684">copula_</a>(copula),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad83b4b24ddf6ba4cafa8e0f0d20c12ff">protectionSeller_</a>(protectionSeller),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>(premiumSchedule),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#a1277e25fcb57d70f171e5e78c2755962">premiumRate_</a>(premiumRate),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#a4ca7b20924ed59216d05f14d40513e71">dayCounter_</a>(<a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#abc24484d02b5cded0a275ade16b95733">dayCounter</a>),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#a06ad15392492b6f948dc0592022110c7">recoveryRate_</a>(recoveryRate),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#aa13b765c1bb7ef76127a5ea5a11d5009">upfrontPremiumRate_</a>(upfrontPremiumRate),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>(yieldTS),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#a4d011421401c11a7cc3bef4ff2498bb1">nBuckets_</a>(nBuckets),
      <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9aa18834bd88d6eb6986a7d58f7c65e0">integrationStep_</a>(integrationStep) {

        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a> (!basket.empty(), <span class="stringliteral">&quot;basket is empty&quot;</span>);
        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">attachment_</a> &gt;= 0 &amp;&amp; <a class="code" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">attachment_</a> &lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">detachment_</a>
                    &amp;&amp; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">detachment_</a> &lt;= 1,
                    <span class="stringliteral">&quot;illegal attachment/detachment point&quot;</span>);

        <a class="code" href="class_quant_lib_1_1_observer.html#a4c9f4fc7a6b55b246566c40462b95121">registerWith</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>);
        <a class="code" href="class_quant_lib_1_1_observer.html#a4c9f4fc7a6b55b246566c40462b95121">registerWith</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#ab819a5f8c66eec92e60a17535e0f6684">copula_</a>);
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i = 0; i &lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size(); i++)
            <a class="code" href="class_quant_lib_1_1_observer.html#a4c9f4fc7a6b55b246566c40462b95121">registerWith</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>[i]);

        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.size() &lt;= <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size(),
                    <span class="stringliteral">&quot;nominal vector size too large&quot;</span>);

        <span class="keywordflow">if</span> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.size() &lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size()) {
            <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> n = <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size() - <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.size();
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> back = <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.back();
            <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i = 0; i &lt; n; i++)
                <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.push_back(back);
        }

        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.size() == <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size(),
                    <span class="stringliteral">&quot;nominal size &quot;</span> &lt;&lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.size()
                    &lt;&lt; <span class="stringliteral">&quot; != basket size &quot;</span> &lt;&lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size());

        <a class="code" href="class_quant_lib_1_1_c_d_o.html#ab214bd686dfd22100423261e9be93ee0">nominal_</a> = 0;
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i = 0; i &lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>.size(); i++) {
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#ae61de2cd521d0f9d14d771a1516cc5c3">lgds_</a>.push_back (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>[i] * (1.0 - <a class="code" href="class_quant_lib_1_1_c_d_o.html#a06ad15392492b6f948dc0592022110c7">recoveryRate_</a>));
            nominal_ += <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>[i];
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#a0056a33c13b20dd807ba87f2ee51f4a3">lgd_</a> += <a class="code" href="class_quant_lib_1_1_c_d_o.html#ae61de2cd521d0f9d14d771a1516cc5c3">lgds_</a>[i];
        }
        <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">xMax_</a> = <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">detachment_</a> * <a class="code" href="class_quant_lib_1_1_c_d_o.html#ab214bd686dfd22100423261e9be93ee0">nominal_</a>;
        <a class="code" href="class_quant_lib_1_1_c_d_o.html#a5342d03264ceb314ded23fb794c80318">xMin_</a> = <a class="code" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">attachment_</a> * <a class="code" href="class_quant_lib_1_1_c_d_o.html#ab214bd686dfd22100423261e9be93ee0">nominal_</a>;
    }
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a6381a07130c19fc1cffbc896cbb7c7d8"></a><!-- doxytag: member="QuantLib::CDO::attachment" ref="a6381a07130c19fc1cffbc896cbb7c7d8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a6381a07130c19fc1cffbc896cbb7c7d8">QuantLib::CDO::attachment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00138">138</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00154">attachment_</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">attachment_</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="afa0d71bf35ee202f9befa95f3d010359"></a><!-- doxytag: member="QuantLib::CDO::detachment" ref="afa0d71bf35ee202f9befa95f3d010359" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#afa0d71bf35ee202f9befa95f3d010359">QuantLib::CDO::detachment</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00139">139</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00155">detachment_</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">detachment_</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="ad480e635b74e95e88d8459326fab558c"></a><!-- doxytag: member="QuantLib::CDO::error" ref="ad480e635b74e95e88d8459326fab558c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ad480e635b74e95e88d8459326fab558c">QuantLib::CDO::error</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00203">203</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="instrument_8hpp_source.html#l00148">QuantLib::Instrument::calculate()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00177">error_</a>.</p>
<div class="fragment"><pre class="fragment">                           {
        <a class="code" href="class_quant_lib_1_1_instrument.html#a5d43e0c24d2a71d737baee145e3e0383">calculate</a>();
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#a90e001580279dc2017b695a469b0c9d7">error_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="aaec853a5e17297ef9bd7c733ee1a42bc"></a><!-- doxytag: member="QuantLib::CDO::expectedTrancheLoss" ref="aaec853a5e17297ef9bd7c733ee1a42bc" args="(Date d) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#aaec853a5e17297ef9bd7c733ee1a42bc">QuantLib::CDO::expectedTrancheLoss</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_quant_lib_1_1_date.html">Date</a>&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td> const<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">100</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00157">basket_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00158">copula_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00170">lgds_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00167">nBuckets_</a>, <a class="el" href="distribution_8cpp_source.html#l00172">QuantLib::Distribution::trancheExpectedValue()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00174">xMax_</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00175">xMin_</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>
<div class="fragment"><pre class="fragment">                                               {
        <span class="keywordflow">if</span> (<a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a> &lt;= <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.front()-&gt;referenceDate())
            <span class="keywordflow">return</span> 0;

        vector&lt;Real&gt; defProb (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size());
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> j = 0; j &lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size(); j++)
            defProb[j] = <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>[j]-&gt;defaultProbability (<a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>);

        LossDistBucketing op (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a4d011421401c11a7cc3bef4ff2498bb1">nBuckets_</a>, <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">xMax_</a>);
        Distribution dist = <a class="code" href="class_quant_lib_1_1_c_d_o.html#ab819a5f8c66eec92e60a17535e0f6684">copula_</a>-&gt;integral (op, <a class="code" href="class_quant_lib_1_1_c_d_o.html#ae61de2cd521d0f9d14d771a1516cc5c3">lgds_</a>, defProb);

        <span class="keywordflow">return</span> dist.trancheExpectedValue (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a5342d03264ceb314ded23fb794c80318">xMin_</a>, <a class="code" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">xMax_</a>);

        <span class="comment">// The following causes two errors in test against literature values.</span>
        <span class="comment">// FIXME: Investigate accuracy.</span>
        <span class="comment">// return dist.cumulativeExcessProbability (xMin_, xMax_);</span>

        <span class="comment">//   TranchePayoff func (xMin_, xMax_);</span>
        <span class="comment">//   return (dist.expectedValue (func)</span>
        <span class="comment">//    + (xMax_ - xMin_) * (1.0 - dist.cumulatedProbability (xMax_)));</span>
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a39f7bc58ec7eb7408ebec4179cfe93b2"></a><!-- doxytag: member="QuantLib::CDO::fairPremium" ref="a39f7bc58ec7eb7408ebec4179cfe93b2" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a39f7bc58ec7eb7408ebec4179cfe93b2">QuantLib::CDO::fairPremium</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00208">208</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="instrument_8hpp_source.html#l00148">QuantLib::Instrument::calculate()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00162">premiumRate_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00180">premiumValue_</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00181">protectionValue_</a>.</p>

<p>Referenced by <a class="el" href="test-suite_2cdo_8cpp_source.html#l00073">CdoTest::testHW()</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
        <a class="code" href="class_quant_lib_1_1_instrument.html#a5d43e0c24d2a71d737baee145e3e0383">calculate</a>();
        <span class="keywordflow">return</span> - <a class="code" href="class_quant_lib_1_1_c_d_o.html#a1277e25fcb57d70f171e5e78c2755962">premiumRate_</a> * <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a> / <a class="code" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a0e658dc3514570f557451d706f8e8dfe"></a><!-- doxytag: member="QuantLib::CDO::isExpired" ref="a0e658dc3514570f557451d706f8e8dfe" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a0e658dc3514570f557451d706f8e8dfe">QuantLib::CDO::isExpired</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>returns whether the instrument might have value greater than zero. </p>

<p>Implements <a class="el" href="class_quant_lib_1_1_instrument.html#a121a2a929b179900744a58272d46aefe">QuantLib::Instrument</a>.</p>

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00089">89</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="ql_2time_2schedule_8hpp_source.html#l00064">QuantLib::Schedule::dates()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00161">premiumSchedule_</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00166">yieldTS_</a>.</p>
<div class="fragment"><pre class="fragment">                               {
        <span class="keywordflow">return</span> detail::simple_event(<a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>.<a class="code" href="class_quant_lib_1_1_schedule.html#a072e4ef78e9ae78b389769f0a08281fc">dates</a>().back())
               .hasOccurred(<a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>-&gt;referenceDate());
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a75b9705cb6bb190b684bcddb5fa0c475"></a><!-- doxytag: member="QuantLib::CDO::lgd" ref="a75b9705cb6bb190b684bcddb5fa0c475" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a75b9705cb6bb190b684bcddb5fa0c475">QuantLib::CDO::lgd</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00137">137</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00173">lgd_</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#a0056a33c13b20dd807ba87f2ee51f4a3">lgd_</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="aeb83ff90a8738ca0404e40b9d6ab1c68"></a><!-- doxytag: member="QuantLib::CDO::nominal" ref="aeb83ff90a8738ca0404e40b9d6ab1c68" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#aeb83ff90a8738ca0404e40b9d6ab1c68">QuantLib::CDO::nominal</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00136">136</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00172">nominal_</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#ab214bd686dfd22100423261e9be93ee0">nominal_</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a62f47090cc090da74ae69afb5aa6ab83"></a><!-- doxytag: member="QuantLib::CDO::nominals" ref="a62f47090cc090da74ae69afb5aa6ab83" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&gt; <a class="el" href="class_quant_lib_1_1_c_d_o.html#a62f47090cc090da74ae69afb5aa6ab83">QuantLib::CDO::nominals</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00140">140</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00156">nominals_</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">nominals_</a>; }
</pre></div>
</div>
</div>
<a class="anchor" id="a2ceb53cef9663d522076bcfa3e4bd885"></a><!-- doxytag: member="QuantLib::CDO::performCalculations" ref="a2ceb53cef9663d522076bcfa3e4bd885" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_c_d_o.html#a2ceb53cef9663d522076bcfa3e4bd885">QuantLib::CDO::performCalculations</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>In case a pricing engine is <b>not</b> used, this method must be overridden to perform the actual calculations and set any needed results. In case a pricing engine is used, the default implementation can be used. </p>

<p>Reimplemented from <a class="el" href="class_quant_lib_1_1_instrument.html#a3d6a5f1f07c086c0e6fd0ed7d20bbd68">QuantLib::Instrument</a>.</p>

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">123</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="calendar_8cpp_source.html#l00073">QuantLib::Calendar::advance()</a>, <a class="el" href="test-suite_2marketmodel_8cpp_source.html#l00137">anonymous_namespace{marketmodel.cpp}::d</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00163">dayCounter_</a>, <a class="el" href="handle_8hpp_source.html#l00170">QuantLib::Handle&lt; T &gt;::empty()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00177">error_</a>, <a class="el" href="instrument_8hpp_source.html#l00106">QuantLib::Instrument::errorEstimate_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00168">integrationStep_</a>, <a class="el" href="instrument_8hpp_source.html#l00106">QuantLib::Instrument::NPV_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00162">premiumRate_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00161">premiumSchedule_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00180">premiumValue_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00159">protectionSeller_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00181">protectionValue_</a>, <a class="el" href="errors_8hpp_source.html#l00086">QL_REQUIRE</a>, <a class="el" href="ql_2time_2schedule_8hpp_source.html#l00058">QuantLib::Schedule::size()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00165">upfrontPremiumRate_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00182">upfrontPremiumValue_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00174">xMax_</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00175">xMin_</a>, <a class="el" href="daycounter_8hpp_source.html#l00126">QuantLib::DayCounter::yearFraction()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00166">yieldTS_</a>.</p>
<div class="fragment"><pre class="fragment">                                        {

        <a class="code" href="errors_8hpp.html#a7a9bcab8006882bc7d5302a0861ab1a6" title="throw an error if the given pre-condition is not verified">QL_REQUIRE</a>(!<a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>.<a class="code" href="class_quant_lib_1_1_handle.html#a0b7051a2101762ff4c83b8444d658ef4" title="checks if the contained shared pointer points to anything">empty</a>(), <span class="stringliteral">&quot;no yield term structure set&quot;</span>);

        <a class="code" href="class_quant_lib_1_1_instrument.html#abb8f4cfa7346fab7a2f3a8c8b4da30f3">errorEstimate_</a> = Null&lt;Real&gt;();

        <a class="code" href="class_quant_lib_1_1_instrument.html#a997663780100d30ae59b14ac0285322d">NPV_</a> = 0.0;
        <a class="code" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a> = 0;
        <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a> = 0;
        <a class="code" href="class_quant_lib_1_1_c_d_o.html#a90e001580279dc2017b695a469b0c9d7">error_</a> = 0;

        <span class="comment">/* Expectations e1 and e2 are portfolio loss given default,</span>
<span class="comment">           i.e.  with recovery already &quot;bult in&quot;. Multiplication by</span>
<span class="comment">           (1-r) is therefore not necessary, neither in premium nor</span>
<span class="comment">           protection value calculation.</span>
<span class="comment">        */</span>

        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> e1 = 0;
        Date today = <a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>-&gt;referenceDate();
        <span class="keywordflow">if</span> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>[0] &gt; today)
            e1 = <a class="code" href="class_quant_lib_1_1_c_d_o.html#aaec853a5e17297ef9bd7c733ee1a42bc">expectedTrancheLoss</a> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>[0]);

        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i = 1; i &lt; <a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>.<a class="code" href="class_quant_lib_1_1_schedule.html#a3f9f67b0f8653cb82f87eaeef9bfbbd8">size</a>(); i++) {
            Date d2 = <a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>[i];
            <span class="keywordflow">if</span> (d2 &lt; today)
                <span class="keywordflow">continue</span>;

            Date d1 = <a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>[i-1];

            Date <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>, d0 = d1;
            <span class="keywordflow">do</span> {
                d = NullCalendar().advance (d0 &gt; today ? d0 : today,
                                            <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9aa18834bd88d6eb6986a7d58f7c65e0">integrationStep_</a>);
                <span class="keywordflow">if</span> (d &gt; d2)
                    d = d2;

                <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> e2 = <a class="code" href="class_quant_lib_1_1_c_d_o.html#aaec853a5e17297ef9bd7c733ee1a42bc">expectedTrancheLoss</a> (d);

                <a class="code" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a> += (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">xMax_</a> - <a class="code" href="class_quant_lib_1_1_c_d_o.html#a5342d03264ceb314ded23fb794c80318">xMin_</a> - e2)
                    * <a class="code" href="class_quant_lib_1_1_c_d_o.html#a1277e25fcb57d70f171e5e78c2755962">premiumRate_</a> * <a class="code" href="class_quant_lib_1_1_c_d_o.html#a4ca7b20924ed59216d05f14d40513e71">dayCounter_</a>.<a class="code" href="class_quant_lib_1_1_day_counter.html#aba442c829252ee786e1b4ea3d0f04bd9" title="Returns the period between two dates as a fraction of year.">yearFraction</a> (d0, d)
                    * <a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>-&gt;discount (d);

                <span class="keywordflow">if</span> (e2 &lt; e1) {
                    <a class="code" href="class_quant_lib_1_1_c_d_o.html#a90e001580279dc2017b695a469b0c9d7">error_</a> ++;
                }

                <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a> -= (e2 - e1) * <a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>-&gt;discount (d);

                d0 = <a class="code" href="namespaceanonymous__namespace_02marketmodel_8cpp_03.html#a06d0bee201af9d379ec8f9563ecf7f66">d</a>;
                e1 = e2;
            }
            <span class="keywordflow">while</span> (d &lt; d2);
        }

        <span class="keywordflow">if</span> (<a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>[0] &gt;= today)
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#a0bbb6101c6e3e5ed421129b3ce95af29">upfrontPremiumValue_</a> = (<a class="code" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">xMax_</a> - <a class="code" href="class_quant_lib_1_1_c_d_o.html#a5342d03264ceb314ded23fb794c80318">xMin_</a>) * <a class="code" href="class_quant_lib_1_1_c_d_o.html#aa13b765c1bb7ef76127a5ea5a11d5009">upfrontPremiumRate_</a> *
                <a class="code" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">yieldTS_</a>-&gt;discount(<a class="code" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">premiumSchedule_</a>[0]);
        <span class="keywordflow">else</span>
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#a0bbb6101c6e3e5ed421129b3ce95af29">upfrontPremiumValue_</a> = 0.0;

        <span class="keywordflow">if</span> (!<a class="code" href="class_quant_lib_1_1_c_d_o.html#ad83b4b24ddf6ba4cafa8e0f0d20c12ff">protectionSeller_</a>) {
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a> *= -1;
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#a0bbb6101c6e3e5ed421129b3ce95af29">upfrontPremiumValue_</a> *= -1;
            <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a> *= -1;
        }

        NPV_ = <a class="code" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a> + <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a> + <a class="code" href="class_quant_lib_1_1_c_d_o.html#a0bbb6101c6e3e5ed421129b3ce95af29">upfrontPremiumValue_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a8aa10d834d5010357dbf2ca02b6d00a9"></a><!-- doxytag: member="QuantLib::CDO::premiumValue" ref="a8aa10d834d5010357dbf2ca02b6d00a9" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a8aa10d834d5010357dbf2ca02b6d00a9">QuantLib::CDO::premiumValue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00193">193</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="instrument_8hpp_source.html#l00148">QuantLib::Instrument::calculate()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00180">premiumValue_</a>.</p>
<div class="fragment"><pre class="fragment">                                  {
        <a class="code" href="class_quant_lib_1_1_instrument.html#a5d43e0c24d2a71d737baee145e3e0383">calculate</a>();
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">premiumValue_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ad4a939df15d417f1fa5c0c23774dbffc"></a><!-- doxytag: member="QuantLib::CDO::protectionValue" ref="ad4a939df15d417f1fa5c0c23774dbffc" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ad4a939df15d417f1fa5c0c23774dbffc">QuantLib::CDO::protectionValue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00198">198</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>

<p>References <a class="el" href="instrument_8hpp_source.html#l00148">QuantLib::Instrument::calculate()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00181">protectionValue_</a>.</p>
<div class="fragment"><pre class="fragment">                                     {
        <a class="code" href="class_quant_lib_1_1_instrument.html#a5d43e0c24d2a71d737baee145e3e0383">calculate</a>();
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">protectionValue_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a96a2625baf50ff89c0b62b86c8841183"></a><!-- doxytag: member="QuantLib::CDO::setupExpired" ref="a96a2625baf50ff89c0b62b86c8841183" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_c_d_o.html#a96a2625baf50ff89c0b62b86c8841183">QuantLib::CDO::setupExpired</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [private, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>This method must leave the instrument in a consistent state when the expiration condition is met. </p>

<p>Reimplemented from <a class="el" href="class_quant_lib_1_1_instrument.html#ab555c6c830dc415f42307e08d6d6d3b4">QuantLib::Instrument</a>.</p>

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00095">95</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a>.</p>
<div class="fragment"><pre class="fragment">                                 {
        <a class="code" href="class_quant_lib_1_1_c_d_o.html#a96a2625baf50ff89c0b62b86c8841183">Instrument::setupExpired</a>();
    }
</pre></div>
</div>
</div>
<a class="anchor" id="ac751720b53980bbc495843a993abe33e"></a><!-- doxytag: member="QuantLib::CDO::size" ref="ac751720b53980bbc495843a993abe33e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ac751720b53980bbc495843a993abe33e">QuantLib::CDO::size</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00141">141</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>References <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00157">basket_</a>.</p>
<div class="fragment"><pre class="fragment">{ <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">basket_</a>.size(); }
</pre></div>
</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="afdcb611da1c5783d0057909f0ef39d5c"></a><!-- doxytag: member="QuantLib::CDO::attachment_" ref="afdcb611da1c5783d0057909f0ef39d5c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#afdcb611da1c5783d0057909f0ef39d5c">QuantLib::CDO::attachment_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00154">154</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00138">attachment()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>.</p>

</div>
</div>
<a class="anchor" id="a9272098269232fab524d9cacb741eacd"></a><!-- doxytag: member="QuantLib::CDO::basket_" ref="a9272098269232fab524d9cacb741eacd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_default_probability_term_structure.html">DefaultProbabilityTermStructure</a>&gt; &gt; <a class="el" href="class_quant_lib_1_1_c_d_o.html#a9272098269232fab524d9cacb741eacd">QuantLib::CDO::basket_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00157">157</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00141">size()</a>.</p>

</div>
</div>
<a class="anchor" id="ab819a5f8c66eec92e60a17535e0f6684"></a><!-- doxytag: member="QuantLib::CDO::copula_" ref="ab819a5f8c66eec92e60a17535e0f6684" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_one_factor_copula.html">OneFactorCopula</a>&gt; <a class="el" href="class_quant_lib_1_1_c_d_o.html#ab819a5f8c66eec92e60a17535e0f6684">QuantLib::CDO::copula_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00158">158</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>.</p>

</div>
</div>
<a class="anchor" id="a4ca7b20924ed59216d05f14d40513e71"></a><!-- doxytag: member="QuantLib::CDO::dayCounter_" ref="a4ca7b20924ed59216d05f14d40513e71" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_day_counter.html">DayCounter</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a4ca7b20924ed59216d05f14d40513e71">QuantLib::CDO::dayCounter_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00163">163</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a3ee0a91904febdfdbf2a33cb6f9d69b4"></a><!-- doxytag: member="QuantLib::CDO::detachment_" ref="a3ee0a91904febdfdbf2a33cb6f9d69b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a3ee0a91904febdfdbf2a33cb6f9d69b4">QuantLib::CDO::detachment_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00155">155</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00139">detachment()</a>.</p>

</div>
</div>
<a class="anchor" id="a90e001580279dc2017b695a469b0c9d7"></a><!-- doxytag: member="QuantLib::CDO::error_" ref="a90e001580279dc2017b695a469b0c9d7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a90e001580279dc2017b695a469b0c9d7">QuantLib::CDO::error_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00177">177</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00203">error()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a565e885183b43288e6827d62470f928c"></a><!-- doxytag: member="QuantLib::CDO::fairPremium_" ref="a565e885183b43288e6827d62470f928c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a565e885183b43288e6827d62470f928c">QuantLib::CDO::fairPremium_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00179">179</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9aa18834bd88d6eb6986a7d58f7c65e0"></a><!-- doxytag: member="QuantLib::CDO::integrationStep_" ref="a9aa18834bd88d6eb6986a7d58f7c65e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_period.html">Period</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a9aa18834bd88d6eb6986a7d58f7c65e0">QuantLib::CDO::integrationStep_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00168">168</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a0056a33c13b20dd807ba87f2ee51f4a3"></a><!-- doxytag: member="QuantLib::CDO::lgd_" ref="a0056a33c13b20dd807ba87f2ee51f4a3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a0056a33c13b20dd807ba87f2ee51f4a3">QuantLib::CDO::lgd_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00173">173</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00137">lgd()</a>.</p>

</div>
</div>
<a class="anchor" id="ae61de2cd521d0f9d14d771a1516cc5c3"></a><!-- doxytag: member="QuantLib::CDO::lgds_" ref="ae61de2cd521d0f9d14d771a1516cc5c3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&gt; <a class="el" href="class_quant_lib_1_1_c_d_o.html#ae61de2cd521d0f9d14d771a1516cc5c3">QuantLib::CDO::lgds_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00170">170</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>.</p>

</div>
</div>
<a class="anchor" id="a4d011421401c11a7cc3bef4ff2498bb1"></a><!-- doxytag: member="QuantLib::CDO::nBuckets_" ref="a4d011421401c11a7cc3bef4ff2498bb1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a4d011421401c11a7cc3bef4ff2498bb1">QuantLib::CDO::nBuckets_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00167">167</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>.</p>

</div>
</div>
<a class="anchor" id="ab214bd686dfd22100423261e9be93ee0"></a><!-- doxytag: member="QuantLib::CDO::nominal_" ref="ab214bd686dfd22100423261e9be93ee0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ab214bd686dfd22100423261e9be93ee0">QuantLib::CDO::nominal_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00172">172</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00136">nominal()</a>.</p>

</div>
</div>
<a class="anchor" id="a9cf1ce6933cc80a1eefecd694300378c"></a><!-- doxytag: member="QuantLib::CDO::nominals_" ref="a9cf1ce6933cc80a1eefecd694300378c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&gt; <a class="el" href="class_quant_lib_1_1_c_d_o.html#a9cf1ce6933cc80a1eefecd694300378c">QuantLib::CDO::nominals_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00156">156</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00140">nominals()</a>.</p>

</div>
</div>
<a class="anchor" id="a1277e25fcb57d70f171e5e78c2755962"></a><!-- doxytag: member="QuantLib::CDO::premiumRate_" ref="a1277e25fcb57d70f171e5e78c2755962" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a1277e25fcb57d70f171e5e78c2755962">QuantLib::CDO::premiumRate_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00162">162</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00208">fairPremium()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="ac9695996c42c2288538e1d3ce92d3e1e"></a><!-- doxytag: member="QuantLib::CDO::premiumSchedule_" ref="ac9695996c42c2288538e1d3ce92d3e1e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_schedule.html">Schedule</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ac9695996c42c2288538e1d3ce92d3e1e">QuantLib::CDO::premiumSchedule_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00161">161</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00089">isExpired()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a45f545b0cf6d49d5f36807f28e2ba5b7"></a><!-- doxytag: member="QuantLib::CDO::premiumValue_" ref="a45f545b0cf6d49d5f36807f28e2ba5b7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a45f545b0cf6d49d5f36807f28e2ba5b7">QuantLib::CDO::premiumValue_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00180">180</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00208">fairPremium()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00193">premiumValue()</a>.</p>

</div>
</div>
<a class="anchor" id="ad83b4b24ddf6ba4cafa8e0f0d20c12ff"></a><!-- doxytag: member="QuantLib::CDO::protectionSeller_" ref="ad83b4b24ddf6ba4cafa8e0f0d20c12ff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ad83b4b24ddf6ba4cafa8e0f0d20c12ff">QuantLib::CDO::protectionSeller_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00159">159</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="ad60ac225a9686c724e87c06e2781b874"></a><!-- doxytag: member="QuantLib::CDO::protectionValue_" ref="ad60ac225a9686c724e87c06e2781b874" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#ad60ac225a9686c724e87c06e2781b874">QuantLib::CDO::protectionValue_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00181">181</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00208">fairPremium()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00198">protectionValue()</a>.</p>

</div>
</div>
<a class="anchor" id="a06ad15392492b6f948dc0592022110c7"></a><!-- doxytag: member="QuantLib::CDO::recoveryRate_" ref="a06ad15392492b6f948dc0592022110c7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a06ad15392492b6f948dc0592022110c7">QuantLib::CDO::recoveryRate_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00164">164</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>.</p>

</div>
</div>
<a class="anchor" id="aa13b765c1bb7ef76127a5ea5a11d5009"></a><!-- doxytag: member="QuantLib::CDO::upfrontPremiumRate_" ref="aa13b765c1bb7ef76127a5ea5a11d5009" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b">Rate</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#aa13b765c1bb7ef76127a5ea5a11d5009">QuantLib::CDO::upfrontPremiumRate_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00165">165</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a0bbb6101c6e3e5ed421129b3ce95af29"></a><!-- doxytag: member="QuantLib::CDO::upfrontPremiumValue_" ref="a0bbb6101c6e3e5ed421129b3ce95af29" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a0bbb6101c6e3e5ed421129b3ce95af29">QuantLib::CDO::upfrontPremiumValue_</a><code> [mutable, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00182">182</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b56923d172591da295b26f14b08646f"></a><!-- doxytag: member="QuantLib::CDO::xMax_" ref="a3b56923d172591da295b26f14b08646f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a3b56923d172591da295b26f14b08646f">QuantLib::CDO::xMax_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00174">174</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="a5342d03264ceb314ded23fb794c80318"></a><!-- doxytag: member="QuantLib::CDO::xMin_" ref="a5342d03264ceb314ded23fb794c80318" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_c_d_o.html#a5342d03264ceb314ded23fb794c80318">QuantLib::CDO::xMin_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00175">175</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00100">expectedTrancheLoss()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<a class="anchor" id="adb4f98341d345156edb4101a71dc686c"></a><!-- doxytag: member="QuantLib::CDO::yieldTS_" ref="adb4f98341d345156edb4101a71dc686c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_handle.html">Handle</a>&lt;<a class="el" href="class_quant_lib_1_1_yield_term_structure.html">YieldTermStructure</a>&gt; <a class="el" href="class_quant_lib_1_1_c_d_o.html#adb4f98341d345156edb4101a71dc686c">QuantLib::CDO::yieldTS_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html#l00166">166</a> of file <a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a>.</p>

<p>Referenced by <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00027">CDO()</a>, <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00089">isExpired()</a>, and <a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html#l00123">performCalculations()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/experimental/credit/<a class="el" href="ql_2experimental_2credit_2cdo_8hpp_source.html">cdo.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/experimental/credit/<a class="el" href="ql_2experimental_2credit_2cdo_8cpp_source.html">cdo.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_c_d_o.html">CDO</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:05 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
