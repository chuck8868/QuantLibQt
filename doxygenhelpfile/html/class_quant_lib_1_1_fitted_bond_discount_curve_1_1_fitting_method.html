<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QuantLib: QuantLib::FittedBondDiscountCurve::FittingMethod Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">QuantLib
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">ql1-3</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="dynsections.js"></script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">QuantLib::FittedBondDiscountCurve::FittingMethod Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="QuantLib::FittedBondDiscountCurve::FittingMethod" -->
<p>Base fitting method used to construct a fitted bond discount curve.  
 <a href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for QuantLib::FittedBondDiscountCurve::FittingMethod:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method__inherit__graph.png" border="0" usemap="#_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_inherit__map" alt="Inheritance graph"/></div>
<map name="_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_inherit__map" id="_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_inherit__map">
<area shape="rect" id="node3" href="class_quant_lib_1_1_cubic_b_splines_fitting.html" title="CubicSpline B&#45;splines fitting method." alt="" coords="5,416,208,605"/><area shape="rect" id="node5" href="class_quant_lib_1_1_exponential_splines_fitting.html" title="Exponential&#45;splines fitting method." alt="" coords="232,442,461,579"/><area shape="rect" id="node7" href="class_quant_lib_1_1_nelson_siegel_fitting.html" title="Nelson&#45;Siegel fitting method." alt="" coords="485,442,680,579"/><area shape="rect" id="node9" href="class_quant_lib_1_1_simple_polynomial_fitting.html" title="Simple polynomial fitting method." alt="" coords="704,442,925,579"/><area shape="rect" id="node11" href="class_quant_lib_1_1_svensson_fitting.html" title="Svensson Fitting method." alt="" coords="949,442,1125,579"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for QuantLib::FittedBondDiscountCurve::FittingMethod:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method__coll__graph.png" border="0" usemap="#_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_coll__map" alt="Collaboration graph"/></div>
<map name="_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_coll__map" id="_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_coll__map">
<area shape="rect" id="node2" href="class_quant_lib_1_1_fitted_bond_discount_curve.html" title="Discount curve fitted to a set of fixed&#45;coupon bonds." alt="" coords="1604,4429,1836,4931"/><area shape="rect" id="node4" href="class_quant_lib_1_1_yield_term_structure.html" title="Interest&#45;rate term structure." alt="" coords="1385,3343,1580,3983"/><area shape="rect" id="node6" href="class_quant_lib_1_1_term_structure.html" title="Basic term&#45;structure functionality." alt="" coords="801,2323,967,2911"/><area shape="rect" id="node8" href="class_quant_lib_1_1_observer.html" title="Object that gets notified when a given observable changes." alt="" coords="145,461,279,651"/><area shape="rect" id="node67" href="class_quant_lib_1_1_lazy_object.html" title="Framework for calculation on demand and result caching." alt="" coords="145,2497,300,2738"/><area shape="rect" id="node14" title="STL class." alt="" coords="44,157,143,243"/><area shape="rect" id="node18" href="class_quant_lib_1_1_observable.html" title="Object that notifies its changes to a set of observers." alt="" coords="11,1564,157,1753"/><area shape="rect" id="node24" href="class_quant_lib_1_1_extrapolator.html" title="base class for classes possibly allowing extrapolation" alt="" coords="689,1555,847,1762"/><area shape="rect" id="node26" href="classbool.html" title="{bool\n||}" alt="" coords="372,813,417,899"/><area shape="rect" id="node28" href="class_quant_lib_1_1_day_counter.html" title="day counter class" alt="" coords="921,1538,1073,1779"/><area shape="rect" id="node39" href="class_quant_lib_1_1_calendar.html" title="calendar class" alt="" coords="1097,1495,1271,1823"/><area shape="rect" id="node32" href="class_quant_lib_1_1_date.html" title="Concrete date class." alt="" coords="1295,1061,1468,2256"/><area shape="rect" id="node44" href="class_quant_lib_1_1_handle.html" title="{QuantLib::Handle\&lt; Quote \&gt;\n|# link_\l|+ currentLink()\l+ operator&#45;\&gt;()\l+ operator*()\l+ empty()\l+ operator boost::shared_ptr\&lt; Observable \&gt;()\l+ operator==()\l+ operator!=()\l+ operator\&lt;()\l+ Handle()\l+ Handle()\l* Handle()\l* Handle()\l}" alt="" coords="1493,1521,1776,1797"/><area shape="rect" id="node48" href="class_quant_lib_1_1_handle.html" title="Shared handle to an observable." alt="" coords="1479,718,1761,994"/><area shape="rect" id="node51" title="STL class." alt="" coords="1869,1616,1984,1701"/><area shape="rect" id="node89" href="class_quant_lib_1_1_array.html" title="1&#45;D array used in linear algebra." alt="" coords="1757,2979,1869,4347"/><area shape="rect" id="node64" href="class_time.html" title="{Time\n||}" alt="" coords="2285,1616,2336,1701"/><area shape="rect" id="node75" href="class_quant_lib_1_1_clone.html" title="{QuantLib::Clone\&lt; FittingMethod \&gt;\n|&#45; ptr_\l|+ Clone()\l+ Clone()\l+ Clone()\l+ Clone()\l+ operator=()\l+ operator=()\l+ operator*()\l+ operator&#45;\&gt;()\l+ empty()\l+ swap()\l}" alt="" coords="2027,3542,2245,3783"/><area shape="rect" id="node79" href="class_quant_lib_1_1_clone.html" title="cloning proxy to an underlying object" alt="" coords="2776,2497,2923,2738"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_1_1_fitting_cost.html">FittingCost</a></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#ae65881f37322c342a9c8efd3694ab05f">~FittingMethod</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#abf97c55767dd73cd02e5541c930617f6">size</a> () const =0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">total number of coefficients to fit/solve for  <a href="#abf97c55767dd73cd02e5541c930617f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_array.html">Array</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a404701547b11c4ef2e9ca52a446f108c">solution</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">output array of results of optimization problem  <a href="#a404701547b11c4ef2e9ca52a446f108c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a8ac1a45a37d8d3dda438a2e59e222620">Integer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a334c2f8ec151f57c5452c61f59a76087">numberOfIterations</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">final number of iterations used in the optimization problem  <a href="#a334c2f8ec151f57c5452c61f59a76087"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a7b48a809dd818833de9066441784d77e">minimumCostValue</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">final value of cost function after optimization  <a href="#a7b48a809dd818833de9066441784d77e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual std::auto_ptr<br class="typebreak"/>
&lt; <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html">FittingMethod</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#abbab47ec9f7b83adaaa4c5cde76efc30">clone</a> () const =0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">clone of the current object  <a href="#abbab47ec9f7b83adaaa4c5cde76efc30"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a6cc2a585c53d0213171e6cabb7291b35">FittingMethod</a> (<a class="el" href="classbool.html">bool</a> constrainAtZero=true)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">constructor  <a href="#a6cc2a585c53d0213171e6cabb7291b35"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a1a95e76182041bc74d3e9d81c6c22930">init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">rerun every time instruments/referenceDate changes  <a href="#a1a95e76182041bc74d3e9d81c6c22930"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespace_quant_lib.html#a05e8e288a4bdedfe5b4e16d8cec14f1c">DiscountFactor</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#ac9a84e710d167996e6ab70d3513480f2">discountFunction</a> (const <a class="el" href="class_quant_lib_1_1_array.html">Array</a> &amp;x, <a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a> t) const =0</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">derived classes must set this  <a href="#ac9a84e710d167996e6ab70d3513480f2"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classbool.html">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a2c0780f412eb30de6bda3dae5bfa931b">constrainAtZero_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">constrains discount function to unity at \( T=0 \), if true  <a href="#a2c0780f412eb30de6bda3dae5bfa931b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html">FittedBondDiscountCurve</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43">curve_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">internal reference to the <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html" title="Discount curve fitted to a set of fixed-coupon bonds.">FittedBondDiscountCurve</a> instance  <a href="#a3dee794ba5dac372f875b62d3b6e5c43"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_array.html">Array</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#af3084426c6057ea8302006cfb22c3e70">solution_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">solution array found from optimization, set in <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a153acf9288eb5e8e0dd4632f62960d3b">calculate()</a>  <a href="#af3084426c6057ea8302006cfb22c3e70"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_array.html">Array</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a4bb64cb440e5acd113dc6b997e2babcf">guessSolution_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">optional guess solution to be passed into constructor.  <a href="#a4bb64cb440e5acd113dc6b997e2babcf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">boost::shared_ptr&lt; <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_1_1_fitting_cost.html">FittingCost</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3b734c5f5788da3428650f95eb8af75b">costFunction_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">base class sets this cost function used in the optimization routine  <a href="#a3b734c5f5788da3428650f95eb8af75b"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a153acf9288eb5e8e0dd4632f62960d3b">calculate</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_quant_lib_1_1_array.html">Array</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aa6985a27eee2f1eb74515e302764b7e2">weights_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a8ac1a45a37d8d3dda438a2e59e222620">Integer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a083070514a4fe6cd5c4d86ea1bb07543">numberOfIterations_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a4f436ad04cd6b6206e14f491debef066">costValue_</a></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aed718c4358fb9121b3421566c9e0be55">FittedBondDiscountCurve</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Base fitting method used to construct a fitted bond discount curve. </p>
<p>This base class provides the specific methodology/strategy used to construct a <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html" title="Discount curve fitted to a set of fixed-coupon bonds.">FittedBondDiscountCurve</a>. Derived classes need only define the virtual function <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#ac9a84e710d167996e6ab70d3513480f2" title="derived classes must set this">discountFunction()</a> based on the particular fitting method to be implemented, as well as <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#abf97c55767dd73cd02e5541c930617f6" title="total number of coefficients to fit/solve for">size()</a>, the number of variables to be solved for/optimized. The generic fitting methodology implemented here can be termed nonlinear, in contrast to (typically faster, computationally) linear fitting method.</p>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000066">Todo:</a></b></dt><dd>derive the special-case class LinearFittingMethods from <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html" title="Base fitting method used to construct a fitted bond discount curve.">FittingMethod</a>. A linear fitting to a set of basis functions \( b_i(t) \) is any fitting of the form <p class="formulaDsp">
\[ d(t) = \sum_{i=0} c_i b_i(t) \]
</p>
 i.e., linear in the unknown coefficients \( c_i \). Such a fitting can be reduced to a linear algebra problem \( Ax = b \), and for large numbers of bonds, would typically be much faster computationally than the generic non-linear fitting method.</dd></dl>
<dl class="warning"><dt><b>Warning:</b></dt><dd>some parameters to the <a class="el" href="class_quant_lib_1_1_simplex.html" title="Multi-dimensional simplex class.">Simplex</a> optimization method may need to be tweaked internally to the class, depending on the fitting method used, in order to get proper/reasonable/faster convergence. </dd></dl>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00197">197</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae65881f37322c342a9c8efd3694ab05f"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::~FittingMethod" ref="ae65881f37322c342a9c8efd3694ab05f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#ae65881f37322c342a9c8efd3694ab05f">QuantLib::FittedBondDiscountCurve::FittingMethod::~FittingMethod</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline, virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00202">202</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>
<div class="fragment"><pre class="fragment">{}
</pre></div>
</div>
</div>
<a class="anchor" id="a6cc2a585c53d0213171e6cabb7291b35"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::FittingMethod" ref="a6cc2a585c53d0213171e6cabb7291b35" args="(bool constrainAtZero=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a6cc2a585c53d0213171e6cabb7291b35">QuantLib::FittedBondDiscountCurve::FittingMethod::FittingMethod</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classbool.html">bool</a>&#160;</td>
          <td class="paramname"><em>constrainAtZero</em> = <code>true</code></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constructor </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8cpp_source.html#l00178">178</a> of file <a class="el" href="fittedbonddiscountcurve_8cpp_source.html">fittedbonddiscountcurve.cpp</a>.</p>
<div class="fragment"><pre class="fragment">    : <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a2c0780f412eb30de6bda3dae5bfa931b" title="constrains discount function to unity at , if true">constrainAtZero_</a>(constrainAtZero) {}
</pre></div>
</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a153acf9288eb5e8e0dd4632f62960d3b"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::calculate" ref="a153acf9288eb5e8e0dd4632f62960d3b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a153acf9288eb5e8e0dd4632f62960d3b">QuantLib::FittedBondDiscountCurve::FittingMethod::calculate</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8cpp_source.html#l00225">225</a> of file <a class="el" href="fittedbonddiscountcurve_8cpp_source.html">fittedbonddiscountcurve.cpp</a>.</p>

<p>References <a class="el" href="problem_8hpp_source.html#l00075">QuantLib::Problem::currentValue()</a>, <a class="el" href="problem_8hpp_source.html#l00091">QuantLib::Problem::functionEvaluation()</a>, <a class="el" href="problem_8hpp_source.html#l00082">QuantLib::Problem::functionValue()</a>, <a class="el" href="simplex_8cpp_source.html#l00096">QuantLib::Simplex::minimize()</a>, and <a class="el" href="optimizers_8cpp_source.html#l00102">anonymous_namespace{optimizers.cpp}::simplex</a>.</p>
<div class="fragment"><pre class="fragment">                                                         {

        FittingCost&amp; costFunction = *<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3b734c5f5788da3428650f95eb8af75b" title="base class sets this cost function used in the optimization routine">costFunction_</a>;
        Constraint constraint = NoConstraint();

        <span class="comment">// start with the guess solution, if it exists</span>
        Array x(<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#abf97c55767dd73cd02e5541c930617f6" title="total number of coefficients to fit/solve for">size</a>(), 0.0);
        <span class="keywordflow">if</span> (!<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#ae5ce43bb0d46965e009f90dbaa5316bb">guessSolution_</a>.<a class="code" href="class_quant_lib_1_1_array.html#af740857bb6ea7f66e80817c3690cd789" title="whether the array is empty">empty</a>()) {
            x = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#ae5ce43bb0d46965e009f90dbaa5316bb">guessSolution_</a>;
        }

        Simplex <a class="code" href="namespaceanonymous__namespace_02optimizers_8cpp_03.html#aad38757ba741246df529ef79e795a8ceab8dd70263a9e7bb1a0b7bd7f7b382499">simplex</a>(<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a295df44aa09ded2ef3203878c36b094f">simplexLambda_</a>);
        Problem problem(costFunction, constraint, x);

        <a class="code" href="namespace_quant_lib.html#a9adc2615d630d6006896b3402b09b03b" title="positive integer">Natural</a> maxStationaryStateIterations = 100;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> rootEpsilon = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a46b397c2ef05368c166dfb493b76f319">accuracy_</a>;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> functionEpsilon =  <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a46b397c2ef05368c166dfb493b76f319">accuracy_</a>;
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> gradientNormEpsilon = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a46b397c2ef05368c166dfb493b76f319">accuracy_</a>;

        EndCriteria endCriteria(<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a7e340b5662801b0e626f5416a30a935b">maxEvaluations_</a>,
                                maxStationaryStateIterations,
                                rootEpsilon,
                                functionEpsilon,
                                gradientNormEpsilon);

        <a class="code" href="namespaceanonymous__namespace_02optimizers_8cpp_03.html#aad38757ba741246df529ef79e795a8ceab8dd70263a9e7bb1a0b7bd7f7b382499">simplex</a>.minimize(problem,endCriteria);
        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#af3084426c6057ea8302006cfb22c3e70" title="solution array found from optimization, set in calculate()">solution_</a> = problem.currentValue();

        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a083070514a4fe6cd5c4d86ea1bb07543">numberOfIterations_</a> = problem.functionEvaluation();
        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a4f436ad04cd6b6206e14f491debef066">costValue_</a> = problem.functionValue();

        <span class="comment">// save the results as the guess solution, in case of recalculation</span>
        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#ae5ce43bb0d46965e009f90dbaa5316bb">guessSolution_</a> = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#af3084426c6057ea8302006cfb22c3e70" title="solution array found from optimization, set in calculate()">solution_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="abbab47ec9f7b83adaaa4c5cde76efc30"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::clone" ref="abbab47ec9f7b83adaaa4c5cde76efc30" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::auto_ptr&lt;<a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html">FittingMethod</a>&gt; <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#abbab47ec9f7b83adaaa4c5cde76efc30">QuantLib::FittedBondDiscountCurve::FittingMethod::clone</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>clone of the current object </p>

<p>Implemented in <a class="el" href="class_quant_lib_1_1_simple_polynomial_fitting.html#a5e76de2e511dc8ba56cd3703e707cb38">QuantLib::SimplePolynomialFitting</a>, <a class="el" href="class_quant_lib_1_1_cubic_b_splines_fitting.html#a0165227f3a33030f7b06dd00216290be">QuantLib::CubicBSplinesFitting</a>, <a class="el" href="class_quant_lib_1_1_svensson_fitting.html#a69109b505b02c29900ac5d3ed2d8be0f">QuantLib::SvenssonFitting</a>, <a class="el" href="class_quant_lib_1_1_nelson_siegel_fitting.html#af9a526d7632036f80261fff62781d7f9">QuantLib::NelsonSiegelFitting</a>, and <a class="el" href="class_quant_lib_1_1_exponential_splines_fitting.html#af51bcbdf22f226fff3b4958f471cdea8">QuantLib::ExponentialSplinesFitting</a>.</p>

</div>
</div>
<a class="anchor" id="ac9a84e710d167996e6ab70d3513480f2"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::discountFunction" ref="ac9a84e710d167996e6ab70d3513480f2" args="(const Array &amp;x, Time t) const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_quant_lib.html#a05e8e288a4bdedfe5b4e16d8cec14f1c">DiscountFactor</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#ac9a84e710d167996e6ab70d3513480f2">QuantLib::FittedBondDiscountCurve::FittingMethod::discountFunction</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_quant_lib_1_1_array.html">Array</a> &amp;&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace_quant_lib.html#a4f78b18a4dd1a979eb78b4e1e8ac1503">Time</a>&#160;</td>
          <td class="paramname"><em>t</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const<code> [protected, pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>derived classes must set this </p>
<p>user-defined discount curve, as a function of time and an array of unknown fitting coefficients \( x_i \). </p>

<p>Implemented in <a class="el" href="class_quant_lib_1_1_simple_polynomial_fitting.html#a595fff985b75eadab684dc7f2d89c450">QuantLib::SimplePolynomialFitting</a>, <a class="el" href="class_quant_lib_1_1_cubic_b_splines_fitting.html#a52bcd2af9caa6eec7fa2f9df0e613751">QuantLib::CubicBSplinesFitting</a>, <a class="el" href="class_quant_lib_1_1_svensson_fitting.html#aee3c1ae0924366b352b0c1076a6b0283">QuantLib::SvenssonFitting</a>, <a class="el" href="class_quant_lib_1_1_nelson_siegel_fitting.html#abad617c0eb752acf20eb10e631c58f18">QuantLib::NelsonSiegelFitting</a>, and <a class="el" href="class_quant_lib_1_1_exponential_splines_fitting.html#ae828425afead7066c5c98e74f657527c">QuantLib::ExponentialSplinesFitting</a>.</p>

<p>Referenced by <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00277">QuantLib::FittedBondDiscountCurve::discountImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="a1a95e76182041bc74d3e9d81c6c22930"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::init" ref="a1a95e76182041bc74d3e9d81c6c22930" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a1a95e76182041bc74d3e9d81c6c22930">QuantLib::FittedBondDiscountCurve::FittingMethod::init</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>rerun every time instruments/referenceDate changes </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8cpp_source.html#l00182">182</a> of file <a class="el" href="fittedbonddiscountcurve_8cpp_source.html">fittedbonddiscountcurve.cpp</a>.</p>

<p>References <a class="el" href="frequency_8hpp_source.html#l00039">QuantLib::Annual</a>, <a class="el" href="compounding_8hpp_source.html#l00033">QuantLib::Compounded</a>, <a class="el" href="bondfunctions_8cpp_source.html#l00370">QuantLib::BondFunctions::duration()</a>, <a class="el" href="duration_8hpp_source.html#l00036">QuantLib::Duration::Modified</a>, and <a class="el" href="bondfunctions_8cpp_source.html#l00345">QuantLib::BondFunctions::yield()</a>.</p>
<div class="fragment"><pre class="fragment">                                                    {

        <span class="comment">// yield conventions</span>
        DayCounter yieldDC = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_term_structure.html#ac2ae1a909ad5ae4fb28eec00c19d43ee" title="the day counter used for date/time conversion">dayCounter</a>();
        <a class="code" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265b" title="Interest rate coumpounding rule.">Compounding</a> yieldComp = <a class="code" href="namespace_quant_lib.html#a1d1b94285bc6741279c70fac8b34265bad20ee0c1742383b76eabab94f8d05709">Compounded</a>;
        <a class="code" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4a" title="Frequency of events.">Frequency</a> yieldFreq = <a class="code" href="namespace_quant_lib.html#abfa020992bcf412e2bc99f56d4381b4aac6003519ba84c016466307b35221e4cf" title="once a year">Annual</a>;

        <a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> n = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a9952e36b5f002bf0a3169132163e5c42">bondHelpers_</a>.size();
        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3b734c5f5788da3428650f95eb8af75b" title="base class sets this cost function used in the optimization routine">costFunction_</a> = shared_ptr&lt;FittingCost&gt;(<span class="keyword">new</span> FittingCost(<span class="keyword">this</span>));
        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3b734c5f5788da3428650f95eb8af75b" title="base class sets this cost function used in the optimization routine">costFunction_</a>-&gt;firstCashFlow_.resize(n);
        <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aa6985a27eee2f1eb74515e302764b7e2">weights_</a> = Array(n);
        <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> squaredSum = 0.0;
        <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> i=0; i&lt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a9952e36b5f002bf0a3169132163e5c42">bondHelpers_</a>.size(); ++i) {
            shared_ptr&lt;Bond&gt; bond = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a9952e36b5f002bf0a3169132163e5c42">bondHelpers_</a>[i]-&gt;bond();

            <a class="code" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11" title="Sequence of cash-flows.">Leg</a> leg = bond-&gt;cashflows();
            <a class="code" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50" title="real number">Real</a> cleanPrice = <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43" title="internal reference to the FittedBondDiscountCurve instance">curve_</a>-&gt;<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve.html#a9952e36b5f002bf0a3169132163e5c42">bondHelpers_</a>[i]-&gt;quote()-&gt;value();
            
            Date bondSettlement = bond-&gt;settlementDate();
            <a class="code" href="namespace_quant_lib.html#a919ba3567cc89fca373f8d6b8e80126b" title="interest rates">Rate</a> ytm = <a class="code" href="struct_quant_lib_1_1_bond_functions.html#a4c9b305d2b225fe0a7383332eb06fa75">BondFunctions::yield</a>(*bond, cleanPrice,
                                            yieldDC, yieldComp, yieldFreq,
                                            bondSettlement);

            <a class="code" href="class_time.html">Time</a> dur = <a class="code" href="struct_quant_lib_1_1_bond_functions.html#a265b7563cc7e2f3ae4308e472006a9d5">BondFunctions::duration</a>(*bond, ytm,
                                               yieldDC, yieldComp, yieldFreq,
                                               <a class="code" href="struct_quant_lib_1_1_duration.html#a786711cb6cd78f4589060752c691bfa4af3c1d40d4a2ad01728f4008d55e50aae">Duration::Modified</a>,
                                               bondSettlement);
            <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aa6985a27eee2f1eb74515e302764b7e2">weights_</a>[i] = 1.0/dur;
            squaredSum += <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aa6985a27eee2f1eb74515e302764b7e2">weights_</a>[i]*<a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aa6985a27eee2f1eb74515e302764b7e2">weights_</a>[i];

            <span class="keyword">const</span> <a class="code" href="namespace_quant_lib.html#abdb8d18844749e7614125fe36661bb11" title="Sequence of cash-flows.">Leg</a>&amp; cf = bond-&gt;cashflows();
            <span class="keywordflow">for</span> (<a class="code" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3" title="size of a container">Size</a> k=0; k&lt;cf.size(); ++k) {
                <span class="keywordflow">if</span> (!cf[k]-&gt;hasOccurred(bondSettlement, <span class="keyword">false</span>)) {
                    <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3b734c5f5788da3428650f95eb8af75b" title="base class sets this cost function used in the optimization routine">costFunction_</a>-&gt;firstCashFlow_[i] = k;
                    <span class="keywordflow">break</span>;
                }
            }
        }
        weights_ /= std::sqrt(squaredSum);

    }
</pre></div>
</div>
</div>
<a class="anchor" id="a7b48a809dd818833de9066441784d77e"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::minimumCostValue" ref="a7b48a809dd818833de9066441784d77e" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a7b48a809dd818833de9066441784d77e">QuantLib::FittedBondDiscountCurve::FittingMethod::minimumCostValue</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>final value of cost function after optimization </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00288">288</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a4f436ad04cd6b6206e14f491debef066">costValue_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="a334c2f8ec151f57c5452c61f59a76087"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::numberOfIterations" ref="a334c2f8ec151f57c5452c61f59a76087" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a8ac1a45a37d8d3dda438a2e59e222620">Integer</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a334c2f8ec151f57c5452c61f59a76087">QuantLib::FittedBondDiscountCurve::FittingMethod::numberOfIterations</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>final number of iterations used in the optimization problem </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00283">283</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

<p>References <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00245">numberOfIterations_</a>.</p>
<div class="fragment"><pre class="fragment">                                                                   {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a083070514a4fe6cd5c4d86ea1bb07543">numberOfIterations_</a>;
    }
</pre></div>
</div>
</div>
<a class="anchor" id="abf97c55767dd73cd02e5541c930617f6"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::size" ref="abf97c55767dd73cd02e5541c930617f6" args="() const =0" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespace_quant_lib.html#af4cc4ef40b52c17cc455ead2a97aedb3">Size</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#abf97c55767dd73cd02e5541c930617f6">QuantLib::FittedBondDiscountCurve::FittingMethod::size</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [pure virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>total number of coefficients to fit/solve for </p>

<p>Implemented in <a class="el" href="class_quant_lib_1_1_simple_polynomial_fitting.html#a532183f51d43b768d02bf5a379fba2a9">QuantLib::SimplePolynomialFitting</a>, <a class="el" href="class_quant_lib_1_1_cubic_b_splines_fitting.html#a75ed5d6996f091674131c56b8b43d1aa">QuantLib::CubicBSplinesFitting</a>, <a class="el" href="class_quant_lib_1_1_svensson_fitting.html#a7b9ca7280abf96faf67fd40fbfcbb4ea">QuantLib::SvenssonFitting</a>, <a class="el" href="class_quant_lib_1_1_nelson_siegel_fitting.html#ab238678b8d9c1984587a56d6205e95ea">QuantLib::NelsonSiegelFitting</a>, and <a class="el" href="class_quant_lib_1_1_exponential_splines_fitting.html#ad841a899edc0e264784e78202f6b3636">QuantLib::ExponentialSplinesFitting</a>.</p>

</div>
</div>
<a class="anchor" id="a404701547b11c4ef2e9ca52a446f108c"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::solution" ref="a404701547b11c4ef2e9ca52a446f108c" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_array.html">Array</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a404701547b11c4ef2e9ca52a446f108c">QuantLib::FittedBondDiscountCurve::FittingMethod::solution</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>output array of results of optimization problem </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00292">292</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>
<div class="fragment"><pre class="fragment">                                                                      {
        <span class="keywordflow">return</span> <a class="code" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#af3084426c6057ea8302006cfb22c3e70" title="solution array found from optimization, set in calculate()">solution_</a>;
    }
</pre></div>
</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="aed718c4358fb9121b3421566c9e0be55"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::FittedBondDiscountCurve" ref="aed718c4358fb9121b3421566c9e0be55" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend class <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html">FittedBondDiscountCurve</a><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00198">198</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2c0780f412eb30de6bda3dae5bfa931b"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::constrainAtZero_" ref="a2c0780f412eb30de6bda3dae5bfa931b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classbool.html">bool</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a2c0780f412eb30de6bda3dae5bfa931b">QuantLib::FittedBondDiscountCurve::FittingMethod::constrainAtZero_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>constrains discount function to unity at \( T=0 \), if true </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00226">226</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

<p>Referenced by <a class="el" href="nonlinearfittingmethods_8cpp_source.html#l00039">QuantLib::ExponentialSplinesFitting::discountFunction()</a>, <a class="el" href="nonlinearfittingmethods_8cpp_source.html#l00158">QuantLib::CubicBSplinesFitting::discountFunction()</a>, <a class="el" href="nonlinearfittingmethods_8cpp_source.html#l00202">QuantLib::SimplePolynomialFitting::discountFunction()</a>, and <a class="el" href="nonlinearfittingmethods_8cpp_source.html#l00035">QuantLib::ExponentialSplinesFitting::size()</a>.</p>

</div>
</div>
<a class="anchor" id="a3b734c5f5788da3428650f95eb8af75b"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::costFunction_" ref="a3b734c5f5788da3428650f95eb8af75b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method_1_1_fitting_cost.html">FittingCost</a>&gt; <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3b734c5f5788da3428650f95eb8af75b">QuantLib::FittedBondDiscountCurve::FittingMethod::costFunction_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>base class sets this cost function used in the optimization routine </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00237">237</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4f436ad04cd6b6206e14f491debef066"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::costValue_" ref="a4f436ad04cd6b6206e14f491debef066" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a372ac5c1a422a6b276fe0552d4d83f50">Real</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a4f436ad04cd6b6206e14f491debef066">QuantLib::FittedBondDiscountCurve::FittingMethod::costValue_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00247">247</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3dee794ba5dac372f875b62d3b6e5c43"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::curve_" ref="a3dee794ba5dac372f875b62d3b6e5c43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html">FittedBondDiscountCurve</a>* <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a3dee794ba5dac372f875b62d3b6e5c43">QuantLib::FittedBondDiscountCurve::FittingMethod::curve_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>internal reference to the <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html" title="Discount curve fitted to a set of fixed-coupon bonds.">FittedBondDiscountCurve</a> instance </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00228">228</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4bb64cb440e5acd113dc6b997e2babcf"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::guessSolution_" ref="a4bb64cb440e5acd113dc6b997e2babcf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_array.html">Array</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a4bb64cb440e5acd113dc6b997e2babcf">QuantLib::FittedBondDiscountCurve::FittingMethod::guessSolution_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>optional guess solution to be passed into constructor. </p>
<p>The idea is to use a previous solution as a guess solution to the discount curve, in an attempt to speed up calculations. </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00235">235</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a083070514a4fe6cd5c4d86ea1bb07543"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::numberOfIterations_" ref="a083070514a4fe6cd5c4d86ea1bb07543" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_quant_lib.html#a8ac1a45a37d8d3dda438a2e59e222620">Integer</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a083070514a4fe6cd5c4d86ea1bb07543">QuantLib::FittedBondDiscountCurve::FittingMethod::numberOfIterations_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00245">245</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

<p>Referenced by <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00283">numberOfIterations()</a>.</p>

</div>
</div>
<a class="anchor" id="af3084426c6057ea8302006cfb22c3e70"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::solution_" ref="af3084426c6057ea8302006cfb22c3e70" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_array.html">Array</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#af3084426c6057ea8302006cfb22c3e70">QuantLib::FittedBondDiscountCurve::FittingMethod::solution_</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>solution array found from optimization, set in <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#a153acf9288eb5e8e0dd4632f62960d3b">calculate()</a> </p>

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00230">230</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

<p>Referenced by <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00277">QuantLib::FittedBondDiscountCurve::discountImpl()</a>.</p>

</div>
</div>
<a class="anchor" id="aa6985a27eee2f1eb74515e302764b7e2"></a><!-- doxytag: member="QuantLib::FittedBondDiscountCurve::FittingMethod::weights_" ref="aa6985a27eee2f1eb74515e302764b7e2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_quant_lib_1_1_array.html">Array</a> <a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html#aa6985a27eee2f1eb74515e302764b7e2">QuantLib::FittedBondDiscountCurve::FittingMethod::weights_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="fittedbonddiscountcurve_8hpp_source.html#l00242">242</a> of file <a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/termstructures/yield/<a class="el" href="fittedbonddiscountcurve_8hpp_source.html">fittedbonddiscountcurve.hpp</a></li>
<li>/home/deriversatile/QuantLib/QuantLibQt/ql/termstructures/yield/<a class="el" href="fittedbonddiscountcurve_8cpp_source.html">fittedbonddiscountcurve.cpp</a></li>
</ul>
</div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespace_quant_lib.html">QuantLib</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve.html">FittedBondDiscountCurve</a>      </li>
      <li class="navelem"><a class="el" href="class_quant_lib_1_1_fitted_bond_discount_curve_1_1_fitting_method.html">FittingMethod</a>      </li>

    <li class="footer">Generated on Sat Aug 25 2012 13:51:15 for QuantLib by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
